//>>built
define("codemirror4/test/multi_test",["dojo","dijit","dojox"],function(k,l,m){(function(){function c(a){var f=a.listSelections(),b=(arguments.length-1)/4;if(f.length!=b)throw new Failure("expected "+b+" selections, found "+f.length);for(var e=0,c=1;e<b;e++,c+=4){var d=Pos(arguments[c],arguments[c+1]),h=Pos(arguments[c+2],arguments[c+3]);eqPos(f[e].anchor,d,"anchor of selection "+e);eqPos(f[e].head,h,"head of selection "+e)}}function d(a){var b=a.listSelections(),c=(arguments.length-1)/2;if(b.length!=
c)throw new Failure("expected "+c+" selections, found "+b.length);for(var e=0,d=1;e<c;e++,d+=2){eqPos(b[e].anchor,b[e].head,"something selected for "+e);var g=Pos(arguments[d],arguments[d+1]);eqPos(b[e].head,g,"selection "+e)}}function b(a){for(var b=[],c=1;c<arguments.length;c++){var d=arguments[c];d.head?b.push(d):b.push({head:d,anchor:d})}a.setSelections(b,b.length-1)}namespace="multi_";testCM("getSelection",function(a){b(a,{anchor:Pos(0,0),head:Pos(1,2)},{anchor:Pos(2,2),head:Pos(2,0)});eq(a.getSelection(),
"1234\n56\n90");eq(a.getSelection(!1).join("|"),"1234|56|90");eq(a.getSelections().join("|"),"1234\n56|90")},{value:"1234\n5678\n90"});testCM("setSelection",function(a){b(a,Pos(3,0),Pos(0,0),{anchor:Pos(2,5),head:Pos(1,0)});c(a,0,0,0,0,2,5,1,0,3,0,3,0);a.setSelection(Pos(1,2),Pos(1,1));c(a,1,2,1,1);b(a,{anchor:Pos(1,1),head:Pos(2,4)},{anchor:Pos(0,0),head:Pos(1,3)},Pos(3,0),Pos(2,2));c(a,0,0,2,4,3,0,3,0);a.setSelections([{anchor:Pos(0,1),head:Pos(0,2)},{anchor:Pos(1,1),head:Pos(1,2)},{anchor:Pos(2,
1),head:Pos(2,2)}],1);eqPos(a.getCursor("head"),Pos(1,2));eqPos(a.getCursor("anchor"),Pos(1,1));eqPos(a.getCursor("from"),Pos(1,1));eqPos(a.getCursor("to"),Pos(1,2));a.setCursor(Pos(1,1));d(a,1,1)},{value:"abcde\nabcde\nabcde\n"});testCM("somethingSelected",function(a){b(a,Pos(0,1),{anchor:Pos(0,3),head:Pos(0,5)});eq(a.somethingSelected(),!0);b(a,Pos(0,1),Pos(0,3),Pos(0,5));eq(a.somethingSelected(),!1)},{value:"123456789"});testCM("extendSelection",function(a){b(a,Pos(0,1),Pos(1,1),Pos(2,1));a.setExtending(!0);
a.extendSelections([Pos(0,2),Pos(1,0),Pos(2,3)]);c(a,0,1,0,2,1,1,1,0,2,1,2,3);a.extendSelection(Pos(2,4),Pos(2,0));c(a,2,4,2,0)},{value:"1234\n1234\n1234"});testCM("addSelection",function(a){b(a,Pos(0,1),Pos(1,1));a.addSelection(Pos(0,0),Pos(0,4));c(a,0,0,0,4,1,1,1,1);a.addSelection(Pos(2,2));c(a,0,0,0,4,1,1,1,1,2,2,2,2)},{value:"1234\n1234\n1234"});testCM("replaceSelection",function(a){var b=[{anchor:Pos(0,0),head:Pos(0,1)},{anchor:Pos(0,2),head:Pos(0,3)},{anchor:Pos(0,4),head:Pos(0,5)},{anchor:Pos(2,
1),head:Pos(2,4)},{anchor:Pos(2,5),head:Pos(2,6)}];a.setValue("123456\n123456\n123456");a.setSelections(b);a.replaceSelection("ab","around");eq(a.getValue(),"ab2ab4ab6\n123456\n1ab5ab");c(a,0,0,0,2,0,3,0,5,0,6,0,8,2,1,2,3,2,4,2,6);a.setValue("123456\n123456\n123456");a.setSelections(b);a.replaceSelection("","around");eq(a.getValue(),"246\n123456\n15");c(a,0,0,0,0,0,1,0,1,0,2,0,2,2,1,2,1,2,2,2,2);a.setValue("123456\n123456\n123456");a.setSelections(b);a.replaceSelection("X\nY\nZ","around");c(a,0,0,
2,1,2,2,4,1,4,2,6,1,8,1,10,1,10,2,12,1);a.replaceSelection("a","around");c(a,0,0,0,1,0,2,0,3,0,4,0,5,2,1,2,2,2,3,2,4);a.replaceSelection("xy","start");c(a,0,0,0,0,0,3,0,3,0,6,0,6,2,1,2,1,2,4,2,4);a.replaceSelection("z\nf");c(a,1,1,1,1,2,1,2,1,3,1,3,1,6,1,6,1,7,1,7,1);eq(a.getValue(),"z\nfxy2z\nfxy4z\nfxy6\n123456\n1z\nfxy5z\nfxy")});testCM("indentSelection",function(a){b(a,Pos(0,1),Pos(1,1));a.indentSelection(4);eq(a.getValue(),"    foo\n    bar\nbaz");b(a,Pos(0,2),Pos(0,3),Pos(0,4));a.indentSelection(-2);
eq(a.getValue(),"  foo\n    bar\nbaz");b(a,{anchor:Pos(0,0),head:Pos(1,2)},{anchor:Pos(1,3),head:Pos(2,0)});a.indentSelection(-2);eq(a.getValue(),"foo\n  bar\nbaz")},{value:"foo\nbar\nbaz"});testCM("killLine",function(a){b(a,Pos(0,1),Pos(0,2),Pos(1,1));a.execCommand("killLine");eq(a.getValue(),"f\nb\nbaz");a.execCommand("killLine");eq(a.getValue(),"fbbaz");a.setValue("foo\nbar\nbaz");b(a,Pos(0,1),{anchor:Pos(0,2),head:Pos(2,1)});a.execCommand("killLine");eq(a.getValue(),"faz")},{value:"foo\nbar\nbaz"});
testCM("deleteLine",function(a){b(a,Pos(0,0),{head:Pos(0,1),anchor:Pos(2,0)},Pos(4,0));a.execCommand("deleteLine");eq(a.getValue(),"4\n6\n7");b(a,Pos(2,1));a.execCommand("deleteLine");eq(a.getValue(),"4\n6\n")},{value:"1\n2\n3\n4\n5\n6\n7"});testCM("deleteH",function(a){b(a,Pos(0,4),{anchor:Pos(1,4),head:Pos(1,5)});a.execCommand("delWordAfter");eq(a.getValue(),"foo bar baz\nabc ef ghi\n");a.execCommand("delWordAfter");eq(a.getValue(),"foo  baz\nabc  ghi\n");a.execCommand("delCharBefore");a.execCommand("delCharBefore");
eq(a.getValue(),"fo baz\nab ghi\n");b(a,Pos(0,3),Pos(0,4),Pos(0,5));a.execCommand("delWordAfter");eq(a.getValue(),"fo \nab ghi\n")},{value:"foo bar baz\nabc def ghi\n"});testCM("goLineStart",function(a){b(a,Pos(0,2),Pos(0,3),Pos(1,1));a.execCommand("goLineStart");d(a,0,0,1,0);b(a,Pos(1,1),Pos(0,1));a.setExtending(!0);a.execCommand("goLineStart");c(a,0,1,0,0,1,1,1,0)},{value:"foo\nbar\nbaz"});testCM("moveV",function(a){b(a,Pos(0,2),Pos(1,2));a.execCommand("goLineDown");d(a,1,2,2,2);a.execCommand("goLineUp");
d(a,0,2,1,2);a.execCommand("goLineUp");d(a,0,0,0,2);a.execCommand("goLineUp");d(a,0,0);b(a,Pos(0,2),Pos(1,2));a.setExtending(!0);a.execCommand("goLineDown");c(a,0,2,2,2)},{value:"12345\n12345\n12345"});testCM("moveH",function(a){b(a,Pos(0,1),Pos(0,3),Pos(0,5),Pos(2,3));a.execCommand("goCharRight");d(a,0,2,0,4,1,0,2,4);a.execCommand("goCharLeft");d(a,0,1,0,3,0,5,2,3);for(var c=0;15>c;c++)a.execCommand("goCharRight");d(a,2,4,2,5)},{value:"12345\n12345\n12345"});testCM("newlineAndIndent",function(a){b(a,
Pos(0,5),Pos(1,5));a.execCommand("newlineAndIndent");d(a,1,2,3,2);eq(a.getValue(),"x \x3d [\n  1];\ny \x3d [\n  2];");a.undo();eq(a.getValue(),"x \x3d [1];\ny \x3d [2];");d(a,0,5,1,5);b(a,Pos(0,5),Pos(0,6));a.execCommand("newlineAndIndent");d(a,1,2,2,0);eq(a.getValue(),"x \x3d [\n  1\n];\ny \x3d [2];")},{value:"x \x3d [1];\ny \x3d [2];",mode:"javascript"});testCM("goDocStartEnd",function(a){b(a,Pos(0,1),Pos(1,1));a.execCommand("goDocStart");d(a,0,0);b(a,Pos(0,1),Pos(1,1));a.execCommand("goDocEnd");
d(a,1,3);b(a,Pos(0,1),Pos(1,1));a.setExtending(!0);a.execCommand("goDocEnd");c(a,1,1,1,3)},{value:"abc\ndef"});testCM("selectionHistory",function(a){for(var b=0;3>b;++b)a.addSelection(Pos(0,2*b),Pos(0,2*b+1));a.execCommand("undoSelection");eq(a.getSelection(),"1\n2");a.execCommand("undoSelection");eq(a.getSelection(),"1");a.execCommand("undoSelection");eq(a.getSelection(),"");eqPos(a.getCursor(),Pos(0,0));a.execCommand("redoSelection");eq(a.getSelection(),"1");a.execCommand("redoSelection");eq(a.getSelection(),
"1\n2");a.execCommand("redoSelection");eq(a.getSelection(),"1\n2\n3")},{value:"1 2 3"})})()});
//# sourceMappingURL=multi_test.js.map