//>>built
(function(d){"object"==typeof exports&&"object"==typeof module?d(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror4/addon/selection/active-line",["../../lib/codemirror"],d):d(CodeMirror)})(function(d){function f(a){for(var b=0;b<a.state.activeLines.length;b++)a.removeLineClass(a.state.activeLines[b],"wrap",g),a.removeLineClass(a.state.activeLines[b],"background",h)}function l(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=b[c])return!1;
return!0}function e(a,b){for(var c=[],d=0;d<b.length;d++){var e=a.getLineHandleVisualStart(b[d].head.line);c[c.length-1]!=e&&c.push(e)}l(a.state.activeLines,c)||a.operation(function(){f(a);for(var b=0;b<c.length;b++)a.addLineClass(c[b],"wrap",g),a.addLineClass(c[b],"background",h);a.state.activeLines=c})}function k(a,b){e(a,b.ranges)}var g="CodeMirror-activeline",h="CodeMirror-activeline-background";d.defineOption("styleActiveLine",!1,function(a,b,c){c=c&&c!=d.Init;b&&!c?(a.state.activeLines=[],e(a,
a.listSelections()),a.on("beforeSelectionChange",k)):!b&&c&&(a.off("beforeSelectionChange",k),f(a),delete a.state.activeLines)})});
//# sourceMappingURL=active-line.js.map