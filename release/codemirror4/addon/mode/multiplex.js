//>>built
(function(d){"object"==typeof exports&&"object"==typeof module?d(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror4/addon/mode/multiplex",["../../lib/codemirror"],d):d(CodeMirror)})(function(d){d.multiplexingMode=function(g){function m(a,c,b){return"string"==typeof c?a.indexOf(c,b):(a=c.exec(b?a.slice(b):a))?a.index+b:-1}var l=Array.prototype.slice.call(arguments,1),n=l.length;return{startState:function(){return{outer:d.startState(g),innerActive:null,inner:null}},
copyState:function(a){return{outer:d.copyState(g,a.outer),innerActive:a.innerActive,inner:a.innerActive&&d.copyState(a.innerActive.mode,a.inner)}},token:function(a,c){if(c.innerActive){var b=c.innerActive,e=a.string;if(!b.close&&a.sol())return c.innerActive=c.inner=null,this.token(a,c);f=b.close?m(e,b.close,a.pos):-1;if(f==a.pos)return a.match(b.close),c.innerActive=c.inner=null,b.delimStyle;-1<f&&(a.string=e.slice(0,f));var h=b.mode.token(a,c.inner);-1<f&&(a.string=e);b.innerStyle&&(h=h?h+" "+b.innerStyle:
b.innerStyle);return h}for(var b=Infinity,e=a.string,h=0;h<n;++h){var k=l[h],f=m(e,k.open,a.pos);if(f==a.pos)return a.match(k.open),c.innerActive=k,c.inner=d.startState(k.mode,g.indent?g.indent(c.outer,""):0),k.delimStyle;-1!=f&&f<b&&(b=f)}Infinity!=b&&(a.string=e.slice(0,b));f=g.token(a,c.outer);Infinity!=b&&(a.string=e);return f},indent:function(a,c){var b=a.innerActive?a.innerActive.mode:g;return!b.indent?d.Pass:b.indent(a.innerActive?a.inner:a.outer,c)},blankLine:function(a){var c=a.innerActive?
a.innerActive.mode:g;c.blankLine&&c.blankLine(a.innerActive?a.inner:a.outer);if(a.innerActive)"\n"===a.innerActive.close&&(a.innerActive=a.inner=null);else for(var b=0;b<n;++b){var e=l[b];"\n"===e.open&&(a.innerActive=e,a.inner=d.startState(e.mode,c.indent?c.indent(a.outer,""):0))}},electricChars:g.electricChars,innerMode:function(a){return a.inner?{state:a.inner,mode:a.innerActive.mode}:{state:a.outer,mode:g}}}}});
//# sourceMappingURL=multiplex.js.map