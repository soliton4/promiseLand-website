//>>built
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror4/addon/dialog/dialog",["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function l(a,c,b){a=a.getWrapperElement().appendChild(document.createElement("div"));a.className=b?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top";"string"==typeof c?a.innerHTML=c:a.appendChild(c);return a}function m(a,c){a.state.currentNotificationClose&&
a.state.currentNotificationClose();a.state.currentNotificationClose=c}c.defineExtension("openDialog",function(a,f,b){function e(){h||(h=!0,g.parentNode.removeChild(g))}m(this,null);var g=l(this,a,b&&b.bottom),h=!1,k=this,d=g.getElementsByTagName("input")[0];if(d){b&&b.value&&(d.value=b.value);c.on(d,"keydown",function(a){if(!b||!b.onKeyDown||!b.onKeyDown(a,d.value,e))if(13==a.keyCode||27==a.keyCode)d.blur(),c.e_stop(a),e(),k.focus(),13==a.keyCode&&f(d.value)});if(b&&b.onKeyUp)c.on(d,"keyup",function(a){b.onKeyUp(a,
d.value,e)});b&&b.value&&(d.value=b.value);d.focus();c.on(d,"blur",e)}else if(a=g.getElementsByTagName("button")[0])c.on(a,"click",function(){e();k.focus()}),a.focus(),c.on(a,"blur",e);return e});c.defineExtension("openConfirm",function(a,f,b){function e(){h||(h=!0,g.parentNode.removeChild(g),k.focus())}m(this,null);var g=l(this,a,b&&b.bottom);a=g.getElementsByTagName("button");var h=!1,k=this,d=1;a[0].focus();for(b=0;b<a.length;++b){var n=a[b];(function(a){c.on(n,"click",function(b){c.e_preventDefault(b);
e();a&&a(k)})})(f[b]);c.on(n,"blur",function(){--d;setTimeout(function(){0>=d&&e()},200)});c.on(n,"focus",function(){++d})}});c.defineExtension("openNotification",function(a,f){function b(){h||(h=!0,clearTimeout(k),e.parentNode.removeChild(e))}m(this,b);var e=l(this,a,f&&f.bottom),g=f&&(void 0===f.duration?5E3:f.duration),h=!1,k;c.on(e,"click",function(a){c.e_preventDefault(a);b()});g&&(k=setTimeout(b,f.duration))})});
//# sourceMappingURL=dialog.js.map