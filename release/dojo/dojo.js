//>>built
(function(c,p){var m,l,h=function(){},s=function(a){for(var b in a)return 0;return 1},k={}.toString,q=function(a){return"[object Function]"==k.call(a)},g=function(a){return"[object String]"==k.call(a)},b=function(a){return"[object Array]"==k.call(a)},e=function(a,b){if(a)for(var d=0;d<a.length;)b(a[d++])},a=function(a,b){for(var d in b)a[d]=b[d];return a},d=function(b,d){return a(Error(b),{src:"dojoLoader",info:d})},r=1,x=function(){return"_"+r++},t=function(a,b,d){return Za(a,b,d,0,t)},u=this,v=
u.document,A=v&&v.createElement("DiV"),w=t.has=function(a){return q(y[a])?y[a]=y[a](u,v,A):y[a]},y=w.cache=p.hasCache;w.add=function(a,b,d,e){(void 0===y[a]||e)&&(y[a]=b);return d&&w(a)};for(var H in c.has)w.add(H,c.has[H],0,1);var C=0,U=[],R=0,Y=h,$=h,Z;t.isXdUrl=h;t.initSyncLoader=function(a,b,d){R||(R=a,Y=b,$=d);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:U,modules:N,execQ:ga,getModule:ma,injectModule:Yb,setArrived:ia,signal:O,finishExec:$a,execModule:nb,
dojoRequirePlugin:R,getLegacyMode:function(){return C},guardCheckComplete:na}};var Ea=location.protocol,Fa=location.host;t.isXdUrl=function(a){return/^\./.test(a)?!1:/^\/\//.test(a)?!0:(a=a.match(/^([^\/\:]+\:)\/+([^\/]+)/))&&(a[1]!=Ea||Fa&&a[2]!=Fa)};w.add("dojo-force-activex-xhr",!v.addEventListener&&"file:"==window.location.protocol);w.add("native-xhr","undefined"!=typeof XMLHttpRequest);if(w("native-xhr")&&!w("dojo-force-activex-xhr"))Z=function(){return new XMLHttpRequest};else{var J=["Msxml2.XMLHTTP",
"Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],S;for(m=0;3>m;)try{if(S=J[m++],new ActiveXObject(S))break}catch(ja){}Z=function(){return new ActiveXObject(S)}}t.getXhr=Z;w.add("dojo-gettext-api",1);t.getText=function(a,b,e){var r=Z();r.open("GET",ob(a),!1);r.send(null);if(200==r.status||!location.host&&!r.status)e&&e(r.responseText,b);else throw d("xhrFailed",r.status);return r.responseText};var T=new Function("return eval(arguments[0]);");t.eval=function(a,b){return T(a+"\r\n////@ sourceURL\x3d"+b)};var I=
{},O=t.signal=function(a,d){var r=I[a];e(r&&r.slice(0),function(a){a.apply(null,b(d)?d:[d])})},ka=t.on=function(a,b){var d=I[a]||(I[a]=[]);d.push(b);return{remove:function(){for(var a=0;a<d.length;a++)if(d[a]===b){d.splice(a,1);break}}}},B=[],ta={},da=[],Q={},Ba=t.map={},V=[],N={},Pa="",W={},Ga={},Ha={},ba=0,F=function(a){var b,d,e,r;for(b in Ga)d=Ga[b],(e=b.match(/^url\:(.+)/))?W["url:"+ea(e[1],a)]=d:"*now"==b?r=d:"*noref"!=b&&(e=ca(b,a,!0),W[e.mid]=W["url:"+e.url]=d);r&&r(Ia(a));Ga={}},X=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(a){return"\\"+a})},Qa=function(a,b){b.splice(0,b.length);for(var d in a)b.push([d,a[d],RegExp("^"+X(d)+"(/|$)"),d.length]);b.sort(function(a,b){return b[3]-a[3]});return b},jc=function(a,b){e(a,function(a){b.push([g(a[0])?RegExp("^"+X(a[0])+"$"):a[0],a[1]])})},pb=function(b){var d=b.name;d||(d=b,b={name:d});b=a({main:"main"},b);b.location=b.location?b.location:d;b.packageMap&&(Ba[d]=b.packageMap);b.main.indexOf("./")||(b.main=b.main.substring(2));Q[d]=b},ab=[],qb=function(b,d,r){for(var c in b){"waitSeconds"==
c&&(t.waitms=1E3*(b[c]||0));"cacheBust"==c&&(Pa=b[c]?g(b[c])?b[c]:(new Date).getTime()+"":"");if("baseUrl"==c||"combo"==c)t[c]=b[c];if("async"==c){var h=b[c];t.legacyMode=C=g(h)&&/sync|legacyAsync/.test(h)?h:!h?"sync":!1;t.async=!C}b[c]!==y&&(t.rawConfig[c]=b[c],"has"!=c&&w.add("config-"+c,b[c],0,d))}t.baseUrl||(t.baseUrl="./");/\/$/.test(t.baseUrl)||(t.baseUrl+="/");for(c in b.has)w.add(c,b.has[c],0,d);e(b.packages,pb);for(l in b.packagePaths)e(b.packagePaths[l],function(a){var b=l+"/"+a;g(a)&&(a=
{name:a});a.location=b;pb(a)});Qa(a(Ba,b.map),V);e(V,function(a){a[1]=Qa(a[1],[]);"*"==a[0]&&(V.star=a)});Qa(a(ta,b.paths),da);jc(b.aliases,B);if(d)ab.push({config:b.config});else for(c in b.config)d=ma(c,r),d.config=a(d.config||{},b.config[c]);b.cache&&(F(),Ga=b.cache,b.cache["*noref"]&&F());O("config",[b,t.rawConfig])};w("dojo-cdn");var zb=v.getElementsByTagName("script");m=0;for(var qa,Ja,Ra,Na;m<zb.length;){qa=zb[m++];if((Ra=qa.getAttribute("src"))&&(Na=Ra.match(/(((.*)\/)|^)dojo\.js(\W|$)/i)))Ja=
Na[3]||"",p.baseUrl=p.baseUrl||Ja,ba=qa;if(Ra=qa.getAttribute("data-dojo-config")||qa.getAttribute("djConfig"))Ha=t.eval("({ "+Ra+" })","data-dojo-config"),ba=qa}t.rawConfig={};qb(p,1);w("dojo-cdn")&&((Q.dojo.location=Ja)&&(Ja+="/"),Q.dijit.location=Ja+"../dijit/",Q.dojox.location=Ja+"../dojox/");qb(c,1);qb(Ha,1);var Sa=function(a){na(function(){e(a.deps,Yb)})},Za=function(e,r,c,k,q){var l;if(g(e)){if((l=ma(e,k,!0))&&l.executed)return l.result;throw d("undefinedModule",e);}b(e)||(qb(e,0,k),e=r,r=
c);if(b(e))if(e.length){c="require*"+x();for(var m,s=[],u=0;u<e.length;)m=e[u++],s.push(ma(m,k));l=a(Ab("",c,0,""),{injected:2,deps:s,def:r||h,require:k?k.require:t,gc:1});N[l.mid]=l;Sa(l);var w=ua&&"sync"!=C;na(function(){nb(l,w)});l.executed||ga.push(l);bb()}else r&&r();return q},Ia=function(b){if(!b)return t;var d=b.require;d||(d=function(a,e,r){return Za(a,e,r,b,d)},b.require=a(d,t),d.module=b,d.toUrl=function(a){return ea(a,b)},d.toAbsMid=function(a){return fa(a,b)},d.syncLoadNls=function(a){a=
ca(a,b);var d=N[a.mid];if(!d||!d.executed)if(cb=W[a.mid]||W["url:"+a.url])Jb(cb),d=N[a.mid];return d&&d.executed&&d.result});return d},ga=[],Ta=[],la={},Oa=function(a){a.injected=1;la[a.mid]=1;a.url&&(la[a.url]=a.pack||1);Bb()},ia=function(a){a.injected=2;delete la[a.mid];a.url&&delete la[a.url];s(la)&&(Zb(),"xd"==C&&(C="sync"))},$b=t.idle=function(){return!Ta.length&&s(la)&&!ga.length&&!ua},Ua=function(a,b){if(b)for(var d=0;d<b.length;d++)if(b[d][2].test(a))return b[d];return 0},E=function(a){var b=
[],d,e;for(a=a.replace(/\\/g,"/").split("/");a.length;)d=a.shift(),".."==d&&b.length&&".."!=e?(b.pop(),e=b[b.length-1]):"."!=d&&b.push(e=d);return b.join("/")},Ab=function(a,b,d,e){var r=t.isXdUrl(e);return{pid:a,mid:b,pack:d,url:e,executed:0,def:0,isXd:r,isAmd:!!(r||Q[a]&&Q[a].isAmd)}},K=function(a,b,r,c,g,t,h,k,l){var x,m,s,u;u=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||u&&!b)return Ab(0,a,0,a);a=E(u?b.mid+"/../"+a:a);if(/^\./.test(a))throw d("irrationalPath",a);b&&(s=Ua(b.mid,t));(s=(s=s||
t.star)&&Ua(a,s[1]))&&(a=s[1]+a.substring(s[3]));b=(Na=a.match(/^([^\/]+)(\/(.+))?$/))?Na[1]:"";(x=r[b])?a=b+"/"+(m=Na[3]||x.main):b="";var y=0;e(k,function(b){var d=a.match(b[0]);d&&0<d.length&&(y=q(b[1])?a.replace(b[0],b[1]):b[1])});if(y)return K(y,0,r,c,g,t,h,k,l);if(r=c[a])return l?Ab(r.pid,r.mid,r.pack,r.url):c[a];c=(s=Ua(a,h))?s[1]+a.substring(s[3]):b?x.location+"/"+m:w("config-tlmSiblingOfDojo")?"../"+a:a;/(^\/)|(\:)/.test(c)||(c=g+c);return Ab(b,a,x,E(c+".js"))},ca=function(a,b,d){return K(a,
b,Q,N,t.baseUrl,d?[]:V,d?[]:da,d?[]:B)},rb=function(a,b,d){return a.normalize?a.normalize(b,function(a){return fa(a,d)}):fa(b,d)},sb=0,ma=function(a,b,d){var e,r;(e=a.match(/^(.+?)\!(.*)$/))?(r=ma(e[1],b,d),"sync"==C&&!r.executed&&(Yb(r),2===r.injected&&!r.executed&&na(function(){nb(r)}),r.executed?tb(r):ga.unshift(r)),5===r.executed&&!r.load&&tb(r),r.load?(e=rb(r,e[2],b),a=r.mid+"!"+(r.dynamic?++sb+"!":"")+e):(e=e[2],a=r.mid+"!"+ ++sb+"!waitingForPlugin"),a={plugin:r,mid:a,req:Ia(b),prid:e}):a=ca(a,
b);return N[a.mid]||!d&&(N[a.mid]=a)},fa=t.toAbsMid=function(a,b){return ca(a,b).mid},ea=t.toUrl=function(a,b){var d=ca(a+"/x",b),e=d.url;return ob(0===d.pid?a:e.substring(0,e.length-5))},va={injected:2,executed:5,def:3,result:3},bc=function(b){return N[b]=a({mid:b},va)},cc=bc("require"),Ca=bc("exports"),db=bc("module"),Ka={},ub=0,tb=function(a){var b=a.result;a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},Lc=function(b){var d={};e(b.loadQ,function(e){var r=rb(b,e.prid,e.req.module),
c=b.dynamic?e.mid.replace(/waitingForPlugin$/,r):b.mid+"!"+r,r=a(a({},e),{mid:c,prid:r,injected:0});N[c]||Kc(N[c]=r);d[e.mid]=N[c];ia(e);delete N[e.mid]});b.loadQ=0;var r=function(a){for(var b=a.deps||[],e=0;e<b.length;e++)(a=d[b[e].mid])&&(b[e]=a)},c;for(c in N)r(N[c]);e(ga,r)},$a=function(a){t.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=ub++;e(a.provides,function(a){a()});a.loadQ&&(tb(a),Lc(a));for(m=0;m<ga.length;)ga[m]===a?ga.splice(m,1):m++;/^require\*/.test(a.mid)&&delete N[a.mid]},
Kb=[],nb=function(a,b){if(4===a.executed)return t.trace("loader-circular-dependency",[Kb.concat(a.mid).join("-\x3e")]),!a.def||b?Ka:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return Ka;var e=a.mid,r=a.deps||[],c,g=[],h=0;for(a.executed=4;c=r[h++];){c=c===cc?Ia(a):c===Ca?a.cjs.exports:c===db?a.cjs:nb(c,b);if(c===Ka)return a.executed=0,t.trace("loader-exec-module",["abort",e]),Ka;g.push(c)}t.trace("loader-run-factory",[a.mid]);var e=a.def,k;U.unshift(a);if(w("config-dojo-loader-catches"))try{k=
q(e)?e.apply(null,g):e}catch(l){O("error",a.result=d("factoryThrew",[a,l]))}else k=q(e)?e.apply(null,g):e;a.result=void 0===k&&a.cjs?a.cjs.exports:k;U.shift(a);$a(a)}return a.result},ua=0,na=function(a){try{ua++,a()}finally{ua--}$b()&&O("idle",[])},bb=function(){ua||na(function(){Y();for(var a,b,d=0;d<ga.length;)a=ub,b=ga[d],nb(b),a!=ub?(Y(),d=0):d++})};void 0===w("dojo-loader-eval-hint-url")&&w.add("dojo-loader-eval-hint-url",1);var ob=function(a){a+="";return a+(Pa?(/\?/.test(a)?"\x26":"?")+Pa:
"")},Kc=function(a){var b=a.plugin;5===b.executed&&!b.load&&tb(b);var d=function(b){a.result=b;ia(a);$a(a);bb()};b.load?b.load(a.prid,a.req,d):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],ga.unshift(b),Yb(b))},cb=0,La=0,eb=0,Jb=function(a,b){w("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));eb=1;if(w("config-dojo-loader-catches"))try{a===cb?cb.call(null):t.eval(a,w("dojo-loader-eval-hint-url")?b.url:b.mid)}catch(e){O("error",d("evalModuleThrew",b))}else a===cb?cb.call(null):t.eval(a,w("dojo-loader-eval-hint-url")?
b.url:b.mid);eb=0},Yb=function(b){var r=b.mid,c=b.url;if(!b.executed&&!b.injected&&!(la[r]||b.url&&(b.pack&&la[b.url]===b.pack||1==la[b.url])))if(Oa(b),b.plugin)Kc(b);else{var g=function(){Mc(b);if(2!==b.injected){if(w("dojo-enforceDefine")){O("error",d("noDefine",b));return}ia(b);a(b,va);t.trace("loader-define-nonmodule",[b.url])}C?!U.length&&bb():bb()};if(cb=W[r]||W["url:"+b.url])t.trace("loader-inject",["cache",b.mid,c]),Jb(cb,b),g();else{if(C)if(b.isXd)"sync"==C&&(C="xd");else if(!(b.isAmd&&"sync"!=
C)){var h=function(a){if("sync"==C){U.unshift(b);Jb(a,b);U.shift();Mc(b);b.cjs||(ia(b),$a(b));if(b.finish){a=r+"*finish";var d=b.finish;delete b.finish;Cb(a,["dojo",("dojo/require!"+d.join(",")).replace(/\./g,"/")],function(a){e(d,function(b){a.require(b)})});ga.unshift(ma(a))}g()}else(a=$(b,a))?(Jb(a,b),g()):(La=b,t.injectUrl(ob(c),g,b),La=0)};t.trace("loader-inject",["xhr",b.mid,c,"sync"!=C]);if(w("config-dojo-loader-catches"))try{t.getText(c,"sync"!=C,h)}catch(k){O("error",d("xhrInjectFailed",
[b,k]))}else t.getText(c,"sync"!=C,h);return}t.trace("loader-inject",["script",b.mid,c]);La=b;t.injectUrl(ob(c),g,b);La=0}}},kc=function(b,e,r){t.trace("loader-define-module",[b.mid,e]);var c=b.mid;if(2===b.injected)return O("error",d("multipleDefine",b)),b;a(b,{deps:e,def:r,cjs:{id:b.mid,uri:b.url,exports:b.result={},setExports:function(a){b.cjs.exports=a},config:function(){return b.config}}});for(var g=0;e[g];g++)e[g]=ma(e[g],b);C&&!la[c]&&(Sa(b),ga.push(b),bb());ia(b);!q(r)&&!e.length&&(b.result=
r,$a(b));return b},Mc=function(a,b){for(var d=[],r,c;Ta.length;)c=Ta.shift(),b&&(c[0]=b.shift()),r=c[0]&&ma(c[0])||a,d.push([r,c[1],c[2]]);F(a);e(d,function(a){Sa(kc.apply(null,a))})},Db=0,Zb=h,Bb=h,Zb=function(){Db&&clearTimeout(Db);Db=0},Bb=function(){Zb();t.waitms&&(Db=window.setTimeout(function(){Zb();O("error",d("timeout",la))},t.waitms))};w.add("ie-event-behavior",v.attachEvent&&"undefined"===typeof Windows&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var fb=function(a,
b,d,e){if(w("ie-event-behavior"))return a.attachEvent(d,e),function(){a.detachEvent(d,e)};a.addEventListener(b,e,!1);return function(){a.removeEventListener(b,e,!1)}},Nc=fb(window,"load","onload",function(){t.pageLoaded=1;"complete"!=v.readyState&&(v.readyState="complete");Nc()}),zb=v.getElementsByTagName("script");for(m=0;!ba;)if(!/^dojo/.test((qa=zb[m++])&&qa.type))ba=qa;t.injectUrl=function(a,b,e){e=e.node=v.createElement("script");var r=fb(e,"load","onreadystatechange",function(a){a=a||window.event;
var d=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(d.readyState))r(),c(),b&&b()}),c=fb(e,"error","onerror",function(b){r();c();O("error",d("scriptError",[a,b]))});e.type="text/javascript";e.charset="utf-8";e.src=a;ba.parentNode.insertBefore(e,ba);return e};t.log=function(){try{for(var a=0;a<arguments.length;a++);}catch(b){}};t.trace=h;var Cb=function(a,b,e){var r=arguments.length,c=["require","exports","module"],h=[0,a,b];1==r?h=[0,q(a)?c:[],a]:2==r&&g(a)?h=[a,q(b)?c:[],b]:3==
r&&(h=[a,b,e]);t.trace("loader-define",h.slice(0,2));if((r=h[0]&&ma(h[0]))&&!la[r.mid])Sa(kc(r,h[1],h[2]));else if(!w("ie-event-behavior")||eb)Ta.push(h);else{r=r||La;if(!r)for(a in la)if((c=N[a])&&c.node&&"interactive"===c.node.readyState){r=c;break}r?(F(r),Sa(kc(r,h[1],h[2]))):O("error",d("ieDefineFailed",h[0]));bb()}};Cb.amd={vendor:"dojotoolkit.org"};a(a(t,p.loaderPatch),c.loaderPatch);ka("error",function(a){try{if(console.error(a),a instanceof Error)for(var b in a);}catch(d){}});a(t,{uid:x,cache:W,
packs:Q});if(u.define)O("error",d("defineAlreadyDefined",0));else{u.define=Cb;u.require=t;e(ab,function(a){qb(a)});var lc=Ha.deps||c.deps||p.deps,mc=Ha.callback||c.callback||p.callback;t.boot=lc||mc?[lc||[],mc]:0}})(this.dojoConfig||this.djConfig||this.require||{},{async:1,deps:["app/app"],hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-firebug":0,"dojo-loader":1,dom:1,"host-browser":1},locale:"en-us",packages:[{location:".",name:"dojo"},{location:"../dijit",
name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../app",name:"app"},{location:"../sol",name:"sol"},{location:"../codemirror4",main:"lib/codemirror.js",name:"codemirror4"},{location:"../style",name:"style"},{location:"../image",name:"image"},{location:"../promiseland",main:"promiseland.js",name:"promiseland"},{location:"../vast-shadow",name:"vast-shadow"}]});
require({cache:{"app/app":function(){(function(){var c,p;if("object"==typeof exports&&"object"==typeof module)p=function(c,h){var m=0,k=c.length,q=[];for(m;m<k;++m)q.push(require(c[m]));h.apply(h,q)},c=function(c,h){p(c,function(){module.exports=h.apply(h,arguments)})};else if("function"==typeof define&&define.amd){var m=define;p=require;c=function(c,h){c instanceof Array?c.unshift("require"):(h=c,c=["require"]);m(c,function(){p=arguments[0];for(var c=[],k=1;k<arguments.length;++k)c.push(arguments[k]);
return h.apply(h,c)})};p=require}else alert("not working out!");c(["promiseland"],function(c){var h=p,m=c.Promise;new m;var k=function(a){var b=new m;try{h([a],function(a){c.isPromiseLandPromisingModule(a)?a.then(function(a){b.resolve(a)},function(a){b.reject(a)}):b.resolve(a)})}catch(e){b.reject(e)}return b.promise},q=c.classSystem;if(c._hasModule({hashStr:"411d8f9709c925bf7cb81b0f70a5fa65"}))return c._getModule("411d8f9709c925bf7cb81b0f70a5fa65");var g=new m;c._registerModule({hashStr:"411d8f9709c925bf7cb81b0f70a5fa65",
module:g,promising:!0});var b;try{b=Infinity}catch(e){}q.getBuiltinType("var");(function(){var a=function(a){return function(b){try{a(b)}catch(d){g.reject(d)}}},d,e,c,t;a(function(){k("./wgt/ReadMore").then(a(function(h){d=h;k("./mouseTrack").then(a(function(h){h;k("dojo/query").then(a(function(h){e=h;c=e(".promiseLandCode");k("codemirror4/lib/codemirror").then(a(function(h){t=h;k("codemirror4/mode/promiseland/promiseland").then(a(function(a){c.forEach(function(a){t.fromTextArea(a,{mode:"text/promiseland",
lineNumbers:!0,viewportMargin:b})});c=e(".readMore");c.forEach(function(a){new d({},a)});g.resolve({})}))}))}))}))}))})();return g})();return g})})()},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(c,p){var m=document.createElement("div"),l=m.matchesSelector||m.webkitMatchesSelector||m.mozMatchesSelector||m.msMatchesSelector||m.oMatchesSelector,h=m.querySelectorAll,s=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;c.add("dom-matches-selector",!!l);c.add("dom-qsa",
!!h);var k=function(e,a){if(b&&-1<e.indexOf(","))return b(e,a);var d=a?a.ownerDocument||a:p.doc||document,r=(h?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(e);a=a||d;if(r){if(r[2]){var c=p.byId?p.byId(r[2],d):d.getElementById(r[2]);if(!c||r[1]&&r[1]!=c.tagName.toLowerCase())return[];if(a!=d)for(d=c;d!=a;)if(d=d.parentNode,!d)return[];return r[3]?k(r[3],c):[c]}if(r[3]&&a.getElementsByClassName)return a.getElementsByClassName(r[4]);
if(r[5])if(c=a.getElementsByTagName(r[5]),r[4]||r[6])e=(r[4]||"")+r[6];else return c}if(h)return 1===a.nodeType&&"object"!==a.nodeName.toLowerCase()?q(a,e,a.querySelectorAll):a.querySelectorAll(e);c||(c=a.getElementsByTagName("*"));for(var r=[],d=0,t=c.length;d<t;d++){var l=c[d];1==l.nodeType&&g(l,e,a)&&r.push(l)}return r},q=function(b,a,d){var c=b,g=b.getAttribute("id"),h=g||"__dojo__",k=b.parentNode,q=/^\s*[+~]/.test(a);if(q&&!k)return[];g?h=h.replace(/'/g,"\\$\x26"):b.setAttribute("id",h);q&&k&&
(b=b.parentNode);a=a.match(s);for(k=0;k<a.length;k++)a[k]="[id\x3d'"+h+"'] "+a[k];a=a.join(",");try{return d.call(b,a)}finally{g||c.removeAttribute("id")}};if(!c("dom-matches-selector"))var g=function(){function b(a,d,e){var c=d.charAt(0);if('"'==c||"'"==c)d=d.slice(1,-1);d=d.replace(/\\/g,"");var r=k[e||""];return function(b){return(b=b.getAttribute(a))&&r(b,d)}}function a(a){return function(b,d){for(;(b=b.parentNode)!=d;)if(a(b,d))return!0}}function d(a){return function(b,d){b=b.parentNode;return a?
b!=d&&a(b,d):b==d}}function c(a,b){return a?function(d,e){return b(d)&&a(d,e)}:b}var g="div"==m.tagName?"toLowerCase":"toUpperCase",h={"":function(a){a=a[g]();return function(b){return b.tagName==a}},".":function(a){var b=" "+a+" ";return function(d){return-1<d.className.indexOf(a)&&-1<(" "+d.className+" ").indexOf(b)}},"#":function(a){return function(b){return b.id==a}}},k={"^\x3d":function(a,b){return 0==a.indexOf(b)},"*\x3d":function(a,b){return-1<a.indexOf(b)},"$\x3d":function(a,b){return a.substring(a.length-
b.length,a.length)==b},"~\x3d":function(a,b){return-1<(" "+a+" ").indexOf(" "+b+" ")},"|\x3d":function(a,b){return 0==(a+"-").indexOf(b+"-")},"\x3d":function(a,b){return a==b},"":function(a,b){return!0}},q={};return function(g,k,l){var m=q[k];if(!m){if(k.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,function(g,k,q,l,x,s,u){l?m=c(m,h[q||""](l.replace(/\\/g,""))):k?m=(" "==k?a:d)(m):x&&(m=c(m,b(x,u,s)));return""}))throw Error("Syntax error in query");
if(!m)return!0;q[k]=m}return m(g,l)}}();if(!c("dom-qsa"))var b=function(b,a){for(var d=b.match(s),c=[],g=0;g<d.length;g++){b=new String(d[g].replace(/\s*$/,""));b.indexOf=escape;for(var h=k(b,a),q=0,l=h.length;q<l;q++){var m=h[q];c[m.sourceIndex]=m}}d=[];for(g in c)d.push(c[g]);return d};k.match=l?function(b,a,d){return d&&9!=d.nodeType?q(d,a,function(a){return l.call(b,a)}):l.call(b,a)}:g;return k})},"dojo/has":function(){define(["require","module"],function(c,p){var m=c.has||function(){};m.add("dom-addeventlistener",
!!document.addEventListener);m.add("touch","ontouchstart"in document||0<window.navigator.msMaxTouchPoints);m.add("device-width",screen.availWidth||innerWidth);var l=document.createElement("form");m.add("dom-attributes-explicit",0==l.attributes.length);m.add("dom-attributes-specified-flag",0<l.attributes.length&&40>l.attributes.length);m.clearElement=function(c){c.innerHTML="";return c};m.normalize=function(c,l){var k=c.match(/[\?:]|[^:\?]*/g),q=0,g=function(b){var e=k[q++];if(":"==e)return 0;if("?"==
k[q++]){if(!b&&m(e))return g();g(!0);return g(b)}return e||0};return(c=g())&&l(c)};m.load=function(c,l,k){c?l([c],k):k()};return m})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(c,p,m,l){var h,s={},k={},q={config:p,global:this,dijit:s,dojox:k},s={dojo:["dojo",q],dijit:["dijit",s],dojox:["dojox",k]};l=m.map&&m.map[l.id.match(/[^\/]+/)[0]];for(h in l)s[h]?s[h][0]=l[h]:s[h]=[l[h],{}];for(h in s)l=s[h],l[1]._scopeName=l[0],p.noGlobals||(this[l[0]]=l[1]);q.scopeMap=
s;q.baseUrl=q.config.baseUrl=m.baseUrl;q.isAsync=m.async;q.locale=p.locale;l="$Rev$".match(/[0-9a-f]{7,}/);q.version={major:1,minor:10,patch:0,flag:"-pre",revision:l?l[0]:NaN,toString:function(){var b=q.version;return b.major+"."+b.minor+"."+b.patch+b.flag+" ("+b.revision+")"}};Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(q);q.exit=function(){};"undefined"!=typeof console||(console={});var s="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" "),
g;for(l=0;g=s[l++];)console[g]||function(){var b=g+"";console[b]="log"in console?function(){var e=Array.apply({},arguments);e.unshift(b+":");console.log(e.join(" "))}:function(){};console[b]._fake=!0}();c.add("dojo-debug-messages",!!p.isDebug);q.deprecated=q.experimental=function(){};c("dojo-debug-messages")&&(q.deprecated=function(b,e,a){},q.experimental=function(b,e){});if(p.modulePaths){q.deprecated("dojo.modulePaths","use paths configuration");c={};for(h in p.modulePaths)c[h.replace(/\./g,"/")]=
p.modulePaths[h];m({paths:c})}q.moduleUrl=function(b,e){q.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var a=null;b&&(a=m.toUrl(b.replace(/\./g,"/")+(e?"/"+e:"")+"/*.*").replace(/\/\*\.\*/,"")+(e?"":"/"));return a};q._hasResource={};return q})},"dojo/_base/config":function(){define(["../has","require"],function(c,p){var m={},l=p.rawConfig,h;for(h in l)m[h]=l[h];!m.locale&&"undefined"!=typeof navigator&&(m.locale=(navigator.language||navigator.userLanguage).toLowerCase());return m})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(c,p,m,l,h,s,k,q,g,b,e,a,d,r,x,t,u,v,A,w,y,H,C){function U(a){return function(b){q[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}d.add("dijit-legacy-requires",!r.isAsync);d.add("dojo-bidi",!1);d("dijit-legacy-requires")&&u(0,function(){c(["dijit/_base/manager"])});var R={};l=s("dijit._WidgetBase",[v,y],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:U("lang"),dir:"",_setDirAttr:U("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",
baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:l.blankGif||c.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,d=a._setterAttrs=[],a=a._onMap={},e;for(e in b.attributeMap)d.push(e);for(e in b)/^on/.test(e)&&(a[e.substring(2).toLowerCase()]=e),/^_set[A-Z](.*)Attr$/.test(e)&&(e=e.charAt(4).toLowerCase()+e.substr(5,
e.length-9),(!b.attributeMap||!(e in b.attributeMap))&&d.push(e))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();this.srcNodeRef=k.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,x.mixin(this,a));this.postMixInProperties();this.id||(this.id=C.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=w.body(this.ownerDocument);C.add(this);this.buildRendering();var d;if(this.domNode){this._applyAttributes();var e=this.srcNodeRef;e&&(e.parentNode&&this.domNode!==e)&&(e.parentNode.replaceChild(this.domNode,e),d=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();d&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);p.forEach(this.constructor._setterAttrs,
function(b){if(!(b in a)){var d=this._get(b);d&&this.set(b,d)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(p.map(a,function(a){return a+"Rtl"})));g.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,p.forEach(this.getChildren(),function(a){!a._started&&
(!a._destroyed&&x.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(d){d.destroyRecursive?d.destroyRecursive(a):d.destroy&&d.destroy(a)}this._beingDestroyed=!0;this.uninitialize();p.forEach(this._connects,x.hitch(this,"disconnect"));p.forEach(this._supportingWidgets,b);this.domNode&&p.forEach(C.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);
C.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?q.remove(this.domNode,"widgetId"):b.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||b.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){p.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(b){var d=this.domNode;x.isObject(b)?
a.set(d,b):d.style.cssText=d.style.cssText?d.style.cssText+("; "+b):b;this._set("style",b)},_attrToDom:function(a,b,d){d=3<=arguments.length?d:this.attributeMap[a];p.forEach(x.isArray(d)?d:[d],function(d){var e=this[d.node||d||"domNode"];switch(d.type||"attribute"){case "attribute":x.isFunction(b)&&(b=x.hitch(this,b));d=d.attribute?d.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;e.tagName?q.set(e,d,b):e.set(d,b);break;case "innerText":e.innerHTML="";e.appendChild(this.ownerDocument.createTextNode(b));
break;case "innerHTML":e.innerHTML=b;break;case "class":g.replace(e,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var d in a)this.set(d,a[d]);return this}d=this._getAttrNames(a);var e=this[d.s];if(x.isFunction(e))var c=e.apply(this,Array.prototype.slice.call(arguments,1));else{var e=this.focusNode&&!x.isFunction(this.focusNode)?"focusNode":"domNode",r=this[e]&&this[e].tagName,g;if(g=r)if(!(g=
R[r])){g=this[e];var h={},k;for(k in g)h[k.toLowerCase()]=!0;g=R[r]=h}k=g;d=a in this.attributeMap?this.attributeMap[a]:d.s in this?this[d.s]:k&&d.l in k&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?e:null;null!=d&&this._attrToDom(a,b,d);this._set(a,b)}return c||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var d=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+d+"Attr",
g:"_get"+d+"Attr",l:d.toLowerCase()}},_set:function(a,b){var d=this[a];this[a]=b;if(this._created&&!(d===b||d!==d&&b!==b))this._watchCallbacks&&this._watchCallbacks(a,d,b),this.emit("attrmodified-"+a,{detail:{prevValue:d,newValue:b}})},_get:function(a){return this[a]},emit:function(a,b,d){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var e,c=this["on"+a];c&&(e=c.apply(this,d?d:[b]));this._started&&!this._beingDestroyed&&
t.emit(this.domNode,a.toLowerCase(),b);return e},on:function(a,b){var d=this._onMap(a);return d?m.after(this,d,b,!0):this.own(t(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,d=b._onMap;if(!d){var d=b._onMap={},e;for(e in b.prototype)/^on/.test(e)&&(d[e.replace(/^on/,"").toLowerCase()]=e)}return d["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?C.findWidgets(this.containerNode):
[]},getParent:function(){return C.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,d){return this.own(h.connect(a,b,this,d))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(A.subscribe(a,x.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:e.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=a.get(this.domNode,"display")},placeAt:function(a,d){var e=!a.tagName&&
C.byId(a);e&&e.addChild&&(!d||"number"===typeof d)?e.addChild(this,d):(e=e&&"domNode"in e?e.containerNode&&!/after|before|replace/.test(d||"")?e.containerNode:e.domNode:k.byId(a,this.ownerDocument),b.place(this.domNode,e,d),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var d=setTimeout(x.hitch(this,function(){d&&(d=null,this._destroyed||x.hitch(this,a)())}),b||0);return{remove:function(){d&&(clearTimeout(d),d=null);return null}}}});d("dojo-bidi")&&
l.extend(H);return l})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(c,p,m){function l(b){return k[b]=new Function("item","index","array",b)}function h(b){var e=!b;return function(a,d,c){var g=0,h=a&&a.length||0,q;h&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=k[d]||l(d));if(c)for(;g<h;++g){if(q=!d.call(c,a[g],g,a),b^q)return!q}else for(;g<h;++g)if(q=!d(a[g],g,a),b^q)return!q;return e}}function s(b){var e=1,a=0,d=0;b||(e=a=d=-1);return function(c,h,k,
l){if(l&&0<e)return g.lastIndexOf(c,h,k);l=c&&c.length||0;var m=b?l+d:a;k===q?k=b?a:l+d:0>k?(k=l+k,0>k&&(k=a)):k=k>=l?l+d:k;for(l&&"string"==typeof c&&(c=c.split(""));k!=m;k+=e)if(c[k]==h)return k;return-1}}var k={},q,g={every:h(!1),some:h(!0),indexOf:s(!0),lastIndexOf:s(!1),forEach:function(b,e,a){var d=0,c=b&&b.length||0;c&&"string"==typeof b&&(b=b.split(""));"string"==typeof e&&(e=k[e]||l(e));if(a)for(;d<c;++d)e.call(a,b[d],d,b);else for(;d<c;++d)e(b[d],d,b)},map:function(b,e,a,d){var c=0,g=b&&
b.length||0;d=new (d||Array)(g);g&&"string"==typeof b&&(b=b.split(""));"string"==typeof e&&(e=k[e]||l(e));if(a)for(;c<g;++c)d[c]=e.call(a,b[c],c,b);else for(;c<g;++c)d[c]=e(b[c],c,b);return d},filter:function(b,e,a){var d=0,c=b&&b.length||0,g=[],h;c&&"string"==typeof b&&(b=b.split(""));"string"==typeof e&&(e=k[e]||l(e));if(a)for(;d<c;++d)h=b[d],e.call(a,h,d,b)&&g.push(h);else for(;d<c;++d)h=b[d],e(h,d,b)&&g.push(h);return g},clearCache:function(){k={}}};m.mixin(c,g);return g})},"dojo/_base/lang":function(){define(["./kernel",
"../has","../sniff"],function(c,p){p.add("bug-for-in-skips-shadowed",function(){for(var b in{toString:1})return 0;return 1});var m=p("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],l=m.length,h=function(b,e,a){var d,r=0,g=c.global;if(!a)if(b.length){d=b[r++];try{a=c.scopeMap[d]&&c.scopeMap[d][1]}catch(h){}a=a||(d in g?g[d]:e?g[d]={}:void 0)}else return g;for(;a&&(d=b[r++]);)a=d in a?a[d]:e?a[d]={}:void 0;return a},
s=Object.prototype.toString,k=function(b,e,a){return(a||[]).concat(Array.prototype.slice.call(b,e||0))},q=/\{([^\}]+)\}/g,g={_extraNames:m,_mixin:function(b,e,a){var d,c,g,h={};for(d in e)if(c=e[d],!(d in b)||b[d]!==c&&(!(d in h)||h[d]!==c))b[d]=a?a(c):c;if(p("bug-for-in-skips-shadowed")&&e)for(g=0;g<l;++g)if(d=m[g],c=e[d],!(d in b)||b[d]!==c&&(!(d in h)||h[d]!==c))b[d]=a?a(c):c;return b},mixin:function(b,e){b||(b={});for(var a=1,d=arguments.length;a<d;a++)g._mixin(b,arguments[a]);return b},setObject:function(b,
e,a){var d=b.split(".");b=d.pop();return(a=h(d,!0,a))&&b?a[b]=e:void 0},getObject:function(b,e,a){return h(b.split("."),e,a)},exists:function(b,e){return void 0!==g.getObject(b,!1,e)},isString:function(b){return"string"==typeof b||b instanceof String},isArray:function(b){return b&&(b instanceof Array||"array"==typeof b)},isFunction:function(b){return"[object Function]"===s.call(b)},isObject:function(b){return void 0!==b&&(null===b||"object"==typeof b||g.isArray(b)||g.isFunction(b))},isArrayLike:function(b){return b&&
void 0!==b&&!g.isString(b)&&!g.isFunction(b)&&!(b.tagName&&"form"==b.tagName.toLowerCase())&&(g.isArray(b)||isFinite(b.length))},isAlien:function(b){return b&&!g.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(String(b))},extend:function(b,e){for(var a=1,d=arguments.length;a<d;a++)g._mixin(b.prototype,arguments[a]);return b},_hitchArgs:function(b,e){var a=g._toArray(arguments,2),d=g.isString(e);return function(){var r=g._toArray(arguments),h=d?(b||c.global)[e]:e;return h&&h.apply(b||this,a.concat(r))}},
hitch:function(b,e){if(2<arguments.length)return g._hitchArgs.apply(c,arguments);e||(e=b,b=null);if(g.isString(e)){b=b||c.global;if(!b[e])throw['lang.hitch: scope["',e,'"] is null (scope\x3d"',b,'")'].join("");return function(){return b[e].apply(b,arguments||[])}}return!b?e:function(){return e.apply(b,arguments||[])}},delegate:function(){function b(){}return function(e,a){b.prototype=e;var d=new b;b.prototype=null;a&&g._mixin(d,a);return d}}(),_toArray:p("ie")?function(){function b(b,a,d){d=d||[];
for(a=a||0;a<b.length;a++)d.push(b[a]);return d}return function(e){return(e.item?b:k).apply(this,arguments)}}():k,partial:function(b){return g.hitch.apply(c,[null].concat(g._toArray(arguments)))},clone:function(b){if(!b||"object"!=typeof b||g.isFunction(b))return b;if(b.nodeType&&"cloneNode"in b)return b.cloneNode(!0);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return RegExp(b);var e,a,d;if(g.isArray(b)){e=[];a=0;for(d=b.length;a<d;++a)a in b&&e.push(g.clone(b[a]))}else e=
b.constructor?new b.constructor:{};return g._mixin(e,b,g.clone)},trim:String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(b,e,a){return b.replace(a||q,g.isFunction(e)?e:function(a,b){return g.getObject(b,!1,e)})}};g.mixin(c,g);return g})},"dojo/sniff":function(){define(["./has"],function(c){var p=navigator,m=p.userAgent,l=p.appVersion,p=parseFloat(l);c.add("air",0<=m.indexOf("AdobeAIR"));c.add("msapp",parseFloat(m.split("MSAppHost/")[1])||
void 0);c.add("khtml",0<=l.indexOf("Konqueror")?p:void 0);c.add("webkit",parseFloat(m.split("WebKit/")[1])||void 0);c.add("chrome",parseFloat(m.split("Chrome/")[1])||void 0);c.add("safari",0<=l.indexOf("Safari")&&!c("chrome")?parseFloat(l.split("Version/")[1]):void 0);c.add("mac",0<=l.indexOf("Macintosh"));c.add("quirks","BackCompat"==document.compatMode);if(m.match(/(iPhone|iPod|iPad)/)){var h=RegExp.$1.replace(/P/,"p"),s=m.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(s.replace(/_/,".").replace(/_/g,
""));c.add(h,s);c.add("ios",s)}c.add("android",parseFloat(m.split("Android ")[1])||void 0);c.add("bb",(0<=m.indexOf("BlackBerry")||0<=m.indexOf("BB10"))&&parseFloat(m.split("Version/")[1])||void 0);c.add("svg","undefined"!==typeof SVGAngle);c("webkit")||(0<=m.indexOf("Opera")&&c.add("opera",9.8<=p?parseFloat(m.split("Version/")[1])||p:p),h=0,document.all&&!c("opera")?h=parseFloat(l.split("MSIE ")[1])||void 0:l.indexOf("Trident")&&(h=parseFloat(l.split("rv:")[1])||void 0),h&&((l=document.documentMode)&&
(5!=l&&Math.floor(h)!=l)&&(h=l),c.add("ie",h)),!c("ie")&&(0<=m.indexOf("Gecko")&&!c("khtml")&&!c("webkit"))&&c.add("mozilla",p),c("mozilla")&&c.add("ff",parseFloat(m.split("Firefox/")[1]||m.split("Minefield/")[1])||void 0),c.add("wii","undefined"!=typeof opera&&opera.wiiremote));return c})},"dojo/aspect":function(){define([],function(){function c(c,g,b,e){var a=c[g],d="around"==g,r;if(d){var h=b(function(){return a.advice(this,arguments)});r={remove:function(){h&&(h=c=b=null)},advice:function(b,d){return h?
h.apply(b,d):a.advice(b,d)}}}else r={remove:function(){if(r.advice){var a=r.previous,d=r.next;!d&&!a?delete c[g]:(a?a.next=d:c[g]=d,d&&(d.previous=a));c=b=r.advice=null}},id:l++,advice:b,receiveArguments:e};if(a&&!d)if("after"==g){for(;a.next&&(a=a.next););a.next=r;r.previous=a}else"before"==g&&(c[g]=r,r.next=a,a.previous=r);else c[g]=r;return r}function p(h){return function(g,b,e,a){var d=g[b],r;if(!d||d.target!=g)g[b]=r=function(){for(var a=l,b=arguments,d=r.before;d;)b=d.advice.apply(this,b)||
b,d=d.next;if(r.around)var e=r.around.advice(this,b);for(d=r.after;d&&d.id<a;){if(d.receiveArguments)var c=d.advice.apply(this,b),e=c===m?e:c;else e=d.advice.call(this,e,b);d=d.next}return e},d&&(r.around={advice:function(a,b){return d.apply(a,b)}}),r.target=g;g=c(r||d,h,e,a);e=null;return g}}var m,l=0,h=p("after"),s=p("before"),k=p("around");return{before:s,around:k,after:h}})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),
function(c,p,m,l,h,s,k,q){function g(a,b,d,e,g){e=q.hitch(d,e);if(!a||!a.addEventListener&&!a.attachEvent)return l.after(a||c.global,b,e,!0);"string"==typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));a||(a=c.global);if(!g)switch(b){case "keypress":b=r;break;case "mouseenter":b=s.enter;break;case "mouseleave":b=s.leave}return p(a,b,e,g)}function b(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}k.add("events-keypress-typed",function(){var a={charCode:0};
try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!k("opera")});var e={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},a=k("mac")?"metaKey":"ctrlKey",d=function(a,d){var e=q.mixin({},a,d);b(e);e.preventDefault=function(){a.preventDefault()};e.stopPropagation=function(){a.stopPropagation()};return e},r;r=k("events-keypress-typed")?function(a,
b){var c=p(a,"keydown",function(a){var c=a.keyCode,g=13!=c&&32!=c&&(27!=c||!k("ie"))&&(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(g||a.ctrlKey){g=g?0:c;if(a.ctrlKey){if(3==c||13==c)return b.call(a.currentTarget,a);g=95<g&&106>g?g-48:!a.shiftKey&&65<=g&&90>=g?g+32:e[g]||g}c=d(a,{type:"keypress",faux:!0,charCode:g});b.call(a.currentTarget,c);if(k("ie"))try{a.keyCode=c.keyCode}catch(r){}}}),g=p(a,"keypress",function(a){var e=a.charCode;a=d(a,{charCode:32<=e?e:0,faux:!0});return b.call(this,
a)});return{remove:function(){c.remove();g.remove()}}}:k("opera")?function(a,b){return p(a,"keypress",function(a){var e=a.which;3==e&&(e=99);e=32>e&&!a.shiftKey?0:e;a.ctrlKey&&(!a.shiftKey&&65<=e&&90>=e)&&(e+=32);return b.call(this,d(a,{charCode:e}))})}:function(a,d){return p(a,"keypress",function(a){b(a);return d.call(this,a)})};var x={_keypress:r,connect:function(a,b,d,e,c){var r=arguments,h=[],k=0;h.push("string"==typeof r[0]?null:r[k++],r[k++]);var l=r[k+1];h.push("string"==typeof l||"function"==
typeof l?r[k++]:null,r[k++]);for(l=r.length;k<l;k++)h.push(r[k]);return g.apply(this,h)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,d){return m.subscribe(a,q.hitch(b,d))},publish:function(a,b){return m.publish.apply(m,[a].concat(b))},connectPublisher:function(a,b,d){var e=function(){x.publish(a,arguments)};return d?x.connect(b,d,e):x.connect(b,e)},isCopyKey:function(b){return b[a]}};x.unsubscribe=x.disconnect;q.mixin(c,x);return x})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect",
"./_base/kernel","./sniff"],function(c,p,m){function l(b,d,e,c,h){if(c=d.match(/(.*):(.*)/))return d=c[2],c=c[1],q.selector(c,d).call(h,b,e);m("touch")&&(g.test(d)&&(e=C(e)),!m("event-orientationchange")&&"orientationchange"==d&&(d="resize",b=window,e=C(e)));r&&(e=r(e));if(b.addEventListener){var k=d in a,l=k?a[d]:d;b.addEventListener(l,e,k);return{remove:function(){b.removeEventListener(l,e,k)}}}if(v&&b.attachEvent)return v(b,"on"+d,e);throw Error("Target must be an event emitter");}function h(){this.cancelable=
!1;this.defaultPrevented=!0}function s(){this.bubbles=!1}var k=window.ScriptEngineMajorVersion;m.add("jscript",k&&k()+ScriptEngineMinorVersion()/10);m.add("event-orientationchange",m("touch")&&!m("android"));m.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);m.add("event-focusin",function(a,b,d){return!!d.attachEvent});var q=function(a,b,d,e){return"function"==typeof a.on&&"function"!=typeof b&&!a.nodeType?a.on(b,d):q.parse(a,
b,d,l,e,this)};q.pausable=function(a,b,d,e){var c;a=q(a,b,function(){if(!c)return d.apply(this,arguments)},e);a.pause=function(){c=!0};a.resume=function(){c=!1};return a};q.once=function(a,b,d,e){var c=q(a,b,function(){c.remove();return d.apply(this,arguments)});return c};q.parse=function(a,b,d,e,c,g){if(b.call)return b.call(g,a,d);if(-1<b.indexOf(",")){b=b.split(/\s*,\s*/);for(var r=[],h=0,k;k=b[h++];)r.push(e(a,k,d,c,g));r.remove=function(){for(var a=0;a<r.length;a++)r[a].remove()};return r}return e(a,
b,d,c,g)};var g=/^touch/;q.selector=function(a,b,d){return function(e,c){function g(b){r=r&&r.matches?r:p.query;1!=b.nodeType&&(b=b.parentNode);for(;!r.matches(b,a,e);)if(b==e||!1===d||!(b=b.parentNode)||1!=b.nodeType)return;return b}var r="function"==typeof a?{matches:a}:this,h=b.bubble;return h?q(e,h(g),c):q(e,b,function(a){var b=g(a.target);return b&&c.call(b,a)})}};var b=[].slice,e=q.emit=function(a,d,e){var c=b.call(arguments,2),g="on"+d;if("parentNode"in a){var r=c[0]={},k;for(k in e)r[k]=e[k];
r.preventDefault=h;r.stopPropagation=s;r.target=a;r.type=d;e=r}do a[g]&&a[g].apply(a,c);while(e&&e.bubbles&&(a=a.parentNode));return e&&e.cancelable&&e},a=m("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!m("event-stopimmediatepropagation"))var d=function(){this.modified=this.immediatelyStopped=!0},r=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=d,a.apply(this,arguments)}};if(m("dom-addeventlistener"))q.emit=function(a,b,d){if(a.dispatchEvent&&
document.createEvent){var c=(a.ownerDocument||document).createEvent("HTMLEvents");c.initEvent(b,!!d.bubbles,!!d.cancelable);for(var g in d)g in c||(c[g]=d[g]);return a.dispatchEvent(c)&&c}return e.apply(q,arguments)};else{q._fixEvent=function(a,b){a||(a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event);if(!a)return a;try{x&&(a.type==x.type&&a.srcElement==x.target)&&(a=x)}catch(d){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=b||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=
a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||(a.stopPropagation=A,a.preventDefault=w),a.type){case "keypress":var e="charCode"in a?a.charCode:a.keyCode;10==e?(e=0,a.keyCode=13):13==e||27==e?e=0:3==e&&(e=99);a.charCode=e;e=a;e.keyChar=e.charCode?String.fromCharCode(e.charCode):"";e.charOrCode=e.keyChar||e.keyCode}return a};var x,t=function(a){this.handle=a};t.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var u=function(a){return function(b){b=
q._fixEvent(b,this);var d=a.call(this,b);b.modified&&(x||setTimeout(function(){x=null}),x=b);return d}},v=function(a,b,d){d=u(d);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>m("jscript"))&&!m("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var e=a[b];if(!e||!e.listeners){var g=e,e=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
e.listeners=[];a[b]=e;e.global=this;g&&e.listeners.push(_dojoIEListeners_.push(g)-1)}e.listeners.push(a=e.global._dojoIEListeners_.push(d)-1);return new t(a)}return c.after(a,b,d,!0)},A=function(){this.cancelBubble=!0},w=q._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(m("touch"))var y=function(){},H=window.orientation,C=function(a){return function(b){var d=b.corrected;if(!d){var e=
b.type;try{delete b.type}catch(c){}if(b.type){if(m("mozilla")){var d={},g;for(g in b)d[g]=b[g]}else y.prototype=b,d=new y;d.preventDefault=function(){b.preventDefault()};d.stopPropagation=function(){b.stopPropagation()}}else d=b,d.type=e;b.corrected=d;if("resize"==e){if(H==window.orientation)return null;H=window.orientation;d.type="orientationchange";return a.call(this,d)}"rotation"in d||(d.rotation=0,d.scale=1);var e=d.changedTouches[0],r;for(r in e)delete d[r],d[r]=e[r]}return a.call(this,d)}};
return q})},"dojo/topic":function(){define(["./Evented"],function(c){var p=new c;return{publish:function(c,l){return p.emit.apply(p,arguments)},subscribe:function(c,l){return p.on.apply(p,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(c,p){function m(){}var l=c.after;m.prototype={on:function(c,m){return p.parse(this,c,m,function(c,h){return l(c,"on"+h,m,!0)})},emit:function(c,l){var k=[this];k.push.apply(k,arguments);return p.emit.apply(p,k)}};return m})},"dojo/_base/event":function(){define(["./kernel",
"../on","../has","../dom-geometry"],function(c,p,m,l){if(p._fixEvent){var h=p._fixEvent;p._fixEvent=function(c,q){(c=h(c,q))&&l.normalizeEvent(c);return c}}var s={fix:function(c,h){return p._fixEvent?p._fixEvent(c,h):c},stop:function(c){m("dom-addeventlistener")||c&&c.preventDefault?(c.preventDefault(),c.stopPropagation()):(c=c||window.event,c.cancelBubble=!0,p._preventDefault.call(c))}};c.fixEvent=s.fix;c.stopEvent=s.stop;return s})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window",
"./dom","./dom-style"],function(c,p,m,l){function h(b,e,a,d,c,g){g=g||"px";b=b.style;isNaN(e)||(b.left=e+g);isNaN(a)||(b.top=a+g);0<=d&&(b.width=d+g);0<=c&&(b.height=c+g)}function s(b){return"button"==b.tagName.toLowerCase()||"input"==b.tagName.toLowerCase()&&"button"==(b.getAttribute("type")||"").toLowerCase()}function k(b){return"border-box"==q.boxModel||"table"==b.tagName.toLowerCase()||s(b)}var q={boxModel:"content-box"};c("ie")&&(q.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");
q.getPadExtents=function(b,e){b=m.byId(b);var a=e||l.getComputedStyle(b),d=l.toPixelValue,c=d(b,a.paddingLeft),g=d(b,a.paddingTop),h=d(b,a.paddingRight),a=d(b,a.paddingBottom);return{l:c,t:g,r:h,b:a,w:c+h,h:g+a}};q.getBorderExtents=function(b,e){b=m.byId(b);var a=l.toPixelValue,d=e||l.getComputedStyle(b),c="none"!=d.borderLeftStyle?a(b,d.borderLeftWidth):0,g="none"!=d.borderTopStyle?a(b,d.borderTopWidth):0,h="none"!=d.borderRightStyle?a(b,d.borderRightWidth):0,a="none"!=d.borderBottomStyle?a(b,d.borderBottomWidth):
0;return{l:c,t:g,r:h,b:a,w:c+h,h:g+a}};q.getPadBorderExtents=function(b,e){b=m.byId(b);var a=e||l.getComputedStyle(b),d=q.getPadExtents(b,a),a=q.getBorderExtents(b,a);return{l:d.l+a.l,t:d.t+a.t,r:d.r+a.r,b:d.b+a.b,w:d.w+a.w,h:d.h+a.h}};q.getMarginExtents=function(b,e){b=m.byId(b);var a=e||l.getComputedStyle(b),d=l.toPixelValue,c=d(b,a.marginLeft),g=d(b,a.marginTop),h=d(b,a.marginRight),a=d(b,a.marginBottom);return{l:c,t:g,r:h,b:a,w:c+h,h:g+a}};q.getMarginBox=function(b,e){b=m.byId(b);var a=e||l.getComputedStyle(b),
d=q.getMarginExtents(b,a),g=b.offsetLeft-d.l,h=b.offsetTop-d.t,k=b.parentNode,s=l.toPixelValue;if(c("mozilla")){var p=parseFloat(a.left),a=parseFloat(a.top);!isNaN(p)&&!isNaN(a)?(g=p,h=a):k&&k.style&&(k=l.getComputedStyle(k),"visible"!=k.overflow&&(g+="none"!=k.borderLeftStyle?s(b,k.borderLeftWidth):0,h+="none"!=k.borderTopStyle?s(b,k.borderTopWidth):0))}else if((c("opera")||8==c("ie")&&!c("quirks"))&&k)k=l.getComputedStyle(k),g-="none"!=k.borderLeftStyle?s(b,k.borderLeftWidth):0,h-="none"!=k.borderTopStyle?
s(b,k.borderTopWidth):0;return{l:g,t:h,w:b.offsetWidth+d.w,h:b.offsetHeight+d.h}};q.getContentBox=function(b,e){b=m.byId(b);var a=e||l.getComputedStyle(b),d=b.clientWidth,g=q.getPadExtents(b,a),h=q.getBorderExtents(b,a);d?(a=b.clientHeight,h.w=h.h=0):(d=b.offsetWidth,a=b.offsetHeight);c("opera")&&(g.l+=h.l,g.t+=h.t);return{l:g.l,t:g.t,w:d-g.w-h.w,h:a-g.h-h.h}};q.setContentSize=function(b,e,a){b=m.byId(b);var d=e.w;e=e.h;k(b)&&(a=q.getPadBorderExtents(b,a),0<=d&&(d+=a.w),0<=e&&(e+=a.h));h(b,NaN,NaN,
d,e)};var g={l:0,t:0,w:0,h:0};q.setMarginBox=function(b,e,a){b=m.byId(b);var d=a||l.getComputedStyle(b);a=e.w;var r=e.h,p=k(b)?g:q.getPadBorderExtents(b,d),d=q.getMarginExtents(b,d);if(c("webkit")&&s(b)){var t=b.style;0<=a&&!t.width&&(t.width="4px");0<=r&&!t.height&&(t.height="4px")}0<=a&&(a=Math.max(a-p.w-d.w,0));0<=r&&(r=Math.max(r-p.h-d.h,0));h(b,e.l,e.t,a,r)};q.isBodyLtr=function(b){b=b||p.doc;return"ltr"==(p.body(b).dir||b.documentElement.dir||"ltr").toLowerCase()};q.docScroll=function(b){b=
b||p.doc;var e=p.doc.parentWindow||p.doc.defaultView;return"pageXOffset"in e?{x:e.pageXOffset,y:e.pageYOffset}:(e=c("quirks")?p.body(b):b.documentElement)&&{x:q.fixIeBiDiScrollLeft(e.scrollLeft||0,b),y:e.scrollTop||0}};c("ie")&&(q.getIeDocumentElementOffset=function(b){b=b||p.doc;b=b.documentElement;if(8>c("ie")){var e=b.getBoundingClientRect(),a=e.left,e=e.top;7>c("ie")&&(a+=b.clientLeft,e+=b.clientTop);return{x:0>a?0:a,y:0>e?0:e}}return{x:0,y:0}});q.fixIeBiDiScrollLeft=function(b,e){e=e||p.doc;
var a=c("ie");if(a&&!q.isBodyLtr(e)){var d=c("quirks"),g=d?p.body(e):e.documentElement,h=p.global;6==a&&(!d&&h.frameElement&&g.scrollHeight>g.clientHeight)&&(b+=g.clientLeft);return 8>a||d?b+g.clientWidth-g.scrollWidth:-b}return b};q.position=function(b,e){b=m.byId(b);var a=p.body(b.ownerDocument),d=b.getBoundingClientRect(),d={x:d.left,y:d.top,w:d.right-d.left,h:d.bottom-d.top};if(9>c("ie")){var g=q.getIeDocumentElementOffset(b.ownerDocument);d.x-=g.x+(c("quirks")?a.clientLeft+a.offsetLeft:0);d.y-=
g.y+(c("quirks")?a.clientTop+a.offsetTop:0)}e&&(a=q.docScroll(b.ownerDocument),d.x+=a.x,d.y+=a.y);return d};q.getMarginSize=function(b,e){b=m.byId(b);var a=q.getMarginExtents(b,e||l.getComputedStyle(b)),d=b.getBoundingClientRect();return{w:d.right-d.left+a.w,h:d.bottom-d.top+a.h}};q.normalizeEvent=function(b){"layerX"in b||(b.layerX=b.offsetX,b.layerY=b.offsetY);if(!c("dom-addeventlistener")){var e=b.target,e=e&&e.ownerDocument||document,a=c("quirks")?e.body:e.documentElement,d=q.getIeDocumentElementOffset(e);
b.pageX=b.clientX+q.fixIeBiDiScrollLeft(a.scrollLeft||0,e)-d.x;b.pageY=b.clientY+(a.scrollTop||0)-d.y}};return q})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(c,p,m){var l={global:c.global,doc:this.document||null,body:function(h){h=h||c.doc;return h.body||h.getElementsByTagName("body")[0]},setContext:function(h,m){c.global=l.global=h;c.doc=l.doc=m},withGlobal:function(h,m,k,q){var g=c.global;try{return c.global=l.global=h,l.withDoc.call(null,h.document,m,k,q)}finally{c.global=
l.global=g}},withDoc:function(h,s,k,q){var g=l.doc,b=m("quirks"),e=m("ie"),a,d,r;try{c.doc=l.doc=h;c.isQuirks=m.add("quirks","BackCompat"==c.doc.compatMode,!0,!0);if(m("ie")&&(r=h.parentWindow)&&r.navigator)a=parseFloat(r.navigator.appVersion.split("MSIE ")[1])||void 0,(d=h.documentMode)&&(5!=d&&Math.floor(a)!=d)&&(a=d),c.isIE=m.add("ie",a,!0,!0);k&&"string"==typeof s&&(s=k[s]);return s.apply(k,q||[])}finally{c.doc=l.doc=g,c.isQuirks=m.add("quirks",b,!0,!0),c.isIE=m.add("ie",e,!0,!0)}}};p.mixin(c,
l);return l})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(c,p){if(7>=c("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(m){}var l={};c("ie")?l.byId=function(c,h){if("string"!=typeof c)return c;var l=h||p.doc,g=c&&l.getElementById(c);if(g&&(g.attributes.id.value==c||g.id==c))return g;l=l.all[c];if(!l||l.nodeName)l=[l];for(var b=0;g=l[b++];)if(g.attributes&&g.attributes.id&&g.attributes.id.value==c||g.id==c)return g}:l.byId=function(c,h){return("string"==typeof c?
(h||p.doc).getElementById(c):c)||null};l.isDescendant=function(c,h){try{c=l.byId(c);for(h=l.byId(h);c;){if(c==h)return!0;c=c.parentNode}}catch(m){}return!1};c.add("css-user-select",function(c,h,l){if(!l)return!1;c=l.style;h=["Khtml","O","ms","Moz","Webkit"];l=h.length;var g="userSelect";do if("undefined"!==typeof c[g])return g;while(l--&&(g=h[l]+"UserSelect"));return!1});var h=c("css-user-select");l.setSelectable=h?function(c,k){l.byId(c).style[h]=k?"":"none"}:function(c,h){c=l.byId(c);var m=c.getElementsByTagName("*"),
g=m.length;if(h)for(c.removeAttribute("unselectable");g--;)m[g].removeAttribute("unselectable");else for(c.setAttribute("unselectable","on");g--;)m[g].setAttribute("unselectable","on")};return l})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(c,p){function m(a,g,h){g=g.toLowerCase();if(c("ie")){if("auto"==h){if("height"==g)return a.offsetHeight;if("width"==g)return a.offsetWidth}if("fontweight"==g)switch(h){case 700:return"bold";default:return"normal"}}g in b||(b[g]=e.test(g));
return b[g]?s(a,h):h}var l,h={};l=c("webkit")?function(a){var b;if(1==a.nodeType){var e=a.ownerDocument.defaultView;b=e.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=e.getComputedStyle(a,null))}return b||{}}:c("ie")&&(9>c("ie")||c("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};h.getComputedStyle=l;var s;s=c("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;
if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var e=a.style,c=a.runtimeStyle,g=e.left,h=c.left;c.left=a.currentStyle.left;try{e.left=b,b=e.pixelLeft}catch(k){b=0}e.left=g;c.left=h;return b}:function(a,b){return parseFloat(b)||0};h.toPixelValue=s;var k=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(e){return b?{}:null}},q=9>c("ie")||10>c("ie")&&c("quirks")?function(a){try{return k(a).Opacity/100}catch(b){return 1}}:function(a){return l(a).opacity},g=9>c("ie")||
10>c("ie")&&c("quirks")?function(a,b){""===b&&(b=1);var e=100*b;1===b?(a.style.zoom="",k(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,k(a)?k(a,1).Opacity=e:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+e+")",k(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(e=a.firstChild;e;e=e.nextSibling)"td"==e.tagName.toLowerCase()&&g(e,b);return b}:function(a,b){return a.style.opacity=b},b={left:!0,top:!0},
e=/margin|padding|width|height|max|min|offset/,a={cssFloat:1,styleFloat:1,"float":1};h.get=function(b,e){var c=p.byId(b),g=arguments.length;if(2==g&&"opacity"==e)return q(c);e=a[e]?"cssFloat"in c.style?"cssFloat":"styleFloat":e;var k=h.getComputedStyle(c);return 1==g?k:m(c,e,k[e]||c.style[e])};h.set=function(b,e,c){var k=p.byId(b),l=arguments.length,m="opacity"==e;e=a[e]?"cssFloat"in k.style?"cssFloat":"styleFloat":e;if(3==l)return m?g(k,c):k.style[e]=c;for(var q in e)h.set(b,q,e[q]);return h.getComputedStyle(k)};
return h})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(c,p,m,l,h){function s(c,h){var g=function(b,e){return p(b,c,function(a){if(h)return h(a,e);if(!l.isDescendant(a.relatedTarget,b))return e.call(this,a)})};g.bubble=function(b){return s(c,function(e,a){var d=b(e.target),c=e.relatedTarget;if(d&&d!=(c&&1==c.nodeType&&b(c)))return a.call(d,e)})};return g}m.add("dom-quirks",h.doc&&"BackCompat"==h.doc.compatMode);m.add("events-mouseenter",h.doc&&
"onmouseenter"in h.doc.createElement("div"));m.add("events-mousewheel",h.doc&&"onmousewheel"in h.doc);h=m("dom-quirks")&&m("ie")||!m("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(c,h){return c.button&h},isLeft:function(c){return c.button&1},isMiddle:function(c){return c.button&4},isRight:function(c){return c.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(c,h){return c.button==h},isLeft:function(c){return 0==c.button},isMiddle:function(c){return 1==c.button},isRight:function(c){return 2==
c.button}};c.mouseButtons=h;c=m("events-mousewheel")?"mousewheel":function(c,h){return p(c,"DOMMouseScroll",function(c){c.wheelDelta=-c.detail;h.call(this,c)})};return{_eventHandler:s,enter:s("mouseover"),leave:s("mouseout"),wheel:c,isLeft:h.isLeft,isMiddle:h.isMiddle,isRight:h.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(c,p,m){c._name="browser";p.mixin(c,{isBrowser:!0,isFF:m("ff"),isIE:m("ie"),isKhtml:m("khtml"),isWebKit:m("webkit"),isMozilla:m("mozilla"),
isMoz:m("mozilla"),isOpera:m("opera"),isSafari:m("safari"),isChrome:m("chrome"),isMac:m("mac"),isIos:m("ios"),isAndroid:m("android"),isWii:m("wii"),isQuirks:m("quirks"),isAir:m("air")});return m})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(c,p){return c.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:p("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,
INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:p("mac")&&
!p("air")?p("safari")?91:224:17}})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(c,p,m){function l(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function h(a,b,d){var e,c,g,h,k,r,m,q=this._inherited=this._inherited||{};"string"==typeof a&&(e=a,a=b,b=d);d=0;h=a.callee;(e=e||h.nom)||l("can't deduce a name to call inherited()",this.declaredClass);k=this.constructor._meta;g=k.bases;m=q.p;if(e!=U){if(q.c!==h&&(m=0,r=g[0],k=r._meta,k.hidden[e]!==h)){(c=k.chains)&&"string"==
typeof c[e]&&l("calling chained method with inherited: "+e,this.declaredClass);do if(k=r._meta,c=r.prototype,k&&(c[e]===h&&c.hasOwnProperty(e)||k.hidden[e]===h))break;while(r=g[++m]);m=r?m:-1}if(r=g[++m])if(c=r.prototype,r._meta&&c.hasOwnProperty(e))d=c[e];else{h=w[e];do if(c=r.prototype,(d=c[e])&&(r._meta?c.hasOwnProperty(e):d!==h))break;while(r=g[++m])}d=r&&d||w[e]}else{if(q.c!==h&&(m=0,(k=g[0]._meta)&&k.ctor!==h)){c=k.chains;for((!c||"manual"!==c.constructor)&&l("calling chained constructor with inherited",
this.declaredClass);(r=g[++m])&&!((k=r._meta)&&k.ctor===h););m=r?m:-1}for(;(r=g[++m])&&!(d=(k=r._meta)?k.ctor:r););d=r&&d}q.c=d;q.p=m;if(d)return!0===b?d:d.apply(this,b||a)}function s(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function k(a,b,d){var e=this.getInherited(a,b);if(e)return e.apply(this,d||b||a)}function q(a){for(var b=this.constructor._meta.bases,d=0,e=b.length;d<e;++d)if(b[d]===a)return!0;return this instanceof a}function g(a,b){for(var d in b)d!=U&&
b.hasOwnProperty(d)&&(a[d]=b[d]);if(p("bug-for-in-skips-shadowed"))for(var e=m._extraNames,c=e.length;c;)d=e[--c],d!=U&&b.hasOwnProperty(d)&&(a[d]=b[d])}function b(a){v.safeMixin(this.prototype,a);return this}function e(a,b){return v([this].concat(a),b||{})}function a(a,b){return function(){var d=arguments,e=d,c=d[0],g,h;h=a.length;var k;if(!(this instanceof d.callee))return u(d);if(b&&(c&&c.preamble||this.preamble)){k=Array(a.length);k[0]=d;for(g=0;;){if(c=d[0])(c=c.preamble)&&(d=c.apply(this,d)||
d);c=a[g].prototype;(c=c.hasOwnProperty("preamble")&&c.preamble)&&(d=c.apply(this,d)||d);if(++g==h)break;k[g]=d}}for(g=h-1;0<=g;--g)c=a[g],(c=(h=c._meta)?h.ctor:c)&&c.apply(this,k?k[g]:d);(c=this.postscript)&&c.apply(this,e)}}function d(a,b){return function(){var d=arguments,e=d,c=d[0];if(!(this instanceof d.callee))return u(d);b&&(c&&(c=c.preamble)&&(e=c.apply(this,e)||e),(c=this.preamble)&&c.apply(this,e));a&&a.apply(this,d);(c=this.postscript)&&c.apply(this,d)}}function r(a){return function(){var b=
arguments,d=0,e,c;if(!(this instanceof b.callee))return u(b);for(;e=a[d];++d)if(e=(c=e._meta)?c.ctor:e){e.apply(this,b);break}(e=this.postscript)&&e.apply(this,b)}}function x(a,b,d){return function(){var e,c,g=0,h=1;d&&(g=b.length-1,h=-1);for(;e=b[g];g+=h)c=e._meta,(e=(c?c.hidden:e.prototype)[a])&&e.apply(this,arguments)}}function t(a){H.prototype=a.prototype;a=new H;H.prototype=null;return a}function u(a){var b=a.callee,d=t(b);b.apply(d,a);return d}function v(c,k,p){"string"!=typeof c&&(p=k,k=c,
c="");p=p||{};var u,H,J,S,ja,T,I,O=1,ka=k;if("[object Array]"==y.call(k)){O=c;J=[];S=[{cls:0,refs:[]}];T={};for(var B=1,ta=k.length,da=0,Q,Ba,V,N;da<ta;++da){(Q=k[da])?"[object Function]"!=y.call(Q)&&l("mixin #"+da+" is not a callable constructor.",O):l("mixin #"+da+" is unknown. Did you use dojo.require to pull it in?",O);Ba=Q._meta?Q._meta.bases:[Q];V=0;for(Q=Ba.length-1;0<=Q;--Q)N=Ba[Q].prototype,N.hasOwnProperty("declaredClass")||(N.declaredClass="uniqName_"+C++),N=N.declaredClass,T.hasOwnProperty(N)||
(T[N]={count:0,refs:[],cls:Ba[Q]},++B),N=T[N],V&&V!==N&&(N.refs.push(V),++V.count),V=N;++V.count;S[0].refs.push(V)}for(;S.length;){V=S.pop();J.push(V.cls);for(--B;H=V.refs,1==H.length;){V=H[0];if(!V||--V.count){V=0;break}J.push(V.cls);--B}if(V){da=0;for(ta=H.length;da<ta;++da)V=H[da],--V.count||S.push(V)}}B&&l("can't build consistent linearization",O);Q=k[0];J[0]=Q?Q._meta&&Q===J[J.length-Q._meta.bases.length]?Q._meta.bases.length:1:0;T=J;J=T[0];O=T.length-J;k=T[O]}else T=[0],k?"[object Function]"==
y.call(k)?(J=k._meta,T=T.concat(J?J.bases:k)):l("base class is not a callable constructor.",c):null!==k&&l("unknown base class. Did you use dojo.require to pull it in?",c);if(k)for(H=O-1;;--H){u=t(k);if(!H)break;J=T[H];(J._meta?g:A)(u,J.prototype);S=new Function;S.superclass=k;S.prototype=u;k=u.constructor=S}else u={};v.safeMixin(u,p);J=p.constructor;J!==w.constructor&&(J.nom=U,u.constructor=J);for(H=O-1;H;--H)(J=T[H]._meta)&&J.chains&&(I=A(I||{},J.chains));u["-chains-"]&&(I=A(I||{},u["-chains-"]));
J=!I||!I.hasOwnProperty(U);T[0]=S=I&&"manual"===I.constructor?r(T):1==T.length?d(p.constructor,J):a(T,J);S._meta={bases:T,hidden:p,chains:I,parents:ka,ctor:p.constructor};S.superclass=k&&k.prototype;S.extend=b;S.createSubclass=e;S.prototype=u;u.constructor=S;u.getInherited=s;u.isInstanceOf=q;u.inherited=R;u.__inherited=h;c&&(u.declaredClass=c,m.setObject(c,S));if(I)for(ja in I)u[ja]&&("string"==typeof I[ja]&&ja!=U)&&(J=u[ja]=x(ja,T,"after"===I[ja]),J.nom=ja);return S}var A=m.mixin,w=Object.prototype,
y=w.toString,H=new Function,C=0,U="constructor",R=c.config.isDebug?k:h;c.safeMixin=v.safeMixin=function(a,b){var d,e;for(d in b)if(e=b[d],(e!==w[d]||!(d in w))&&d!=U)"[object Function]"==y.call(e)&&(e.nom=d),a[d]=e;if(p("bug-for-in-skips-shadowed"))for(var c=m._extraNames,g=c.length;g;)if(d=c[--g],e=b[d],(e!==w[d]||!(d in w))&&d!=U)"[object Function]"==y.call(e)&&(e.nom=d),a[d]=e;return a};return c.declare=v})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),
function(c,p,m,l,h,s){function k(b,e){var a=b.getAttributeNode&&b.getAttributeNode(e);return a&&a.specified}var q={innerHTML:1,className:1,htmlFor:p("ie"),value:1},g={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};c.has=function(b,e){var a=e.toLowerCase();return q[s.names[a]||e]||k(l.byId(b),g[a]||e)};c.get=function(b,e){b=l.byId(b);var a=e.toLowerCase(),d=s.names[a]||e,c=b[d];if(q[d]&&"undefined"!=typeof c||"href"!=d&&("boolean"==typeof c||m.isFunction(c)))return c;a=g[a]||
e;return k(b,a)?b.getAttribute(a):null};c.set=function(b,e,a){b=l.byId(b);if(2==arguments.length){for(var d in e)c.set(b,d,e[d]);return b}d=e.toLowerCase();var k=s.names[d]||e,p=q[k];if("style"==k&&"string"!=typeof a)return h.set(b,a),b;if(p||"boolean"==typeof a||m.isFunction(a))return s.set(b,e,a);b.setAttribute(g[d]||e,a);return b};c.remove=function(b,e){l.byId(b).removeAttribute(g[e.toLowerCase()]||e)};c.getNodeProp=function(b,e){b=l.byId(b);var a=e.toLowerCase(),d=s.names[a]||e;if(d in b&&"href"!=
d)return b[d];a=g[a]||e;return k(b,a)?b.getAttribute(a):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(c,p,m,l,h,s,k,q){var g={},b=0,e=p._scopeName+"attrid";c.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};c.get=function(a,b){a=h.byId(a);var e=b.toLowerCase();return a[c.names[e]||
b]};c.set=function(a,d,r){a=h.byId(a);if(2==arguments.length&&"string"!=typeof d){for(var p in d)c.set(a,p,d[p]);return a}p=d.toLowerCase();p=c.names[p]||d;if("style"==p&&"string"!=typeof r)return s.set(a,r),a;if("innerHTML"==p)return m("ie")&&a.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(k.empty(a),a.appendChild(k.toDom(r,a.ownerDocument))):a[p]=r,a;if(l.isFunction(r)){var t=a[e];t||(t=b++,a[e]=t);g[t]||(g[t]={});var u=g[t][p];if(u)q.disconnect(u);else try{delete a[p]}catch(v){}r?
g[t][p]=q.connect(a,p,r):a[p]=null;return a}a[p]=r;return a}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(c,p,m,l,h,s){function k(a,b){var d=b.parentNode;d&&d.insertBefore(a,b)}function q(a){if(a.canHaveChildren)try{a.innerHTML="";return}catch(b){}for(var d;d=a.lastChild;)g(d,a)}function g(a,b){a.firstChild&&q(a);b&&(m("ie")&&b.canHaveChildren&&"removeNode"in a?a.removeNode(!1):b.removeChild(a))}var b={option:["select"],
tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},e=/<\s*([\w\:]+)/,a={},d=0,r="__"+p._scopeName+"ToDomId",x;for(x in b)b.hasOwnProperty(x)&&(p=b[x],p.pre="option"==x?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+p.join("\x3e\x3c")+"\x3e",p.post="\x3c/"+p.reverse().join("\x3e\x3c/")+"\x3e");var t;8>=m("ie")&&(t=function(a){a.__dojo_html5_tested=
"yes";var b=u("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(b){a.createElement(b)});v(b)});c.toDom=function(c,g){g=g||l.doc;var h=g[r];h||(g[r]=h=++d+"",a[h]=g.createElement("div"));8>=m("ie")&&!g.__dojo_html5_tested&&g.body&&t(g);c+="";var k=c.match(e),q=k?k[1].toLowerCase():
"",h=a[h];if(k&&b[q]){k=b[q];h.innerHTML=k.pre+c+k.post;for(k=k.length;k;--k)h=h.firstChild}else h.innerHTML=c;if(1==h.childNodes.length)return h.removeChild(h.firstChild);for(q=g.createDocumentFragment();k=h.firstChild;)q.appendChild(k);return q};c.place=function(a,b,d){b=h.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?c.toDom(a,b.ownerDocument):h.byId(a));if("number"==typeof d){var e=b.childNodes;!e.length||e.length<=d?b.appendChild(a):k(a,e[0>d?0:d])}else switch(d){case "before":k(a,b);break;
case "after":d=a;(e=b.parentNode)&&(e.lastChild==b?e.appendChild(d):e.insertBefore(d,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":c.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){k(a,b.firstChild);break}default:b.appendChild(a)}return a};var u=c.create=function(a,b,d,e){var g=l.doc;d&&(d=h.byId(d),g=d.ownerDocument);"string"==typeof a&&(a=g.createElement(a));b&&s.set(a,b);d&&c.place(a,d,e);return a};c.empty=function(a){q(h.byId(a))};var v=c.destroy=
function(a){(a=h.byId(a))&&g(a,a.parentNode)}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(c,p,m){function l(c){if("string"==typeof c||c instanceof String){if(c&&!s.test(c))return k[0]=c,k;c=c.split(s);c.length&&!c[0]&&c.shift();c.length&&!c[c.length-1]&&c.pop();return c}return!c?[]:p.filter(c,function(b){return b})}var h,s=/\s+/,k=[""],q={};return h={contains:function(c,b){return 0<=(" "+m.byId(c).className+" ").indexOf(" "+b+" ")},add:function(c,b){c=m.byId(c);
b=l(b);var e=c.className,a,e=e?" "+e+" ":" ";a=e.length;for(var d=0,h=b.length,k;d<h;++d)(k=b[d])&&0>e.indexOf(" "+k+" ")&&(e+=k+" ");a<e.length&&(c.className=e.substr(1,e.length-2))},remove:function(g,b){g=m.byId(g);var e;if(void 0!==b){b=l(b);e=" "+g.className+" ";for(var a=0,d=b.length;a<d;++a)e=e.replace(" "+b[a]+" "," ");e=c.trim(e)}else e="";g.className!=e&&(g.className=e)},replace:function(c,b,e){c=m.byId(c);q.className=c.className;h.remove(q,e);h.add(q,b);c.className!==q.className&&(c.className=
q.className)},toggle:function(c,b,e){c=m.byId(c);if(void 0===e){b=l(b);for(var a=0,d=b.length,k;a<d;++a)k=b[a],h[h.contains(c,k)?"remove":"add"](c,k)}else h[e?"add":"remove"](c,b);return e}}})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(c,p,m,l,h){var s=0,k=[],q=0;p=function(){s=1;c._postLoad=c.config.afterOnLoad=!0;g()};var g=function(){if(!q){for(q=1;s&&(!l||0==l._Q.length)&&(m.idle?m.idle():1)&&k.length;){var a=k.shift();try{a()}catch(b){if(b.info=
b.message,m.signal)m.signal("error",b);else throw b;}}q=0}};m.on&&m.on("idle",g);l&&(l._onQEmpty=g);var b=c.ready=c.addOnLoad=function(a,b,e){var l=h._toArray(arguments);"number"!=typeof a?(e=b,b=a,a=1E3):l.shift();e=e?h.hitch.apply(c,l):function(){b()};e.priority=a;for(l=0;l<k.length&&a>=k[l].priority;l++);k.splice(l,0,e);g()},e=c.config.addOnLoad;if(e)b[h.isArray(e)?"apply":"call"](c,e);c.config.parseOnLoad&&!c.isAsync&&b(99,function(){c.parser||(c.deprecated("Add explicit require(['dojo/parser']);",
"","2.0"),m(["dojo/parser"]))});l?l(p):p();return b})},"dojo/domReady":function(){define(["./has"],function(c){function p(a){g.push(a);q&&m()}function m(){if(!b){for(b=!0;g.length;)try{g.shift()(h)}catch(a){}b=!1;p._onQEmpty()}}var l=this,h=document,s={loaded:1,complete:1},k="string"!=typeof h.readyState,q=!!s[h.readyState],g=[],b;p.load=function(a,b,d){p(d)};p._Q=g;p._onQEmpty=function(){};k&&(h.readyState="loading");if(!q){var e=[],a=function(a){a=a||l.event;q||"readystatechange"==a.type&&!s[h.readyState]||
(k&&(h.readyState="complete"),q=1,m())},d=function(b,d){b.addEventListener(d,a,!1);g.push(function(){b.removeEventListener(d,a,!1)})};if(!c("dom-addeventlistener")){var d=function(b,d){d="on"+d;b.attachEvent(d,a);g.push(function(){b.detachEvent(d,a)})},r=h.createElement("div");try{r.doScroll&&null===l.frameElement&&e.push(function(){try{return r.doScroll("left"),1}catch(a){}})}catch(x){}}d(h,"DOMContentLoaded");d(l,"load");"onreadystatechange"in h?d(h,"readystatechange"):k||e.push(function(){return s[h.readyState]});
if(e.length){var t=function(){if(!q){for(var b=e.length;b--;)if(e[b]()){a("poller");return}setTimeout(t,30)}};t()}}return p})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(c,p,m,l){return c("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(c){var l=this._attrPairNames;return l[c]?l[c]:l[c]={s:"_"+c+"Setter",g:"_"+c+"Getter"}},postscript:function(c){c&&this.set(c)},_get:function(c,l){return"function"===typeof this[l.g]?this[l.g]():
this[c]},get:function(c){return this._get(c,this._getAttrNames(c))},set:function(c,m){if("object"===typeof c){for(var k in c)c.hasOwnProperty(k)&&"_watchCallbacks"!=k&&this.set(k,c[k]);return this}k=this._getAttrNames(c);var q=this._get(c,k);k=this[k.s];var g;"function"===typeof k?g=k.apply(this,Array.prototype.slice.call(arguments,1)):this[c]=m;if(this._watchCallbacks){var b=this;l(g,function(){b._watchCallbacks(c,q,m)})}return this},_changeAttrValue:function(c,l){var k=this.get(c);this[c]=l;this._watchCallbacks&&
this._watchCallbacks(c,k,l);return this},watch:function(c,l){var k=this._watchCallbacks;if(!k)var q=this,k=this._watchCallbacks=function(b,a,d,c){var g=function(c){if(c){c=c.slice();for(var g=0,h=c.length;g<h;g++)c[g].call(q,b,a,d)}};g(k["_"+b]);c||g(k["*"])};!l&&"function"===typeof c?(l=c,c="*"):c="_"+c;var g=k[c];"object"!==typeof g&&(g=k[c]=[]);g.push(l);var b={};b.unwatch=b.remove=function(){var b=m.indexOf(g,l);-1<b&&g.splice(b,1)};return b}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],
function(c,p){return function(m,l,h,s){var k=m&&"function"===typeof m.then,q=k&&m instanceof p;if(k)q||(k=new c(m.cancel),m.then(k.resolve,k.reject,k.progress),m=k.promise);else return 1<arguments.length?l?l(m):m:(new c).resolve(m);return l||h||s?m.then(l,h,s):m}})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(c,p,m,l,h){var s=Object.freeze||function(){},k=function(a,b,c,g,h){2===b&&(e.instrumentRejected&&
0===a.length)&&e.instrumentRejected(c,!1,g,h);for(h=0;h<a.length;h++)q(a[h],b,c,g)},q=function(a,c,h,k){var l=a[c],m=a.deferred;if(l)try{var q=l(h);if(0===c)"undefined"!==typeof q&&b(m,c,q);else{if(q&&"function"===typeof q.then){a.cancel=q.cancel;q.then(g(m,1),g(m,2),g(m,0));return}b(m,1,q)}}catch(p){b(m,2,p)}else b(m,c,h);2===c&&e.instrumentRejected&&e.instrumentRejected(h,!!l,k,m.promise)},g=function(a,c){return function(e){b(a,c,e)}},b=function(a,b,c){if(!a.isCanceled())switch(b){case 0:a.progress(c);
break;case 1:a.resolve(c);break;case 2:a.reject(c)}},e=function(a){var b=this.promise=new l,c=this,g,h,p,v=!1,A=[];Error.captureStackTrace&&(Error.captureStackTrace(c,e),Error.captureStackTrace(b,e));this.isResolved=b.isResolved=function(){return 1===g};this.isRejected=b.isRejected=function(){return 2===g};this.isFulfilled=b.isFulfilled=function(){return!!g};this.isCanceled=b.isCanceled=function(){return v};this.progress=function(a,e){if(g){if(!0===e)throw Error("This deferred has already been fulfilled.");
return b}k(A,0,a,null,c);return b};this.resolve=function(a,e){if(g){if(!0===e)throw Error("This deferred has already been fulfilled.");return b}k(A,g=1,h=a,null,c);A=null;return b};var w=this.reject=function(a,e){if(g){if(!0===e)throw Error("This deferred has already been fulfilled.");return b}Error.captureStackTrace&&Error.captureStackTrace(p={},w);k(A,g=2,h=a,p,c);A=null;return b};this.then=b.then=function(a,c,k){var l=[k,a,c];l.cancel=b.cancel;l.deferred=new e(function(a){return l.cancel&&l.cancel(a)});
g&&!A?q(l,g,h,p):A.push(l);return l.deferred.promise};this.cancel=b.cancel=function(b,c){if(g){if(!0===c)throw Error("This deferred has already been fulfilled.");}else{if(a){var d=a(b);b="undefined"===typeof d?b:d}v=!0;if(g){if(2===g&&h===b)return b}else return"undefined"===typeof b&&(b=new m),w(b),b}};s(b)};e.prototype.toString=function(){return"[object Deferred]"};h&&h(e);return e})},"dojo/errors/CancelError":function(){define(["./create"],function(c){return c("CancelError",null,null,{dojoType:"cancel"})})},
"dojo/errors/create":function(){define(["../_base/lang"],function(c){return function(p,m,l,h){l=l||Error;var s=function(c){if(l===Error){Error.captureStackTrace&&Error.captureStackTrace(this,s);var h=Error.call(this,c),g;for(g in h)h.hasOwnProperty(g)&&(this[g]=h[g]);this.message=c;this.stack=h.stack}else l.apply(this,arguments);m&&m.apply(this,arguments)};s.prototype=c.delegate(l.prototype,h);s.prototype.name=p;return s.prototype.constructor=s}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(c){function p(){throw new TypeError("abstract");}return c.extend(function(){},{then:function(c,l,h){p()},cancel:function(c,l){p()},isResolved:function(){p()},isRejected:function(){p()},isFulfilled:function(){p()},isCanceled:function(){p()},always:function(c){return this.then(c,c)},otherwise:function(c){return this.then(null,c)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer",
"../has","../_base/lang","../_base/array"],function(c,p,m,l){function h(a,b,c){var e="";a&&a.stack&&(e+=a.stack);b&&b.stack&&(e+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));c&&c.stack&&(e+="\n    ----------------------------------------\n"+c.stack);console.error(a,e)}function s(a,b,c,e){b||h(a,c,e)}function k(a,c,h,k){c?l.some(g,function(b,c){if(b.error===a)return g.splice(c,1),!0}):l.some(g,function(b){return b.error===
a})||g.push({error:a,rejection:h,deferred:k,timestamp:(new Date).getTime()});b||(b=setTimeout(q,e))}function q(){var a=(new Date).getTime(),c=a-e;g=l.filter(g,function(a){return a.timestamp<c?(h(a.error,a.rejection,a.deferred),!1):!0});b=g.length?setTimeout(q,g[0].timestamp+e-a):!1}var g=[],b=!1,e=1E3;return function(a){var b=p("config-useDeferredInstrumentation");if(b){c.on("resolved",m.hitch(console,"log","resolved"));c.on("rejected",m.hitch(console,"log","rejected"));c.on("progress",m.hitch(console,
"log","progress"));var g=[];"string"===typeof b&&(g=b.split(","),b=g.shift());if("report-rejections"===b)a.instrumentRejected=s;else if("report-unhandled-rejections"===b||!0===b||1===b)a.instrumentRejected=k,e=parseInt(g[0],10)||e;else throw Error("Unsupported instrumentation usage \x3c"+b+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(c,p,m){function l(c){setTimeout(function(){s.apply(h,c)},0)}var h=new m,s=h.emit;h.emit=null;p.prototype.trace=
function(){var h=c._toArray(arguments);this.then(function(c){l(["resolved",c].concat(h))},function(c){l(["rejected",c].concat(h))},function(c){l(["progress",c].concat(h))});return this};p.prototype.traceRejected=function(){var h=c._toArray(arguments);this.otherwise(function(c){l(["rejected",c].concat(h))});return this};return h})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(c,p,m){return m("dijit.Destroyable",null,{destroy:function(c){this._destroyed=
!0},own:function(){var l=["destroyRecursive","destroy","remove"];c.forEach(arguments,function(h){function m(){q.remove();c.forEach(g,function(b){b.remove()})}var k,q=p.before(this,"destroy",function(b){h[k](b)}),g=[];h.then?(k="cancel",h.then(m,m)):c.forEach(l,function(b){"function"===typeof h[b]&&(k||(k=b),g.push(p.after(h,b,m,!0)))})},this);return arguments}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(c,p,m){var l={},h={},s={length:0,add:function(c){if(h[c.id])throw Error("Tried to register widget with id\x3d\x3d"+
c.id+" but that id is already registered");h[c.id]=c;this.length++},remove:function(c){h[c]&&(delete h[c],this.length--)},byId:function(c){return"string"==typeof c?h[c]:c},byNode:function(c){return h[c.getAttribute("widgetId")]},toArray:function(){var c=[],l;for(l in h)c.push(h[l]);return c},getUniqueId:function(c){var q;do q=c+"_"+(c in l?++l[c]:l[c]=0);while(h[q]);return"dijit"==m._scopeName?q:m._scopeName+"_"+q},findWidgets:function(c,l){function g(c){for(c=c.firstChild;c;c=c.nextSibling)if(1==
c.nodeType){var a=c.getAttribute("widgetId");a?(a=h[a])&&b.push(a):c!==l&&g(c)}}var b=[];g(c);return b},_destroyAll:function(){m._curFocus=null;m._prevFocus=null;m._activeStack=[];c.forEach(s.findWidgets(p.body()),function(c){c._destroyed||(c.destroyRecursive?c.destroyRecursive():c.destroy&&c.destroy())})},getEnclosingWidget:function(c){for(;c;){var l=1==c.nodeType&&c.getAttribute("widgetId");if(l)return h[l];c=c.parentNode}return null},_hash:h};return m.registry=s})},"dijit/main":function(){define(["dojo/_base/kernel"],
function(c){return c.dijit})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(c,p,m,l,h,s,k,q){function g(a,b){var c=function(c,d){if("string"==typeof d&&(d=m.byId(d),!d))return new b([]);var e="string"==typeof c?a(c,d):c?c.end&&c.on?c:[c]:[];return e.end&&e.on?e:new b(e)};c.matches=a.match||function(a,b,d){return 0<c.filter([a],b,d).length};c.filter=a.filter||function(a,b,d){return c(b,d).filter(function(b){return-1<
h.indexOf(a,b)})};if("function"!=typeof a){var d=a.search;a=function(a,b){return d(b||document,a)}}return c}p.add("array-extensible",function(){return 1==s.delegate([],{length:1}).length&&!p("bug-for-in-skips-shadowed")});var b=Array.prototype,e=b.slice,a=b.concat,d=h.forEach,r=function(a,b,d){b=[0].concat(e.call(b,0));d=d||c.global;return function(c){b[0]=c;return a.apply(d,b)}},x=function(a){var b=this instanceof t&&p("array-extensible");"number"==typeof a&&(a=Array(a));var c=a&&"length"in a?a:
arguments;if(b||!c.sort){for(var d=b?this:[],e=d.length=c.length,g=0;g<e;g++)d[g]=c[g];if(b)return d;c=d}s._mixin(c,u);c._NodeListCtor=function(a){return t(a)};return c},t=x,u=t.prototype=p("array-extensible")?[]:{};t._wrap=u._wrap=function(a,b,c){a=new (c||this._NodeListCtor||t)(a);return b?a._stash(b):a};t._adaptAsMap=function(a,b){return function(){return this.map(r(a,arguments,b))}};t._adaptAsForEach=function(a,b){return function(){this.forEach(r(a,arguments,b));return this}};t._adaptAsFilter=
function(a,b){return function(){return this.filter(r(a,arguments,b))}};t._adaptWithCondition=function(a,b,d){return function(){var e=arguments,g=r(a,e,d);if(b.call(d||c.global,e))return this.map(g);this.forEach(g);return this}};d(["slice","splice"],function(a){var c=b[a];u[a]=function(){return this._wrap(c.apply(this,arguments),"slice"==a?this:null)}});d(["indexOf","lastIndexOf","every","some"],function(a){var b=h[a];u[a]=function(){return b.apply(c,[this].concat(e.call(arguments,0)))}});s.extend(x,
{constructor:t,_NodeListCtor:t,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var c=this.map(function(c){return l(c,a,b)});c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(b){var c=e.call(this,0),d=h.map(arguments,function(a){return e.call(a,0)});return this._wrap(a.apply(c,d),this)},map:function(a,b){return this._wrap(h.map(this,
a,b),this)},forEach:function(a,b){d(this,a,b);return this},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=v._filterResult(this,b[0]);if(1==b.length)return c._stash(this);d=1}return this._wrap(h.filter(c,b[d],b[d+1]),this)},instantiate:function(a,b){var c=s.isFunction(a)?a:s.getObject(a);b=b||{};return this.forEach(function(a){new c(b,a)})},at:function(){var a=new this._NodeListCtor(0);d(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});
var v=g(q,x);c.query=g(q,function(a){return x(a)});v.load=function(a,b,c){k.load(a,b,function(a){c(g(a,x))})};c._filterQueryResult=v._filterResult=function(a,b,c){return new x(v.filter(a,b,c))};c.NodeList=v.NodeList=x;return v})},"dojo/selector/_loader":function(){define(["../has","require"],function(c,p){var m=document.createElement("div");c.add("dom-qsa2.1",!!m.querySelectorAll);c.add("dom-qsa3",function(){try{return m.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==m.querySelectorAll(".TEST:empty").length}catch(c){}});
var l;return{load:function(h,m,k,q){q=p;h="default"==h?c("config-selectorEngine")||"css3":h;h="css2"==h||"lite"==h?"./lite":"css2.1"==h?c("dom-qsa2.1")?"./lite":"./acme":"css3"==h?c("dom-qsa3")?"./lite":"./acme":"acme"==h?"./acme":(q=m)&&h;if("?"==h.charAt(h.length-1)){h=h.substring(0,h.length-1);var g=!0}if(g&&(c("dom-compliant-qsa")||l))return k(l);q([h],function(b){"./lite"!=h&&(l=b);k(b)})}}})},"codemirror4/lib/codemirror":function(){(function(c){if("object"==typeof exports&&"object"==typeof module)module.exports=
c();else{if("function"==typeof define&&define.amd)return define([],c);this.CodeMirror=c()}})(function(){function c(f,n){if(!(this instanceof c))return new c(f,n);this.options=n=n||{};nc(Ve,n,!1);r(n);var a=n.value;"string"==typeof a&&(a=new Da(a,n.mode));this.doc=a;var Zd=this.display=new p(f,a);Zd.wrapper.CodeMirror=this;b(this);q(this);n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");n.autofocus&&!nd&&na(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,
suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new od};vb&&setTimeout(gb(ua,this,!0),20);Kc(this);$d||(We(),$d=!0);var wa=this;ma(this,function(){wa.curOp.forceUpdate=!0;ae(wa,a);n.autofocus&&!nd||Eb()==Zd.input?setTimeout(gb(ld,wa),20):Ic(wa);for(var f in dc)if(dc.hasOwnProperty(f))dc[f](wa,n[f],be);for(f=0;f<pd.length;++f)pd[f](wa)})}function p(f,n){var a=this.input=D("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");za?a.style.width=
"1000px":a.setAttribute("wrap","off");oc&&(a.style.border="1px solid black");a.setAttribute("autocorrect","off");a.setAttribute("autocapitalize","off");a.setAttribute("spellcheck","false");this.inputDiv=D("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");this.scrollbarH=D("div",[D("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");this.scrollbarV=D("div",[D("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");this.scrollbarFiller=D("div",
null,"CodeMirror-scrollbar-filler");this.gutterFiller=D("div",null,"CodeMirror-gutter-filler");this.lineDiv=D("div",null,"CodeMirror-code");this.selectionDiv=D("div",null,null,"position: relative; z-index: 1");this.cursorDiv=D("div",null,"CodeMirror-cursors");this.measure=D("div",null,"CodeMirror-measure");this.lineMeasure=D("div",null,"CodeMirror-measure");this.lineSpace=D("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");
this.mover=D("div",[D("div",[this.lineSpace],"CodeMirror-lines")],null,"position: relative");this.sizer=D("div",[this.mover],"CodeMirror-sizer");this.heightForcer=D("div",null,null,"position: absolute; height: "+wb+"px; width: 1px;");this.gutters=D("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=D("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=D("div",[this.inputDiv,this.scrollbarH,this.scrollbarV,
this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");pc&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);oc&&(a.style.width="0px");za||(this.scroller.draggable=!0);qd&&(this.inputDiv.style.height="1px",this.inputDiv.style.position="absolute");pc&&(this.scrollbarH.style.minHeight=this.scrollbarV.style.minWidth="18px");f.appendChild?f.appendChild(this.wrapper):f(this.wrapper);this.viewFrom=this.viewTo=n.first;this.view=[];this.externalMeasured=null;this.lastSizeC=this.viewOffset=
0;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=this.updateLineNumbers=null;this.prevInput="";this.pollingFast=this.alignWidgets=!1;this.poll=new od;this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.inaccurateSelection=!1;this.maxLine=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.selForContextMenu=null}function m(f){f.doc.mode=c.getMode(f.options,f.doc.modeOption);l(f)}function l(f){f.doc.iter(function(f){f.stateAfter&&
(f.stateAfter=null);f.styles&&(f.styles=null)});f.doc.frontier=f.doc.first;ab(f,100);f.state.modeGen++;f.curOp&&Ca(f)}function h(f){var n=K(f.display),a=f.options.lineWrapping,b=a&&Math.max(5,f.display.scroller.clientWidth/ca(f.display)-3);return function(c){if(Lb(f.doc,c))return 0;var d=0;if(c.widgets)for(var e=0;e<c.widgets.length;e++)c.widgets[e].height&&(d+=c.widgets[e].height);return a?d+(Math.ceil(c.text.length/b)||1)*n:d+n}}function s(f){var n=f.doc,a=h(f);n.iter(function(f){var n=a(f);n!=
f.height&&hb(f,n)})}function k(f){var n=xb[f.options.keyMap].style;f.display.wrapper.className=f.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(n?" cm-keymap-"+n:"")}function q(f){f.display.wrapper.className=f.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+f.options.theme.replace(/(^|\s)\s*/g," cm-s-");ga(f)}function g(f){b(f);Ca(f);setTimeout(function(){v(f)},20)}function b(f){var n=f.display.gutters,a=f.options.gutters;Mb(n);for(var b=0;b<a.length;++b){var c=a[b],d=n.appendChild(D("div",
null,"CodeMirror-gutter "+c));"CodeMirror-linenumbers"==c&&(f.display.lineGutter=d,d.style.width=(f.display.lineNumWidth||1)+"px")}n.style.display=b?"":"none";e(f)}function e(f){var n=f.display.gutters.offsetWidth;f.display.sizer.style.marginLeft=n+"px";f.display.scrollbarH.style.left=f.options.fixedGutter?n+"px":0}function a(f){if(0==f.height)return 0;for(var n=f.text.length,a,b=f;a=Nb(b,!0);)a=a.find(0,!0),b=a.from.line,n+=a.from.ch-a.to.ch;for(b=f;a=Nb(b,!1);)a=a.find(0,!0),n-=b.text.length-a.from.ch,
b=a.to.line,n+=b.text.length-a.to.ch;return n}function d(f){var n=f.display;f=f.doc;n.maxLine=G(f,f.first);n.maxLineLength=a(n.maxLine);n.maxLineChanged=!0;f.iter(function(f){var b=a(f);b>n.maxLineLength&&(n.maxLineLength=b,n.maxLine=f)})}function r(f){var n=sa(f.gutters,"CodeMirror-linenumbers");-1==n&&f.lineNumbers?f.gutters=f.gutters.concat(["CodeMirror-linenumbers"]):-1<n&&!f.lineNumbers&&(f.gutters=f.gutters.slice(0),f.gutters.splice(n,1))}function x(f){var n=f.display.scroller;return{clientHeight:n.clientHeight,
barHeight:f.display.scrollbarV.clientHeight,scrollWidth:n.scrollWidth,clientWidth:n.clientWidth,barWidth:f.display.scrollbarH.clientWidth,docHeight:Math.round(f.doc.height+(f.display.mover.offsetHeight-f.display.lineSpace.offsetHeight))}}function t(f,n){n||(n=x(f));var a=f.display,b=n.docHeight+wb,c=n.scrollWidth>n.clientWidth,d=b>n.clientHeight;d?(a.scrollbarV.style.display="block",a.scrollbarV.style.bottom=c?qc(a.measure)+"px":"0",a.scrollbarV.firstChild.style.height=Math.max(0,b-n.clientHeight+
(n.barHeight||a.scrollbarV.clientHeight))+"px"):(a.scrollbarV.style.display="",a.scrollbarV.firstChild.style.height="0");c?(a.scrollbarH.style.display="block",a.scrollbarH.style.right=d?qc(a.measure)+"px":"0",a.scrollbarH.firstChild.style.width=n.scrollWidth-n.clientWidth+(n.barWidth||a.scrollbarH.clientWidth)+"px"):(a.scrollbarH.style.display="",a.scrollbarH.firstChild.style.width="0");c&&d?(a.scrollbarFiller.style.display="block",a.scrollbarFiller.style.height=a.scrollbarFiller.style.width=qc(a.measure)+
"px"):a.scrollbarFiller.style.display="";c&&f.options.coverGutterNextToScrollbar&&f.options.fixedGutter?(a.gutterFiller.style.display="block",a.gutterFiller.style.height=qc(a.measure)+"px",a.gutterFiller.style.width=a.gutters.offsetWidth+"px"):a.gutterFiller.style.display="";!f.state.checkedOverlayScrollbar&&0<n.clientHeight&&(0===qc(a.measure)&&(a.scrollbarV.style.minWidth=a.scrollbarH.style.minHeight=Fb&&!Xe?"12px":"18px",b=function(n){(n.target||n.srcElement)!=a.scrollbarV&&(n.target||n.srcElement)!=
a.scrollbarH&&fa(f,Jb)(n)},L(a.scrollbarV,"mousedown",b),L(a.scrollbarH,"mousedown",b)),f.state.checkedOverlayScrollbar=!0)}function u(f,n,a){var b=a&&null!=a.top?a.top:f.scroller.scrollTop,b=Math.floor(b-f.lineSpace.offsetTop),c=a&&null!=a.bottom?a.bottom:b+f.wrapper.clientHeight,b=Ob(n,b),c=Ob(n,c);if(a&&a.ensure){var d=a.ensure.from.line;a=a.ensure.to.line;if(d<b)return{from:d,to:Ob(n,ib(G(n,d))+f.wrapper.clientHeight)};if(Math.min(a,n.lastLine())>=c)return{from:Ob(n,ib(G(n,a))-f.wrapper.clientHeight),
to:a}}return{from:b,to:c}}function v(f){var n=f.display,a=n.view;if(n.alignWidgets||n.gutters.firstChild&&f.options.fixedGutter){for(var b=A(n)-n.scroller.scrollLeft+f.doc.scrollLeft,c=n.gutters.offsetWidth,d=b+"px",e=0;e<a.length;e++)if(!a[e].hidden){f.options.fixedGutter&&a[e].gutter&&(a[e].gutter.style.left=d);var g=a[e].alignable;if(g)for(var h=0;h<g.length;h++)g[h].style.left=d}f.options.fixedGutter&&(n.gutters.style.left=b+c+"px")}}function A(f){return f.scroller.getBoundingClientRect().left-
f.sizer.getBoundingClientRect().left}function w(f,n,a){for(var b=f.display.viewFrom,c=f.display.viewTo,d,g=u(f.display,f.doc,n),h=!0;;h=!1){var k=f.display.scroller.clientWidth,l;l=f;var m=g,r=a;a=l.display;var q=l.doc;if(a.wrapper.offsetWidth)if(!r&&m.from>=a.viewFrom&&m.to<=a.viewTo&&0==Lc(l))l=void 0;else{var p;p=l;if(p.options.lineNumbers){var s=p.doc,s=String(p.options.lineNumberFormatter(s.first+s.size-1+p.options.firstLineNumber)),F=p.display;if(s.length!=F.lineNumChars){var ba=F.measure.appendChild(D("div",
[D("div",s)],"CodeMirror-linenumber CodeMirror-gutter-elt")),v=ba.firstChild.offsetWidth,ba=ba.offsetWidth-v;F.lineGutter.style.width="";F.lineNumInnerWidth=Math.max(v,F.lineGutter.offsetWidth-ba);F.lineNumWidth=F.lineNumInnerWidth+ba;F.lineNumChars=F.lineNumInnerWidth?s.length:-1;F.lineGutter.style.width=F.lineNumWidth+"px";e(p);p=!0}else p=!1}else p=!1;p&&Ka(l);p=H(l);v=q.first+q.size;s=Math.max(m.from-l.options.viewportMargin,q.first);F=Math.min(v,m.to+l.options.viewportMargin);a.viewFrom<s&&20>
s-a.viewFrom&&(s=Math.max(q.first,a.viewFrom));a.viewTo>F&&20>a.viewTo-F&&(F=Math.min(v,a.viewTo));Gb&&(s=rd(l.doc,s),F=ce(l.doc,F));m=s!=a.viewFrom||F!=a.viewTo||a.lastSizeC!=a.wrapper.clientHeight;q=l;v=q.display;0==v.view.length||s>=v.viewTo||F<=v.viewFrom?(v.view=cc(q,s,F),v.viewFrom=s):(v.viewFrom>s?v.view=cc(q,s,v.viewFrom).concat(v.view):v.viewFrom<s&&(v.view=v.view.slice(ub(q,s))),v.viewFrom=s,v.viewTo<F?v.view=v.view.concat(cc(q,v.viewTo,F)):v.viewTo>F&&(v.view=v.view.slice(0,ub(q,F))));
v.viewTo=F;a.viewOffset=ib(G(l.doc,a.viewFrom));l.display.mover.style.top=a.viewOffset+"px";q=Lc(l);if(!m&&0==q&&!r)l=void 0;else{r=Eb();4<q&&(a.lineDiv.style.display="none");C(l,a.updateLineNumbers,p);4<q&&(a.lineDiv.style.display="");r&&(Eb()!=r&&r.offsetHeight)&&r.focus();Mb(a.cursorDiv);Mb(a.selectionDiv);m&&(a.lastSizeC=a.wrapper.clientHeight,ab(l,400));l=l.display;a=l.lineDiv.offsetTop;for(r=0;r<l.view.length;r++)if(m=l.view[r],!m.hidden&&(pc?(p=m.node.offsetTop+m.node.offsetHeight,q=p-a,a=
p):(q=m.node.getBoundingClientRect(),q=q.bottom-q.top),p=m.line.height-q,2>q&&(q=K(l)),0.001<p||-0.001>p))if(hb(m.line,q),y(m.line),m.rest)for(q=0;q<m.rest.length;q++)y(m.rest[q]);l=!0}}else Ka(l),l=void 0;if(!l)break;d=!0;f.display.maxLineChanged&&!f.options.lineWrapping&&(l=f,a=l.display,r=Sa(l,Na(l,a.maxLine),a.maxLine.text.length,void 0).left,a.maxLineChanged=!1,r=Math.max(0,r+3),m=Math.max(0,a.sizer.offsetLeft+r+wb-a.scroller.clientWidth),a.sizer.style.minWidth=r+"px",m<l.doc.scrollLeft&&fb(l,
Math.min(a.scroller.scrollLeft,m),!0));l=x(f);Qa(f);a=f;r=l;a.display.sizer.style.minHeight=a.display.heightForcer.style.top=r.docHeight+"px";a.display.gutters.style.height=Math.max(r.docHeight,r.clientHeight-wb)+"px";t(f,l);za&&f.options.lineWrapping&&(a=f,r=l,a.display.sizer.offsetWidth+a.display.gutters.offsetWidth<a.display.scroller.clientWidth-1&&(a.display.sizer.style.minHeight=a.display.heightForcer.style.top="0px",a.display.gutters.style.height=r.docHeight+"px"));if(h&&f.options.lineWrapping&&
k!=f.display.scroller.clientWidth)a=!0;else if(a=!1,n&&null!=n.top&&(n={top:Math.min(l.docHeight-wb-l.clientHeight,n.top)}),g=u(f.display,f.doc,n),g.from>=f.display.viewFrom&&g.to<=f.display.viewTo)break}f.display.updateLineNumbers=null;d&&(oa(f,"update",f),(f.display.viewFrom!=b||f.display.viewTo!=c)&&oa(f,"viewportChange",f,f.display.viewFrom,f.display.viewTo));return d}function y(f){if(f.widgets)for(var n=0;n<f.widgets.length;++n)f.widgets[n].height=f.widgets[n].node.offsetHeight}function H(f){for(var n=
f.display,a={},b={},c=n.gutters.firstChild,d=0;c;c=c.nextSibling,++d)a[f.options.gutters[d]]=c.offsetLeft,b[f.options.gutters[d]]=c.offsetWidth;return{fixedPos:A(n),gutterTotalWidth:n.gutters.offsetWidth,gutterLeft:a,gutterWidth:b,wrapperWidth:n.wrapper.clientWidth}}function C(f,n,a){function b(n){var a=n.nextSibling;za&&Fb&&f.display.currentWheelTarget==n?n.style.display="none":n.parentNode.removeChild(n);return a}for(var c=f.display,d=f.options.lineNumbers,e=c.lineDiv,g=e.firstChild,h=c.view,c=
c.viewFrom,l=0;l<h.length;l++){var k=h[l];if(!k.hidden)if(k.node){for(;g!=k.node;)g=b(g);g=d&&null!=n&&n<=c&&k.lineNumber;k.changes&&(-1<sa(k.changes,"gutter")&&(g=!1),U(f,k,c,a));g&&(Mb(k.lineNumber),k.lineNumber.appendChild(document.createTextNode(String(f.options.lineNumberFormatter(c+f.options.firstLineNumber)))));g=k.node.nextSibling}else{var m=Ea(f,k,c,a);e.insertBefore(m,g)}c+=k.size}for(;g;)g=b(g)}function U(f,n,a,b){for(var c=0;c<n.changes.length;c++){var d=n.changes[c];if("text"==d){var d=
n,e=d.text.className,g=Y(f,d);d.text==d.node&&(d.node=g.pre);d.text.parentNode.replaceChild(g.pre,d.text);d.text=g.pre;g.bgClass!=d.bgClass||g.textClass!=d.textClass?(d.bgClass=g.bgClass,d.textClass=g.textClass,$(d)):e&&(d.text.className=e)}else if("gutter"==d)Z(f,n,a,b);else if("class"==d)$(n);else if("widget"==d){d=n;e=b;d.alignable&&(d.alignable=null);for(var g=d.node.firstChild,h=void 0;g;g=h)h=g.nextSibling,"CodeMirror-linewidget"==g.className&&d.node.removeChild(g);Fa(d,e)}}n.changes=null}function R(f){f.node==
f.text&&(f.node=D("div",null,null,"position: relative"),f.text.parentNode&&f.text.parentNode.replaceChild(f.node,f.text),f.node.appendChild(f.text),pc&&(f.node.style.zIndex=2));return f.node}function Y(f,n){var a=f.display.externalMeasured;return a&&a.line==n.line?(f.display.externalMeasured=null,n.measure=a.measure,a.built):de(f,n)}function $(f){var n=f.bgClass?f.bgClass+" "+(f.line.bgClass||""):f.line.bgClass;n&&(n+=" CodeMirror-linebackground");if(f.background)n?f.background.className=n:(f.background.parentNode.removeChild(f.background),
f.background=null);else if(n){var a=R(f);f.background=a.insertBefore(D("div",null,n),a.firstChild)}f.line.wrapClass?R(f).className=f.line.wrapClass:f.node!=f.text&&(f.node.className="");f.text.className=(f.textClass?f.textClass+" "+(f.line.textClass||""):f.line.textClass)||""}function Z(f,n,a,b){n.gutter&&(n.node.removeChild(n.gutter),n.gutter=null);var c=n.line.gutterMarkers;if(f.options.lineNumbers||c){var d=R(n),d=n.gutter=d.insertBefore(D("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+
(f.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px"),n.text);if(f.options.lineNumbers&&(!c||!c["CodeMirror-linenumbers"]))n.lineNumber=d.appendChild(D("div",String(f.options.lineNumberFormatter(a+f.options.firstLineNumber)),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+b.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+f.display.lineNumInnerWidth+"px"));if(c)for(n=0;n<f.options.gutters.length;++n){a=f.options.gutters[n];var e=c.hasOwnProperty(a)&&c[a];e&&d.appendChild(D("div",[e],
"CodeMirror-gutter-elt","left: "+b.gutterLeft[a]+"px; width: "+b.gutterWidth[a]+"px"))}}}function Ea(f,n,a,b){var c=Y(f,n);n.text=n.node=c.pre;c.bgClass&&(n.bgClass=c.bgClass);c.textClass&&(n.textClass=c.textClass);$(n);Z(f,n,a,b);Fa(n,b);return n.node}function Fa(f,n){J(f.line,f,n,!0);if(f.rest)for(var a=0;a<f.rest.length;a++)J(f.rest[a],f,n,!1)}function J(f,n,a,b){if(f.widgets){var c=R(n),d=0;for(f=f.widgets;d<f.length;++d){var e=f[d],g=D("div",[e.node],"CodeMirror-linewidget");e.handleMouseEvents||
(g.ignoreEvents=!0);var h=e,l=g,k=a;if(h.noHScroll){(n.alignable||(n.alignable=[])).push(l);var m=k.wrapperWidth;l.style.left=k.fixedPos+"px";h.coverGutter||(m-=k.gutterTotalWidth,l.style.paddingLeft=k.gutterTotalWidth+"px");l.style.width=m+"px"}h.coverGutter&&(l.style.zIndex=5,l.style.position="relative",h.noHScroll||(l.style.marginLeft=-k.gutterTotalWidth+"px"));b&&e.above?c.insertBefore(g,n.gutter||n.text):c.appendChild(g);oa(e,"redraw")}}}function S(f,n){return 0>P(f,n)?n:f}function ja(f,n){return 0>
P(f,n)?f:n}function T(f,n){this.ranges=f;this.primIndex=n}function I(f,n){this.anchor=f;this.head=n}function O(f,n){var a=f[n];f.sort(function(f,n){return P(f.from(),n.from())});n=sa(f,a);for(a=1;a<f.length;a++){var b=f[a],c=f[a-1];if(0<=P(c.to(),b.from())){var d=ja(c.from(),b.from()),e=S(c.to(),b.to()),b=c.empty()?b.from()==b.head:c.from()==c.head;a<=n&&--n;f.splice(--a,2,new I(b?e:d,b?d:e))}}return new T(f,n)}function ka(f,n){return new T([new I(f,n||f)],0)}function B(f,n){if(n.line<f.first)return z(f.first,
0);var a=f.first+f.size-1;if(n.line>a)return z(a,G(f,a).text.length);var a=G(f,n.line).text.length,b=n.ch,a=null==b||b>a?z(n.line,a):0>b?z(n.line,0):n;return a}function ta(f,n){return n>=f.first&&n<f.first+f.size}function da(f,n,a,b){return f.cm&&f.cm.display.shift||f.extend?(f=n.anchor,b&&(n=0>P(a,f),n!=0>P(b,f)?(f=a,a=b):n!=0>P(a,b)&&(a=b)),new I(f,a)):new I(b||a,a)}function Q(f,n,a,b){W(f,new T([da(f,f.sel.primary(),n,a)],0),b)}function Ba(f,n,a){for(var b=[],c=0;c<f.sel.ranges.length;c++)b[c]=
da(f,f.sel.ranges[c],n[c],null);n=O(b,f.sel.primIndex);W(f,n,a)}function V(f,n,a,b){var c=f.sel.ranges.slice(0);c[n]=a;W(f,O(c,f.sel.primIndex),b)}function N(f,n){var a={ranges:n.ranges,update:function(n){this.ranges=[];for(var a=0;a<n.length;a++)this.ranges[a]=new I(B(f,n[a].anchor),B(f,n[a].head))}};pa(f,"beforeSelectionChange",f,a);f.cm&&pa(f.cm,"beforeSelectionChange",f.cm,a);return a.ranges!=n.ranges?O(a.ranges,a.ranges.length-1):n}function Pa(f,n,a){var b=f.history.done,c=aa(b);c&&c.ranges?
(b[b.length-1]=n,Ga(f,n,a)):W(f,n,a)}function W(f,n,a){Ga(f,n,a);n=f.sel;var b=f.cm?f.cm.curOp.id:NaN,c=f.history,d=a&&a.origin,e;if(!(e=b==c.lastOp))if(e=d)if(e=c.lastSelOrigin==d)if(!(e=c.lastModTime==c.lastSelTime&&c.lastOrigin==d)){e=aa(c.done);var g=d.charAt(0);e="*"==g||"+"==g&&e.ranges.length==n.ranges.length&&e.somethingSelected()==n.somethingSelected()&&new Date-f.history.lastSelTime<=(f.cm?f.cm.options.historyEventDelay:500)}e?c.done[c.done.length-1]=n:Oc(n,c.done);c.lastSelTime=+new Date;
c.lastSelOrigin=d;c.lastOp=b;a&&!1!==a.clearRedo&&ee(c.undone)}function Ga(f,n,a){if(Va(f,"beforeSelectionChange")||f.cm&&Va(f.cm,"beforeSelectionChange"))n=N(f,n);var b=0>P(n.primary().head,f.sel.primary().head)?-1:1;Ha(f,F(f,n,b,!0));!(a&&!1===a.scroll)&&f.cm&&ec(f.cm)}function Ha(f,n){n.equals(f.sel)||(f.sel=n,f.cm&&(f.cm.curOp.updateInput=f.cm.curOp.selectionChanged=!0,fe(f.cm)),oa(f,"cursorActivity",f))}function ba(f){Ha(f,F(f,f.sel,null,!1),Pb)}function F(f,n,a,b){for(var c,d=0;d<n.ranges.length;d++){var e=
n.ranges[d],g=X(f,e.anchor,a,b),h=X(f,e.head,a,b);if(c||g!=e.anchor||h!=e.head)c||(c=n.ranges.slice(0,d)),c[d]=new I(g,h)}return c?O(c,n.primIndex):n}function X(f,n,a,b){var c=!1,d=n,e=a||1;f.cantEdit=!1;a:for(;;){var g=G(f,d.line);if(g.markedSpans)for(var h=0;h<g.markedSpans.length;++h){var l=g.markedSpans[h],k=l.marker;if((null==l.from||(k.inclusiveLeft?l.from<=d.ch:l.from<d.ch))&&(null==l.to||(k.inclusiveRight?l.to>=d.ch:l.to>d.ch))){if(b&&(pa(k,"beforeCursorEnter"),k.explicitlyCleared))if(g.markedSpans){--h;
continue}else break;if(k.atomic){h=k.find(0>e?-1:1);if(0==P(h,d)&&(h.ch+=e,0>h.ch?h=h.line>f.first?B(f,z(h.line-1)):null:h.ch>g.text.length&&(h=h.line<f.first+f.size-1?z(h.line+1,0):null),!h)){if(c){if(!b)return X(f,n,a,!0);f.cantEdit=!0;return z(f.first,0)}c=!0;h=n;e=-e}d=h;continue a}}}return d}}function Qa(f){for(var n=f.display,a=f.doc,b=document.createDocumentFragment(),c=document.createDocumentFragment(),d=0;d<a.sel.ranges.length;d++){var e=a.sel.ranges[d],g=e.empty();if(g||f.options.showCursorWhenSelecting){var h=
f,l=b,k=ia(h,e.head,"div"),m=l.appendChild(D("div","\u00a0","CodeMirror-cursor"));m.style.left=k.left+"px";m.style.top=k.top+"px";m.style.height=Math.max(0,k.bottom-k.top)*h.options.cursorHeight+"px";k.other&&(h=l.appendChild(D("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor")),h.style.display="",h.style.left=k.other.left+"px",h.style.top=k.other.top+"px",h.style.height=0.85*(k.other.bottom-k.other.top)+"px")}g||jc(f,e,c)}f.options.moveInputWithCursor&&(a=ia(f,a.sel.primary().head,"div"),
d=n.wrapper.getBoundingClientRect(),e=n.lineDiv.getBoundingClientRect(),f=Math.max(0,Math.min(n.wrapper.clientHeight-10,a.top+e.top-d.top)),a=Math.max(0,Math.min(n.wrapper.clientWidth-10,a.left+e.left-d.left)),n.inputDiv.style.top=f+"px",n.inputDiv.style.left=a+"px");jb(n.cursorDiv,b);jb(n.selectionDiv,c)}function jc(f,n,a){function b(f,n,a,c){0>n&&(n=0);n=Math.round(n);c=Math.round(c);g.appendChild(D("div",null,"CodeMirror-selected","position: absolute; left: "+f+"px; top: "+n+"px; width: "+(null==
a?k-f:a)+"px; height: "+(c-n)+"px"))}function c(n,a,Ma){var d=G(e,n),wa=d.text.length,g,h;Ye(kb(d),a||0,null==Ma?wa:Ma,function(c,e,ra){var m=Oa(f,z(n,c),"div",d,"left"),r,q;c==e?(r=m,ra=q=m.left):(r=Oa(f,z(n,e-1),"div",d,"right"),"rtl"==ra&&(ra=m,m=r,r=ra),ra=m.left,q=r.right);null==a&&0==c&&(ra=l);3<r.top-m.top&&(b(ra,m.top,null,m.bottom),ra=l,m.bottom<r.top&&b(ra,m.bottom,null,r.top));null==Ma&&e==wa&&(q=k);if(!g||m.top<g.top||m.top==g.top&&m.left<g.left)g=m;if(!h||r.bottom>h.bottom||r.bottom==
h.bottom&&r.right>h.right)h=r;ra<l+1&&(ra=l);b(ra,r.top,q-ra,r.bottom)});return{start:g,end:h}}var d=f.display,e=f.doc,g=document.createDocumentFragment(),h=Ja(f.display),l=h.left,k=d.lineSpace.offsetWidth-h.right,d=n.from();n=n.to();if(d.line==n.line)c(d.line,d.ch,n.ch);else{var m=G(e,d.line),h=G(e,n.line),h=lb(m)==lb(h),d=c(d.line,d.ch,h?m.text.length+1:null).end;n=c(n.line,h?0:null,n.ch).start;h&&(d.top<n.top-2?(b(d.right,d.top,null,d.bottom),b(l,n.top,n.left,n.bottom)):b(d.right,d.top,n.left-
d.right,d.bottom));d.bottom<n.top&&b(l,d.bottom,null,n.top)}a.appendChild(g)}function pb(f){if(f.state.focused){var n=f.display;clearInterval(n.blinker);var a=!0;n.cursorDiv.style.visibility="";0<f.options.cursorBlinkRate&&(n.blinker=setInterval(function(){n.cursorDiv.style.visibility=(a=!a)?"":"hidden"},f.options.cursorBlinkRate))}}function ab(f,n){f.doc.mode.startState&&f.doc.frontier<f.display.viewTo&&f.state.highlight.set(n,gb(qb,f))}function qb(f){var n=f.doc;n.frontier<n.first&&(n.frontier=
n.first);if(!(n.frontier>=f.display.viewTo)){var a=+new Date+f.options.workTime,b=rc(n.mode,qa(f,n.frontier));ma(f,function(){n.iter(n.frontier,Math.min(n.first+n.size,f.display.viewTo+500),function(c){if(n.frontier>=f.display.viewFrom){var d=c.styles,e=ge(f,c,b,!0);c.styles=e.styles;e.classes?c.styleClasses=e.classes:c.styleClasses&&(c.styleClasses=null);for(var e=!d||d.length!=c.styles.length,g=0;!e&&g<d.length;++g)e=d[g]!=c.styles[g];e&&db(f,n.frontier,"text");c.stateAfter=rc(n.mode,b)}else sd(f,
c.text,b),c.stateAfter=0==n.frontier%5?rc(n.mode,b):null;++n.frontier;if(+new Date>a)return ab(f,f.options.workDelay),!0})})}}function zb(f,n,a){for(var b,c,d=f.doc,e=a?-1:n-(f.doc.mode.innerMode?1E3:100);n>e;--n){if(n<=d.first)return d.first;var g=G(d,n-1);if(g.stateAfter&&(!a||n<=d.frontier))return n;g=Wa(g.text,null,f.options.tabSize);if(null==c||b>g)c=n-1,b=g}return c}function qa(f,n,a){var b=f.doc,c=f.display;if(!b.mode.startState)return!0;var d=zb(f,n,a),e=d>b.first&&G(b,d-1).stateAfter,e=e?
rc(b.mode,e):Ze(b.mode);b.iter(d,n,function(a){sd(f,a.text,e);a.stateAfter=d==n-1||0==d%5||d>=c.viewFrom&&d<c.viewTo?rc(b.mode,e):null;++d});a&&(b.frontier=d);return e}function Ja(f){if(f.cachedPaddingH)return f.cachedPaddingH;var n=jb(f.measure,D("pre","x")),n=window.getComputedStyle?window.getComputedStyle(n):n.currentStyle,n={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};!isNaN(n.left)&&!isNaN(n.right)&&(f.cachedPaddingH=n);return n}function Ra(f,n){if(n>=f.display.viewFrom&&n<f.display.viewTo)return f.display.view[ub(f,
n)];var a=f.display.externalMeasured;if(a&&n>=a.lineN&&n<a.lineN+a.size)return a}function Na(f,n){var a=ha(n),b=Ra(f,a);b&&!b.text?b=null:b&&b.changes&&U(f,b,a,H(f));if(!b){var c;c=lb(n);b=ha(c);c=f.display.externalMeasured=new bc(f.doc,c,b);c.lineN=b;b=c.built=de(f,c);c.text=b.pre;jb(f.display.lineMeasure,b.pre);b=c}a:if(c=b,c.line==n)a={map:c.measure.map,cache:c.measure.cache};else{for(var d=0;d<c.rest.length;d++)if(c.rest[d]==n){a={map:c.measure.maps[d],cache:c.measure.caches[d]};break a}for(d=
0;d<c.rest.length;d++)if(ha(c.rest[d])>a){a={map:c.measure.maps[d],cache:c.measure.caches[d],before:!0};break a}a=void 0}return{line:n,view:b,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function Sa(f,n,a,b){n.before&&(a=-1);var c=a+(b||""),d;if(n.cache.hasOwnProperty(c))d=n.cache[c];else{n.rect||(n.rect=n.view.text.getBoundingClientRect());if(!n.hasHeights){var e=n.view,g=n.rect,h=f.options.lineWrapping,l=h&&f.display.scroller.clientWidth;if(!e.measure.heights||h&&e.measure.width!=
l){var k=e.measure.heights=[];if(h){e.measure.width=l;e=e.text.firstChild.getClientRects();for(h=0;h<e.length-1;h++){var l=e[h],m=e[h+1];2<Math.abs(l.bottom-m.bottom)&&k.push((l.bottom+m.top)/2-g.top)}}k.push(g.bottom-g.top)}n.hasHeights=!0}var g=b,k=n.map,r,q,p;for(b=0;b<k.length;b+=3){var s=k[b],t=k[b+1];if(a<s)q=0,p=1,d="left";else if(a<t)q=a-s,p=q+1;else if(b==k.length-3||a==t&&k[b+3]>a)p=t-s,q=p-1,a>=t&&(d="right");if(null!=q){r=k[b+2];if(s==t&&g==(r.insertLeft?"left":"right"))d=g;if("left"==
g&&0==q)for(;b&&k[b-2]==k[b-3]&&k[b-1].insertLeft;)r=k[(b-=3)+2],d="left";if("right"==g&&q==t-s)for(;b<k.length-3&&k[b+3]==k[b+4]&&!k[b+5].insertLeft;)r=k[(b+=3)+2],d="right";break}}if(3==r.nodeType){for(;q&&sc(n.line.text.charAt(s+q));)--q;for(;s+p<t&&sc(n.line.text.charAt(s+p));)++p;if(xa&&0==q&&p==t-s)a=r.parentNode.getBoundingClientRect();else if(ya&&f.options.lineWrapping){var K=tc(r,q,p).getClientRects();a=K.length?K["right"==g?K.length-1:0]:td}else a=tc(r,q,p).getBoundingClientRect()||td}else 0<
q&&(d=g="right"),a=f.options.lineWrapping&&1<(K=r.getClientRects()).length?K["right"==g?K.length-1:0]:r.getBoundingClientRect();if(xa&&!q&&(!a||!a.left&&!a.right))a=(r=r.parentNode.getClientRects()[0])?{left:r.left,right:r.left+ca(f.display),top:r.top,bottom:r.bottom}:td;r=(a.bottom+a.top)/2-n.rect.top;q=n.view.measure.heights;for(b=0;b<q.length-1&&!(r<q[b]);b++);f=b?q[b-1]:0;r=q[b];d={left:("right"==d?a.right:a.left)-n.rect.left,right:("left"==d?a.left:a.right)-n.rect.left,top:f,bottom:r};!a.left&&
!a.right&&(d.bogus=!0);d.bogus||(n.cache[c]=d)}return{left:d.left,right:d.right,top:d.top,bottom:d.bottom}}function Za(f){if(f.measure&&(f.measure.cache={},f.measure.heights=null,f.rest))for(var n=0;n<f.rest.length;n++)f.measure.caches[n]={}}function Ia(f){f.display.externalMeasure=null;Mb(f.display.lineMeasure);for(var n=0;n<f.display.view.length;n++)Za(f.display.view[n])}function ga(f){Ia(f);f.display.cachedCharWidth=f.display.cachedTextHeight=f.display.cachedPaddingH=null;f.options.lineWrapping||
(f.display.maxLineChanged=!0);f.display.lineNumChars=null}function Ta(f,n,a,b){if(n.widgets)for(var c=0;c<n.widgets.length;++c)if(n.widgets[c].above){var d=uc(n.widgets[c]);a.top+=d;a.bottom+=d}if("line"==b)return a;b||(b="local");n=ib(n);n="local"==b?n+f.display.lineSpace.offsetTop:n-f.display.viewOffset;if("page"==b||"window"==b)f=f.display.lineSpace.getBoundingClientRect(),n+=f.top+("window"==b?0:window.pageYOffset||(document.documentElement||document.body).scrollTop),b=f.left+("window"==b?0:window.pageXOffset||
(document.documentElement||document.body).scrollLeft),a.left+=b,a.right+=b;a.top+=n;a.bottom+=n;return a}function la(f,n,a){if("div"==a)return n;var b=n.left;n=n.top;if("page"==a)b-=window.pageXOffset||(document.documentElement||document.body).scrollLeft,n-=window.pageYOffset||(document.documentElement||document.body).scrollTop;else if("local"==a||!a)a=f.display.sizer.getBoundingClientRect(),b+=a.left,n+=a.top;f=f.display.lineSpace.getBoundingClientRect();return{left:b-f.left,top:n-f.top}}function Oa(f,
n,a,b,c){b||(b=G(f.doc,n.line));return Ta(f,b,Sa(f,Na(f,b),n.ch,c),a)}function ia(f,n,a,b,c){function d(n,e){var g=Sa(f,c,n,e?"right":"left");e?g.left=g.right:g.right=g.left;return Ta(f,b,g,a)}function e(f,n){var a=g[n],b=a.level%2;f==(a.level%2?a.to:a.from)&&n&&a.level<g[n-1].level?(a=g[--n],f=ud(a)-(a.level%2?0:1),b=!0):f==ud(a)&&(n<g.length-1&&a.level<g[n+1].level)&&(a=g[++n],f=(a.level%2?a.to:a.from)-a.level%2,b=!1);return b&&f==a.to&&f>a.from?d(f-1):d(f,b)}b=b||G(f.doc,n.line);c||(c=Na(f,b));
var g=kb(b);n=n.ch;if(!g)return d(n);var h=vd(g,n),h=e(n,h);null!=vc&&(h.other=e(n,vc));return h}function $b(f,n){var a=0;n=B(f.doc,n);f.options.lineWrapping||(a=ca(f.display)*n.ch);var b=G(f.doc,n.line),c=ib(b)+f.display.lineSpace.offsetTop;return{left:a,right:a,top:c,bottom:c+b.height}}function Ua(f,n,a,b){f=z(f,n);f.xRel=b;a&&(f.outside=!0);return f}function E(f,n,a){var b=f.doc;a+=f.display.viewOffset;if(0>a)return Ua(b.first,0,!0,-1);var c=Ob(b,a),d=b.first+b.size-1;if(c>d)return Ua(b.first+
b.size-1,G(b,d).text.length,!0,1);0>n&&(n=0);for(b=G(b,c);;)if(c=Ab(f,b,c,n,a),d=(b=Nb(b,!1))&&b.find(0,!0),b&&(c.ch>d.from.ch||c.ch==d.from.ch&&0<c.xRel))c=ha(b=d.to.line);else return c}function Ab(f,n,a,b,c){function d(b){b=ia(f,z(a,b),"line",n,l);g=!0;if(e>b.bottom)return b.left-h;if(e<b.top)return b.left+h;g=!1;return b.left}var e=c-ib(n),g=!1,h=2*f.display.wrapper.clientWidth,l=Na(f,n),k=kb(n),m=n.text.length;c=Pc(n);var r=Qc(n),q=d(c),p=g,s=d(r),t=g;if(b>s)return Ua(a,r,t,1);for(;;){if(k?r==
c||r==wd(n,c,1):1>=r-c){k=b<q||b-q<=s-b?c:r;for(b-=k==c?q:s;sc(n.text.charAt(k));)++k;return Ua(a,k,k==c?p:t,-1>b?-1:1<b?1:0)}var K=Math.ceil(m/2),u=c+K;if(k)for(var u=c,F=0;F<K;++F)u=wd(n,u,1);F=d(u);if(F>b){r=u;s=F;if(t=g)s+=1E3;m=K}else c=u,q=F,p=g,m-=K}}function K(f){if(null!=f.cachedTextHeight)return f.cachedTextHeight;if(null==Qb){Qb=D("pre");for(var n=0;49>n;++n)Qb.appendChild(document.createTextNode("x")),Qb.appendChild(D("br"));Qb.appendChild(document.createTextNode("x"))}jb(f.measure,Qb);
n=Qb.offsetHeight/50;3<n&&(f.cachedTextHeight=n);Mb(f.measure);return n||1}function ca(f){if(null!=f.cachedCharWidth)return f.cachedCharWidth;var n=D("span","xxxxxxxxxx"),a=D("pre",[n]);jb(f.measure,a);n=n.getBoundingClientRect();n=(n.right-n.left)/10;2<n&&(f.cachedCharWidth=n);return n||10}function rb(f){f.curOp={viewChanged:!1,startHeight:f.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,
scrollToPos:null,id:++$e};Rc++||(Hb=[])}function sb(f){var n=f.curOp,a=f.doc,b=f.display;f.curOp=null;n.updateMaxLine&&d(f);if(n.viewChanged||n.forceUpdate||null!=n.scrollTop||n.scrollToPos&&(n.scrollToPos.from.line<b.viewFrom||n.scrollToPos.to.line>=b.viewTo)||b.maxLineChanged&&f.options.lineWrapping){var c=w(f,{top:n.scrollTop,ensure:n.scrollToPos},n.forceUpdate);f.display.scroller.offsetHeight&&(f.doc.scrollTop=f.display.scroller.scrollTop)}!c&&n.selectionChanged&&Qa(f);!c&&n.startHeight!=f.doc.height&&
t(f);null!=n.scrollTop&&b.scroller.scrollTop!=n.scrollTop&&(c=Math.max(0,Math.min(b.scroller.scrollHeight-b.scroller.clientHeight,n.scrollTop)),b.scroller.scrollTop=b.scrollbarV.scrollTop=a.scrollTop=c);null!=n.scrollLeft&&b.scroller.scrollLeft!=n.scrollLeft&&(c=Math.max(0,Math.min(b.scroller.scrollWidth-b.scroller.clientWidth,n.scrollLeft)),b.scroller.scrollLeft=b.scrollbarH.scrollLeft=a.scrollLeft=c,v(f));if(n.scrollToPos){a:{a=B(f.doc,n.scrollToPos.from);b=B(f.doc,n.scrollToPos.to);c=n.scrollToPos.margin;
for(null==c&&(c=0);;){var e=!1,g=ia(f,a),h=!b||b==a?g:ia(f,b),h=Sc(f,Math.min(g.left,h.left),Math.min(g.top,h.top)-c,Math.max(g.left,h.left),Math.max(g.bottom,h.bottom)+c),l=f.doc.scrollTop,k=f.doc.scrollLeft;null!=h.scrollTop&&(Bb(f,h.scrollTop),1<Math.abs(f.doc.scrollTop-l)&&(e=!0));null!=h.scrollLeft&&(fb(f,h.scrollLeft),1<Math.abs(f.doc.scrollLeft-k)&&(e=!0));if(!e){a=g;break a}}a=void 0}if(n.scrollToPos.isCursor&&f.state.focused){b=a;c=f.display;e=c.sizer.getBoundingClientRect();a=null;if(0>
b.top+e.top)a=!0;else if(b.bottom+e.top>(window.innerHeight||document.documentElement.clientHeight))a=!1;null!=a&&!af&&(b=D("div","\u200b",null,"position: absolute; top: "+(b.top-c.viewOffset-f.display.lineSpace.offsetTop)+"px; height: "+(b.bottom-b.top+wb)+"px; left: "+b.left+"px; width: 2px;"),f.display.lineSpace.appendChild(b),b.scrollIntoView(a),f.display.lineSpace.removeChild(b))}}n.selectionChanged&&pb(f);f.state.focused&&n.updateInput&&ua(f,n.typing);a=n.maybeHiddenMarkers;b=n.maybeUnhiddenMarkers;
if(a)for(c=0;c<a.length;++c)a[c].lines.length||pa(a[c],"hide");if(b)for(c=0;c<b.length;++c)b[c].lines.length&&pa(b[c],"unhide");var m;--Rc||(m=Hb,Hb=null);n.changeObjs&&pa(f,"changes",f,n.changeObjs);if(m)for(c=0;c<m.length;++c)m[c]();if(n.cursorActivityHandlers)for(c=0;c<n.cursorActivityHandlers.length;c++)n.cursorActivityHandlers[c](f)}function ma(f,a){if(f.curOp)return a();rb(f);try{return a()}finally{sb(f)}}function fa(f,a){return function(){if(f.curOp)return a.apply(f,arguments);rb(f);try{return a.apply(f,
arguments)}finally{sb(f)}}}function ea(f){return function(){if(this.curOp)return f.apply(this,arguments);rb(this);try{return f.apply(this,arguments)}finally{sb(this)}}}function va(f){return function(){var a=this.cm;if(!a||a.curOp)return f.apply(this,arguments);rb(a);try{return f.apply(this,arguments)}finally{sb(a)}}}function bc(f,a,b){for(var c=this.line=a,d;c=Nb(c,!1);)c=c.find(1,!0).line,(d||(d=[])).push(c);this.size=(this.rest=d)?ha(aa(this.rest))-b+1:1;this.node=this.text=null;this.hidden=Lb(f,
a)}function cc(f,a,b){var c=[],d;for(d=a;d<b;)a=new bc(f.doc,G(f.doc,d),d),d+=a.size,c.push(a);return c}function Ca(f,a,b,c){null==a&&(a=f.doc.first);null==b&&(b=f.doc.first+f.doc.size);c||(c=0);var d=f.display;if(c&&b<d.viewTo&&(null==d.updateLineNumbers||d.updateLineNumbers>a))d.updateLineNumbers=a;f.curOp.viewChanged=!0;if(a>=d.viewTo)Gb&&rd(f.doc,a)<d.viewTo&&Ka(f);else if(b<=d.viewFrom)Gb&&ce(f.doc,b+c)>d.viewFrom?Ka(f):(d.viewFrom+=c,d.viewTo+=c);else if(a<=d.viewFrom&&b>=d.viewTo)Ka(f);else if(a<=
d.viewFrom){var e=tb(f,b,b+c,1);e?(d.view=d.view.slice(e.index),d.viewFrom=e.lineN,d.viewTo+=c):Ka(f)}else if(b>=d.viewTo)(e=tb(f,a,a,-1))?(d.view=d.view.slice(0,e.index),d.viewTo=e.lineN):Ka(f);else{var e=tb(f,a,a,-1),g=tb(f,b,b+c,1);e&&g?(d.view=d.view.slice(0,e.index).concat(cc(f,e.lineN,g.lineN)).concat(d.view.slice(g.index)),d.viewTo+=c):Ka(f)}if(f=d.externalMeasured)b<f.lineN?f.lineN+=c:a<f.lineN+f.size&&(d.externalMeasured=null)}function db(f,a,b){f.curOp.viewChanged=!0;var c=f.display,d=f.display.externalMeasured;
d&&(a>=d.lineN&&a<d.lineN+d.size)&&(c.externalMeasured=null);a<c.viewFrom||a>=c.viewTo||(f=c.view[ub(f,a)],null!=f.node&&(f=f.changes||(f.changes=[]),-1==sa(f,b)&&f.push(b)))}function Ka(f){f.display.viewFrom=f.display.viewTo=f.doc.first;f.display.view=[];f.display.viewOffset=0}function ub(f,a){if(a>=f.display.viewTo)return null;a-=f.display.viewFrom;if(0>a)return null;for(var b=f.display.view,c=0;c<b.length;c++)if(a-=b[c].size,0>a)return c}function tb(f,a,b,c){var d=ub(f,a),e=f.display.view;if(!Gb||
b==f.doc.first+f.doc.size)return{index:d,lineN:b};for(var g=0,h=f.display.viewFrom;g<d;g++)h+=e[g].size;if(h!=a){if(0<c){if(d==e.length-1)return null;a=h+e[d].size-a;d++}else a=h-a;b+=a}for(;rd(f.doc,b)!=b;){if(d==(0>c?0:e.length-1))return null;b+=c*e[d-(0>c?1:0)].size;d+=c}return{index:d,lineN:b}}function Lc(f){f=f.display.view;for(var a=0,b=0;b<f.length;b++){var c=f[b];!c.hidden&&(!c.node||c.changes)&&++a}return a}function $a(f){f.display.pollingFast||f.display.poll.set(f.options.pollInterval,function(){nb(f);
f.state.focused&&$a(f)})}function Kb(f){function a(){!nb(f)&&!b?(b=!0,f.display.poll.set(60,a)):(f.display.pollingFast=!1,$a(f))}var b=!1;f.display.pollingFast=!0;f.display.poll.set(20,a)}function nb(f){var a=f.display.input,b=f.display.prevInput,c=f.doc;if(!f.state.focused||bf(a)&&!b||ob(f)||f.options.disableInput)return!1;f.state.pasteIncoming&&f.state.fakedLastChar&&(a.value=a.value.substring(0,a.value.length-1),f.state.fakedLastChar=!1);var d=a.value;if(d==b&&!f.somethingSelected())return!1;if(ya&&
!xa&&f.display.inputHasSelection===d)return ua(f),!1;var e=!f.curOp;e&&rb(f);f.display.shift=!1;8203==d.charCodeAt(0)&&(c.sel==f.display.selForContextMenu&&!b)&&(b="\u200b");for(var g=0,h=Math.min(b.length,d.length);g<h&&b.charCodeAt(g)==d.charCodeAt(g);)++g;for(var h=d.slice(g),l=fc(h),k=f.state.pasteIncoming&&1<l.length&&c.sel.ranges.length==l.length,m=c.sel.ranges.length-1;0<=m;m--){var r=c.sel.ranges[m],q=r.from(),p=r.to();g<b.length?q=z(q.line,q.ch-(b.length-g)):f.state.overwrite&&(r.empty()&&
!f.state.pasteIncoming)&&(p=z(p.line,Math.min(G(c,p.line).text.length,p.ch+aa(l).length)));var s=f.curOp.updateInput,p={from:q,to:p,text:k?[l[m]]:l,origin:f.state.pasteIncoming?"paste":f.state.cutIncoming?"cut":"+input"};ac(f.doc,p);oa(f,"inputRead",f,p);if(h&&!f.state.pasteIncoming&&f.options.electricChars&&f.options.smartIndent&&100>r.head.ch&&(!m||c.sel.ranges[m-1].head.line!=r.head.line))if(q=f.getModeAt(r.head),q.electricChars)for(p=0;p<q.electricChars.length;p++){if(-1<h.indexOf(q.electricChars.charAt(p))){wc(f,
r.head.line,"smart");break}}else q.electricInput&&(p=Rb(p),q.electricInput.test(G(c,p.line).text.slice(0,p.ch))&&wc(f,r.head.line,"smart"))}ec(f);f.curOp.updateInput=s;f.curOp.typing=!0;1E3<d.length||-1<d.indexOf("\n")?a.value=f.display.prevInput="":f.display.prevInput=d;e&&sb(f);f.state.pasteIncoming=f.state.cutIncoming=!1;return!0}function ua(f,a){var b,c,d=f.doc;f.somethingSelected()?(f.display.prevInput="",b=d.sel.primary(),c=(b=he&&(100<b.to().line-b.from().line||1E3<(c=f.getSelection()).length))?
"-":c||f.getSelection(),f.display.input.value=c,f.state.focused&&xc(f.display.input),ya&&!xa&&(f.display.inputHasSelection=c)):a||(f.display.prevInput=f.display.input.value="",ya&&!xa&&(f.display.inputHasSelection=null));f.display.inaccurateSelection=b}function na(f){"nocursor"!=f.options.readOnly&&(!nd||Eb()!=f.display.input)&&f.display.input.focus()}function bb(f){f.state.focused||(na(f),ld(f))}function ob(f){return f.options.readOnly||f.doc.cantEdit}function Kc(f){function a(){f.state.focused&&
setTimeout(gb(na,f),0)}function b(a){mb(f,a)||xd(a)}function c(a){if(f.somethingSelected())d.inaccurateSelection&&(d.prevInput="",d.inaccurateSelection=!1,d.input.value=f.getSelection(),xc(d.input));else{for(var n="",b=[],e=0;e<f.doc.sel.ranges.length;e++){var Ma=f.doc.sel.ranges[e].head.line,Ma={anchor:z(Ma,0),head:z(Ma+1,0)};b.push(Ma);n+=f.getRange(Ma.anchor,Ma.head)}"cut"==a.type?f.setSelections(b,null,Pb):(d.prevInput="",d.input.value=n,xc(d.input))}"cut"==a.type&&(f.state.cutIncoming=!0)}var d=
f.display;L(d.scroller,"mousedown",fa(f,Jb));vb?L(d.scroller,"dblclick",fa(f,function(a){if(!mb(f,a)){var n=eb(f,a);n&&(!Db(f,a,"gutterClick",!0,oa)&&!La(f.display,a))&&(Aa(a),a=yd(f,n),Q(f.doc,a.anchor,a.head))}})):L(d.scroller,"dblclick",function(a){mb(f,a)||Aa(a)});L(d.lineSpace,"selectstart",function(f){La(d,f)||Aa(f)});zd||L(d.scroller,"contextmenu",function(a){Td(f,a)});L(d.scroller,"scroll",function(){d.scroller.clientHeight&&(Bb(f,d.scroller.scrollTop),fb(f,d.scroller.scrollLeft,!0),pa(f,
"scroll",f))});L(d.scrollbarV,"scroll",function(){d.scroller.clientHeight&&Bb(f,d.scrollbarV.scrollTop)});L(d.scrollbarH,"scroll",function(){d.scroller.clientHeight&&fb(f,d.scrollbarH.scrollLeft)});L(d.scroller,"mousewheel",function(a){Nc(f,a)});L(d.scroller,"DOMMouseScroll",function(a){Nc(f,a)});L(d.scrollbarH,"mousedown",a);L(d.scrollbarV,"mousedown",a);L(d.wrapper,"scroll",function(){d.wrapper.scrollTop=d.wrapper.scrollLeft=0});L(d.input,"keyup",fa(f,Rd));L(d.input,"input",function(){ya&&(!xa&&
f.display.inputHasSelection)&&(f.display.inputHasSelection=null);Kb(f)});L(d.input,"keydown",fa(f,Qd));L(d.input,"keypress",fa(f,Sd));L(d.input,"focus",gb(ld,f));L(d.input,"blur",gb(Ic,f));f.options.dragDrop&&(L(d.scroller,"dragstart",function(a){var n=f;if(ya&&(!n.state.draggingText||100>+new Date-ie))xd(a);else if(!mb(n,a)&&!La(n.display,a)&&(a.dataTransfer.setData("Text",n.getSelection()),a.dataTransfer.setDragImage&&!je)){var b=D("img",null,null,"position: fixed; left: 0; top: 0;");b.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";
Xa&&(b.width=b.height=1,n.display.wrapper.appendChild(b),b._top=b.offsetTop);a.dataTransfer.setDragImage(b,0,0);Xa&&b.parentNode.removeChild(b)}}),L(d.scroller,"dragenter",b),L(d.scroller,"dragover",b),L(d.scroller,"drop",fa(f,Zb)));L(d.scroller,"paste",function(a){La(d,a)||(f.state.pasteIncoming=!0,na(f),Kb(f))});L(d.input,"paste",function(){if(za&&!f.state.fakedLastChar&&!(200>new Date-f.state.lastMiddleDown)){var a=d.input.selectionStart,n=d.input.selectionEnd;d.input.value+="$";d.input.selectionStart=
a;d.input.selectionEnd=n;f.state.fakedLastChar=!0}f.state.pasteIncoming=!0;Kb(f)});L(d.input,"cut",c);L(d.input,"copy",c);qd&&L(d.sizer,"mouseup",function(){Eb()==d.input&&d.input.blur();na(f)})}function cb(f){var a=f.display;a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null;f.setSize()}function La(f,a){for(var b=a.target||a.srcElement;b!=f.wrapper;b=b.parentNode)if(!b||b.ignoreEvents||b.parentNode==f.sizer&&b!=f.mover)return!0}function eb(f,a,b,c){var d=f.display;if(!b&&(b=a.target||a.srcElement,
b==d.scrollbarH||b==d.scrollbarV||b==d.scrollbarFiller||b==d.gutterFiller))return null;var e,g,d=d.lineSpace.getBoundingClientRect();try{e=a.clientX-d.left,g=a.clientY-d.top}catch(h){return null}a=E(f,e,g);var l;if(c&&1==a.xRel&&(l=G(f.doc,a.line).text).length==a.ch)c=Wa(l,l.length,f.options.tabSize)-l.length,a=z(a.line,Math.max(0,Math.round((e-Ja(f.display).left)/ca(f.display))-c));return a}function Jb(f){if(!mb(this,f)){var a=this.display;a.shift=f.shiftKey;if(La(a,f))za||(a.scroller.draggable=
!1,setTimeout(function(){a.scroller.draggable=!0},100));else if(!Db(this,f,"gutterClick",!0,oa)){var b=eb(this,f);window.focus();switch(ke(f)){case 1:b?Yb(this,f,b):(f.target||f.srcElement)==a.scroller&&Aa(f);break;case 2:za&&(this.state.lastMiddleDown=+new Date);b&&Q(this.doc,b);setTimeout(gb(na,this),20);Aa(f);break;case 3:zd&&Td(this,f)}}}}function Yb(f,a,b){setTimeout(gb(bb,f),0);var c=+new Date,d;Tc&&Tc.time>c-400&&0==P(Tc.pos,b)?d="triple":Uc&&Uc.time>c-400&&0==P(Uc.pos,b)?(d="double",Tc={time:c,
pos:b}):(d="single",Uc={time:c,pos:b});var c=f.doc.sel,e=Fb?a.metaKey:a.ctrlKey;f.options.dragDrop&&cf&&!e&&!ob(f)&&"single"==d&&-1<c.contains(b)&&c.somethingSelected()?kc(f,a,b):Mc(f,a,b,d,e)}function kc(f,a,b){var c=f.display,d=fa(f,function(e){za&&(c.scroller.draggable=!1);f.state.draggingText=!1;yb(document,"mouseup",d);yb(c.scroller,"drop",d);10>Math.abs(a.clientX-e.clientX)+Math.abs(a.clientY-e.clientY)&&(Aa(e),Q(f.doc,b),na(f),vb&&!xa&&setTimeout(function(){document.body.focus();na(f)},20))});
za&&(c.scroller.draggable=!0);f.state.draggingText=d;c.scroller.dragDrop&&c.scroller.dragDrop();L(document,"mouseup",d);L(c.scroller,"drop",d)}function Mc(f,a,b,c,d){function e(a){if(0!=P(p,a))if(p=a,"rect"==c){for(var n=[],d=f.options.tabSize,g=Wa(G(k,b.line).text,b.ch,d),h=Wa(G(k,a.line).text,a.ch,d),wa=Math.min(g,h),g=Math.max(g,h),h=Math.min(b.line,a.line),l=Math.min(f.lastLine(),Math.max(b.line,a.line));h<=l;h++){var ra=G(k,h).text,s=le(ra,wa,d);wa==g?n.push(new I(z(h,s),z(h,s))):ra.length>s&&
n.push(new I(z(h,s),z(h,le(ra,g,d))))}n.length||n.push(new I(b,b));W(k,O(q.ranges.slice(0,r).concat(n),r),{origin:"*mouse",scroll:!1});f.scrollIntoView(a)}else n=m,d=n.anchor,wa=a,"single"!=c&&(a="double"==c?yd(f,a):new I(z(a.line,0),B(k,z(a.line+1,0))),0<P(a.anchor,d)?(wa=a.head,d=ja(n.from(),a.anchor)):(wa=a.anchor,d=S(n.to(),a.head))),n=q.ranges.slice(0),n[r]=new I(B(k,d),wa),W(k,O(n,r),Ad)}function g(a){var b=++t,n=eb(f,a,!0,"rect"==c);if(n)if(0!=P(n,p)){bb(f);e(n);var d=u(l,k);(n.line>=d.to||
n.line<d.from)&&setTimeout(fa(f,function(){t==b&&g(a)}),150)}else{var Ma=a.clientY<s.top?-20:a.clientY>s.bottom?20:0;Ma&&setTimeout(fa(f,function(){t==b&&(l.scroller.scrollTop+=Ma,g(a))}),50)}}function h(a){t=Infinity;Aa(a);na(f);yb(document,"mousemove",K);yb(document,"mouseup",F);k.history.lastSelOrigin=null}var l=f.display,k=f.doc;Aa(a);var m,r,q=k.sel;d&&!a.shiftKey?(r=k.sel.contains(b),m=-1<r?k.sel.ranges[r]:new I(b,b)):m=k.sel.primary();a.altKey?(c="rect",d||(m=new I(b,b)),b=eb(f,a,!0,!0),r=
-1):"double"==c?(a=yd(f,b),m=f.display.shift||k.extend?da(k,m,a.anchor,a.head):a):"triple"==c?(a=new I(z(b.line,0),B(k,z(b.line+1,0))),m=f.display.shift||k.extend?da(k,m,a.anchor,a.head):a):m=da(k,m,b);d?-1<r?V(k,r,m,Ad):(r=k.sel.ranges.length,W(k,O(k.sel.ranges.concat([m]),r),{scroll:!1,origin:"*mouse"})):(r=0,W(k,new T([m],0),Ad),q=k.sel);var p=b,s=l.wrapper.getBoundingClientRect(),t=0,K=fa(f,function(f){(ya&&!df?!f.buttons:!ke(f))?h(f):g(f)}),F=fa(f,h);L(document,"mousemove",K);L(document,"mouseup",
F)}function Db(f,a,b,c,d){try{var e=a.clientX,g=a.clientY}catch(h){return!1}if(e>=Math.floor(f.display.gutters.getBoundingClientRect().right))return!1;c&&Aa(a);c=f.display;var k=c.lineDiv.getBoundingClientRect();if(g>k.bottom||!Va(f,b))return Bd(a);g-=k.top-c.viewOffset;for(k=0;k<f.options.gutters.length;++k){var l=c.gutters.childNodes[k];if(l&&l.getBoundingClientRect().right>=e)return e=Ob(f.doc,g),d(f,b,f,e,f.options.gutters[k],a),Bd(a)}}function Zb(f){var a=this;if(!mb(a,f)&&!La(a.display,f)){Aa(f);
ya&&(ie=+new Date);var b=eb(a,f,!0),c=f.dataTransfer.files;if(b&&!ob(a))if(c&&c.length&&window.FileReader&&window.File){var d=c.length,e=Array(d),g=0;f=function(f,c){var h=new FileReader;h.onload=fa(a,function(){e[c]=h.result;if(++g==d){b=B(a.doc,b);var f={from:b,to:b,text:fc(e.join("\n")),origin:"paste"};ac(a.doc,f);Pa(a.doc,ka(b,Rb(f)))}});h.readAsText(f)};for(var h=0;h<d;++h)f(c[h],h)}else if(a.state.draggingText&&-1<a.doc.sel.contains(b))a.state.draggingText(f),setTimeout(gb(na,a),20);else try{if(e=
f.dataTransfer.getData("Text")){var k=a.state.draggingText&&a.listSelections();Ga(a.doc,ka(b,b));if(k)for(h=0;h<k.length;++h)Vc(a.doc,"",k[h].anchor,k[h].head,"drag");a.replaceSelection(e,"around","paste");na(a)}}catch(l){}}}function Bb(f,a){2>Math.abs(f.doc.scrollTop-a)||(f.doc.scrollTop=a,yc||w(f,{top:a}),f.display.scroller.scrollTop!=a&&(f.display.scroller.scrollTop=a),f.display.scrollbarV.scrollTop!=a&&(f.display.scrollbarV.scrollTop=a),yc&&w(f),ab(f,100))}function fb(f,a,b){if(!(b?a==f.doc.scrollLeft:
2>Math.abs(f.doc.scrollLeft-a)))a=Math.min(a,f.display.scroller.scrollWidth-f.display.scroller.clientWidth),f.doc.scrollLeft=a,v(f),f.display.scroller.scrollLeft!=a&&(f.display.scroller.scrollLeft=a),f.display.scrollbarH.scrollLeft!=a&&(f.display.scrollbarH.scrollLeft=a)}function Nc(f,a){var b=a.wheelDeltaX,c=a.wheelDeltaY;null==b&&(a.detail&&a.axis==a.HORIZONTAL_AXIS)&&(b=a.detail);null==c&&a.detail&&a.axis==a.VERTICAL_AXIS?c=a.detail:null==c&&(c=a.wheelDelta);var d=f.display,e=d.scroller;if(b&&
e.scrollWidth>e.clientWidth||c&&e.scrollHeight>e.clientHeight){if(c&&Fb&&za){var g=a.target,h=d.view;a:for(;g!=e;g=g.parentNode)for(var k=0;k<h.length;k++)if(h[k].node==g){f.display.currentWheelTarget=g;break a}}b&&!yc&&!Xa&&null!=Ya?(c&&Bb(f,Math.max(0,Math.min(e.scrollTop+c*Ya,e.scrollHeight-e.clientHeight))),fb(f,Math.max(0,Math.min(e.scrollLeft+b*Ya,e.scrollWidth-e.clientWidth))),Aa(a),d.wheelStartX=null):(c&&null!=Ya&&(g=c*Ya,h=f.doc.scrollTop,k=h+d.wrapper.clientHeight,0>g?h=Math.max(0,h+g-
50):k=Math.min(f.doc.height,k+g+50),w(f,{top:h,bottom:k})),20>Wc&&(null==d.wheelStartX?(d.wheelStartX=e.scrollLeft,d.wheelStartY=e.scrollTop,d.wheelDX=b,d.wheelDY=c,setTimeout(function(){if(null!=d.wheelStartX){var f=e.scrollLeft-d.wheelStartX,a=e.scrollTop-d.wheelStartY,f=a&&d.wheelDY&&a/d.wheelDY||f&&d.wheelDX&&f/d.wheelDX;d.wheelStartX=d.wheelStartY=null;f&&(Ya=(Ya*Wc+f)/(Wc+1),++Wc)}},200)):(d.wheelDX+=b,d.wheelDY+=c)))}}function Cb(f,a,b){if("string"==typeof a&&(a=Xc[a],!a))return!1;f.display.pollingFast&&
nb(f)&&(f.display.pollingFast=!1);var c=f.display.shift,d=!1;try{ob(f)&&(f.state.suppressEdits=!0),b&&(f.display.shift=!1),d=a(f)!=me}finally{f.display.shift=c,f.state.suppressEdits=!1}return d}function lc(f){var a=f.state.keyMaps.slice(0);f.options.extraKeys&&a.push(f.options.extraKeys);a.push(f.options.keyMap);return a}function mc(f,a){var b=Cd(f.options.keyMap),c=b.auto;clearTimeout(ne);c&&!ef(a)&&(ne=setTimeout(function(){Cd(f.options.keyMap)==b&&(f.options.keyMap=c.call?c.call(null,f):c,k(f))},
50));var d=ff(a,!0),e=!1;if(!d)return!1;e=lc(f);if(e=a.shiftKey?Yc("Shift-"+d,e,function(a){return Cb(f,a,!0)})||Yc(d,e,function(a){if("string"==typeof a?/^go[A-Z]/.test(a):a.motion)return Cb(f,a)}):Yc(d,e,function(a){return Cb(f,a)}))Aa(a),pb(f),oa(f,"keyHandled",f,d,a);return e}function Te(f,a,b){var c=Yc("'"+b+"'",lc(f),function(a){return Cb(f,a,!0)});c&&(Aa(a),pb(f),oa(f,"keyHandled",f,"'"+b+"'",a));return c}function Qd(f){bb(this);if(!mb(this,f)){vb&&27==f.keyCode&&(f.returnValue=!1);var a=f.keyCode;
this.display.shift=16==a||f.shiftKey;var b=mc(this,f);Xa&&(Dd=b?a:null,!b&&(88==a&&!he&&(Fb?f.metaKey:f.ctrlKey))&&this.replaceSelection("",null,"cut"));18==a&&!/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)&&Ue(this)}}function Ue(f){function a(f){if(18==f.keyCode||!f.altKey)Zc(b,"CodeMirror-crosshair"),yb(document,"keyup",a),yb(document,"mouseover",a)}var b=f.display.lineDiv;$c(b,"CodeMirror-crosshair");L(document,"keyup",a);L(document,"mouseover",a)}function Rd(f){!mb(this,f)&&
16==f.keyCode&&(this.doc.sel.shift=!1)}function Sd(f){if(!mb(this,f)){var a=f.keyCode,b=f.charCode;if(Xa&&a==Dd)Dd=null,Aa(f);else if(!(Xa&&(!f.which||10>f.which)||qd)||!mc(this,f))a=String.fromCharCode(null==b?a:b),Te(this,f,a)||(ya&&!xa&&(this.display.inputHasSelection=null),Kb(this))}}function ld(f){"nocursor"!=f.options.readOnly&&(f.state.focused||(pa(f,"focus",f),f.state.focused=!0,$c(f.display.wrapper,"CodeMirror-focused"),!f.curOp&&f.display.selForContextMenu!=f.doc.sel&&(ua(f),za&&setTimeout(gb(ua,
f,!0),0))),$a(f),pb(f))}function Ic(f){f.state.focused&&(pa(f,"blur",f),f.state.focused=!1,Zc(f.display.wrapper,"CodeMirror-focused"));clearInterval(f.display.blinker);setTimeout(function(){f.state.focused||(f.display.shift=!1)},150)}function Td(f,a){function b(){if(null!=d.input.selectionStart){var a=f.somethingSelected(),n=d.input.value="\u200b"+(a?d.input.value:"");d.prevInput=a?"":"\u200b";d.input.selectionStart=1;d.input.selectionEnd=n.length}}function c(){d.inputDiv.style.position="relative";
d.input.style.cssText=h;xa&&(d.scrollbarV.scrollTop=d.scroller.scrollTop=g);$a(f);if(null!=d.input.selectionStart){(!ya||xa)&&b();var a=0,n=function(){d.selForContextMenu==f.doc.sel&&0==d.input.selectionStart?fa(f,Xc.selectAll)(f):10>a++?d.detectingSelectAll=setTimeout(n,500):ua(f)};d.detectingSelectAll=setTimeout(n,200)}}if(!mb(f,a,"contextmenu")){var d=f.display;if(!La(d,a)&&!(!Va(f,"gutterContextMenu")?0:Db(f,a,"gutterContextMenu",!1,pa))){var e=eb(f,a),g=d.scroller.scrollTop;if(e&&!Xa){f.options.resetSelectionOnContextMenu&&
-1==f.doc.sel.contains(e)&&fa(f,W)(f.doc,ka(e),Pb);var h=d.input.style.cssText;d.inputDiv.style.position="absolute";d.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: "+(ya?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";na(f);ua(f);f.somethingSelected()||(d.input.value=d.prevInput=" ");d.selForContextMenu=
f.doc.sel;clearTimeout(d.detectingSelectAll);ya&&!xa&&b();if(zd){xd(a);var k=function(){yb(window,"mouseup",k);setTimeout(c,20)};L(window,"mouseup",k)}else setTimeout(c,50)}}}}function Ud(f,a){if(0>P(f,a.from))return f;if(0>=P(f,a.to))return Rb(a);var b=f.line+a.text.length-(a.to.line-a.from.line)-1,c=f.ch;f.line==a.to.line&&(c+=Rb(a).ch-a.to.ch);return z(b,c)}function md(f,a){for(var b=[],c=0;c<f.sel.ranges.length;c++){var d=f.sel.ranges[c];b.push(new I(Ud(d.anchor,a),Ud(d.head,a)))}return O(b,f.sel.primIndex)}
function Vd(f,a,b){return f.line==a.line?z(b.line,f.ch-a.ch+b.ch):z(b.line+(f.line-a.line),f.ch)}function Wd(f,a,b){a={canceled:!1,from:a.from,to:a.to,text:a.text,origin:a.origin,cancel:function(){this.canceled=!0}};b&&(a.update=function(a,b,n,c){a&&(this.from=B(f,a));b&&(this.to=B(f,b));n&&(this.text=n);void 0!==c&&(this.origin=c)});pa(f,"beforeChange",f,a);f.cm&&pa(f.cm,"beforeChange",f.cm,a);return a.canceled?null:{from:a.from,to:a.to,text:a.text,origin:a.origin}}function ac(f,a,b){if(f.cm){if(!f.cm.curOp)return fa(f.cm,
ac)(f,a,b);if(f.cm.state.suppressEdits)return}if(Va(f,"beforeChange")||f.cm&&Va(f.cm,"beforeChange"))if(a=Wd(f,a,!0),!a)return;if(b=oe&&!b&&gf(f,a.from,a.to))for(var c=b.length-1;0<=c;--c)Xd(f,{from:b[c].from,to:b[c].to,text:c?[""]:a.text});else Xd(f,a)}function Xd(f,a){if(!(1==a.text.length&&""==a.text[0]&&0==P(a.from,a.to))){var b=md(f,a);pe(f,a,b,f.cm?f.cm.curOp.id:NaN);zc(f,a,b,Ed(f,a));var c=[];Sb(f,function(f,b){!b&&-1==sa(c,f.history)&&(qe(f.history,a),c.push(f.history));zc(f,a,null,Ed(f,a))})}}
function Jc(f,a,b){if(!f.cm||!f.cm.state.suppressEdits){for(var c=f.history,d,e=f.sel,g="undo"==a?c.done:c.undone,h="undo"==a?c.undone:c.done,k=0;k<g.length&&!(d=g[k],b?d.ranges&&!d.equals(f.sel):!d.ranges);k++);if(k!=g.length){for(c.lastOrigin=c.lastSelOrigin=null;;)if(d=g.pop(),d.ranges){Oc(d,h);if(b&&!d.equals(f.sel)){W(f,d,{clearRedo:!1});return}e=d}else break;b=[];Oc(e,h);h.push({changes:b,generation:c.generation});c.generation=d.generation||++c.maxGeneration;c=Va(f,"beforeChange")||f.cm&&Va(f.cm,
"beforeChange");for(k=d.changes.length-1;0<=k;--k){var l=d.changes[k];l.origin=a;if(c&&!Wd(f,l,!1)){g.length=0;break}b.push(Fd(f,l));e=k?md(f,l,null):aa(g);zc(f,l,e,re(f,l));!k&&f.cm&&f.cm.scrollIntoView(l);var m=[];Sb(f,function(f,a){!a&&-1==sa(m,f.history)&&(qe(f.history,l),m.push(f.history));zc(f,l,null,re(f,l))})}}}}function Yd(f,a){if(0!=a&&(f.first+=a,f.sel=new T(Gd(f.sel.ranges,function(f){return new I(z(f.anchor.line+a,f.anchor.ch),z(f.head.line+a,f.head.ch))}),f.sel.primIndex),f.cm)){Ca(f.cm,
f.first,f.first-a,a);for(var b=f.cm.display,c=b.viewFrom;c<b.viewTo;c++)db(f.cm,c,"gutter")}}function zc(f,a,b,c){if(f.cm&&!f.cm.curOp)return fa(f.cm,zc)(f,a,b,c);if(a.to.line<f.first)Yd(f,a.text.length-1-(a.to.line-a.from.line));else if(!(a.from.line>f.lastLine())){if(a.from.line<f.first){var d=a.text.length-1-(f.first-a.from.line);Yd(f,d);a={from:z(f.first,0),to:z(a.to.line+d,a.to.ch),text:[aa(a.text)],origin:a.origin}}d=f.lastLine();a.to.line>d&&(a={from:a.from,to:z(d,G(f,d).text.length),text:[a.text[0]],
origin:a.origin});a.removed=Ac(f,a.from,a.to);b||(b=md(f,a,null));f.cm?hf(f.cm,a,c):Hd(f,a,c);Ga(f,b,Pb)}}function hf(f,b,c){var d=f.doc,e=f.display,g=b.from,k=b.to,l=!1,m=g.line;f.options.lineWrapping||(m=ha(lb(G(d,g.line))),d.iter(m,k.line+1,function(f){if(f==e.maxLine)return l=!0}));-1<d.sel.contains(b.from,b.to)&&fe(f);Hd(d,b,c,h(f));f.options.lineWrapping||(d.iter(m,g.line+b.text.length,function(f){var b=a(f);b>e.maxLineLength&&(e.maxLine=f,e.maxLineLength=b,e.maxLineChanged=!0,l=!1)}),l&&(f.curOp.updateMaxLine=
!0));d.frontier=Math.min(d.frontier,g.line);ab(f,400);c=b.text.length-(k.line-g.line)-1;g.line==k.line&&1==b.text.length&&!se(f.doc,b)?db(f,g.line,"text"):Ca(f,g.line,k.line+1,c);c=Va(f,"changes");if((d=Va(f,"change"))||c)b={from:g,to:k,text:b.text,removed:b.removed,origin:b.origin},d&&oa(f,"change",f,b),c&&(f.curOp.changeObjs||(f.curOp.changeObjs=[])).push(b);f.display.selForContextMenu=null}function Vc(f,a,b,c,d){c||(c=b);if(0>P(c,b)){var e=c;c=b;b=e}"string"==typeof a&&(a=fc(a));ac(f,{from:b,to:c,
text:a,origin:d})}function Sc(f,a,b,c,d){var e=f.display,g=K(f.display);0>b&&(b=0);var h=f.curOp&&null!=f.curOp.scrollTop?f.curOp.scrollTop:e.scroller.scrollTop,k=e.scroller.clientHeight-wb,l={},m=f.doc.height+(e.mover.offsetHeight-e.lineSpace.offsetHeight),r=b<g,g=d>m-g;b<h?l.scrollTop=r?0:b:d>h+k&&(b=Math.min(b,(g?m:d)-k),b!=h&&(l.scrollTop=b));f=f.curOp&&null!=f.curOp.scrollLeft?f.curOp.scrollLeft:e.scroller.scrollLeft;h=e.scroller.clientWidth-wb;a+=e.gutters.offsetWidth;c+=e.gutters.offsetWidth;
e=e.gutters.offsetWidth;b=a<e+10;a<f+e||b?(b&&(a=0),l.scrollLeft=Math.max(0,a-10-e)):c>h+f-3&&(l.scrollLeft=c+10-h);return l}function ad(f,a,b){(null!=a||null!=b)&&bd(f);null!=a&&(f.curOp.scrollLeft=(null==f.curOp.scrollLeft?f.doc.scrollLeft:f.curOp.scrollLeft)+a);null!=b&&(f.curOp.scrollTop=(null==f.curOp.scrollTop?f.doc.scrollTop:f.curOp.scrollTop)+b)}function ec(f){bd(f);var a=f.getCursor(),b=a,c=a;f.options.lineWrapping||(b=a.ch?z(a.line,a.ch-1):a,c=z(a.line,a.ch+1));f.curOp.scrollToPos={from:b,
to:c,margin:f.options.cursorScrollMargin,isCursor:!0}}function bd(f){var a=f.curOp.scrollToPos;if(a){f.curOp.scrollToPos=null;var b=$b(f,a.from),c=$b(f,a.to),a=Sc(f,Math.min(b.left,c.left),Math.min(b.top,c.top)-a.margin,Math.max(b.right,c.right),Math.max(b.bottom,c.bottom)+a.margin);f.scrollTo(a.scrollLeft,a.scrollTop)}}function wc(f,a,b,c){var d=f.doc,e;null==b&&(b="add");"smart"==b&&(f.doc.mode.indent?e=qa(f,a):b="prev");var g=f.options.tabSize,h=G(d,a),k=Wa(h.text,null,g);h.stateAfter&&(h.stateAfter=
null);var l=h.text.match(/^\s*/)[0],m;if(!c&&!/\S/.test(h.text))m=0,b="not";else if("smart"==b&&(m=f.doc.mode.indent(e,h.text.slice(l.length),h.text),m==me)){if(!c)return;b="prev"}"prev"==b?m=a>d.first?Wa(G(d,a-1).text,null,g):0:"add"==b?m=k+f.options.indentUnit:"subtract"==b?m=k-f.options.indentUnit:"number"==typeof b&&(m=k+b);m=Math.max(0,m);c="";e=0;if(f.options.indentWithTabs)for(b=Math.floor(m/g);b;--b)e+=g,c+="\t";e<m&&(c+=te(m-e));if(c!=l)Vc(f.doc,c,z(a,0),z(a,l.length),"+input");else for(b=
0;b<d.sel.ranges.length;b++)if(f=d.sel.ranges[b],f.head.line==a&&f.head.ch<l.length){e=z(a,l.length);V(d,b,new I(e,e));break}h.stateAfter=null}function cd(f,a,b,c){var d=a,e=a,g=f.doc;"number"==typeof a?e=G(g,Math.max(g.first,Math.min(a,g.first+g.size-1))):d=ha(a);if(null==d)return null;c(e,d)&&db(f,d,b);return e}function dd(f,a){for(var b=f.doc.sel.ranges,c=[],d=0;d<b.length;d++){for(var e=a(b[d]);c.length&&0>=P(e.from,aa(c).to);){var g=c.pop();if(0>P(g.from,e.from)){e.from=g.from;break}}c.push(e)}ma(f,
function(){for(var a=c.length-1;0<=a;a--)Vc(f.doc,"",c[a].from,c[a].to,"+delete");ec(f)})}function Id(f,a,b,c,d){function e(a){var n=(d?wd:ue)(l,h,b,!0);if(null==n){if(a=!a)a=g+b,a<f.first||a>=f.first+f.size?a=m=!1:(g=a,a=l=G(f,a));if(a)h=d?(0>b?Qc:Pc)(l):0>b?l.text.length:0;else return m=!1}else h=n;return!0}var g=a.line,h=a.ch,k=b,l=G(f,g),m=!0;if("char"==c)e();else if("column"==c)e(!0);else if("word"==c||"group"==c){var r=null;c="group"==c;a=f.cm&&f.cm.getHelper(a,"wordChars");for(var q=!0;!(0>
b)||e(!q);q=!1){var p=l.text.charAt(h)||"\n",p=ed(p,a)?"w":c&&"\n"==p?"n":!c||/\s/.test(p)?null:"p";c&&(!q&&!p)&&(p="s");if(r&&r!=p){0>b&&(b=1,e());break}p&&(r=p);if(0<b&&!e(!q))break}}k=X(f,z(g,h),k,!0);m||(k.hitSide=!0);return k}function ve(f,a,b,c){var d=f.doc,e=a.left,g;"page"==c?(c=Math.min(f.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),g=a.top+b*(c-(0>b?1.5:0.5)*K(f.display))):"line"==c&&(g=0<b?a.bottom+3:a.top-3);for(;;){var h=E(f,e,g);if(!h.outside)break;
if(0>b?0>=g:g>=d.height){h.hitSide=!0;break}g+=5*b}return h}function yd(f,a){var b=G(f.doc,a.line).text,c=a.ch,d=a.ch;if(b){var e=f.getHelper(a,"wordChars");(0>a.xRel||d==b.length)&&c?--c:++d;for(var g=b.charAt(c),g=ed(g,e)?function(f){return ed(f,e)}:/\s/.test(g)?function(f){return/\s/.test(f)}:function(f){return!/\s/.test(f)&&!ed(f)};0<c&&g(b.charAt(c-1));)--c;for(;d<b.length&&g(b.charAt(d));)++d}return new I(z(a.line,c),z(a.line,d))}function M(f,a,b,d){c.defaults[f]=a;b&&(dc[f]=d?function(f,a,
c){c!=be&&b(f,a,c)}:b)}function Cd(f){return"string"==typeof f?xb[f]:f}function gc(f,a,b,c,d){if(c&&c.shared)return jf(f,a,b,c,d);if(f.cm&&!f.cm.curOp)return fa(f.cm,gc)(f,a,b,c,d);var e=new Tb(f,d);d=P(a,b);c&&nc(c,e,!1);if(0<d||0==d&&!1!==e.clearWhenEmpty)return e;e.replacedWith&&(e.collapsed=!0,e.widgetNode=D("span",[e.replacedWith],"CodeMirror-widget"),c.handleMouseEvents||(e.widgetNode.ignoreEvents=!0),c.insertLeft&&(e.widgetNode.insertLeft=!0));if(e.collapsed){if(we(f,a.line,a,b,e)||a.line!=
b.line&&we(f,b.line,a,b,e))throw Error("Inserting collapsed marker partially overlapping an existing one");Gb=!0}e.addToHistory&&pe(f,{from:a,to:b,origin:"markText"},f.sel,NaN);var g=a.line,h=f.cm,k;f.iter(g,b.line+1,function(f){h&&(e.collapsed&&!h.options.lineWrapping&&lb(f)==h.display.maxLine)&&(k=!0);e.collapsed&&g!=a.line&&hb(f,0);var c=new fd(e,g==a.line?a.ch:null,g==b.line?b.ch:null);f.markedSpans=f.markedSpans?f.markedSpans.concat([c]):[c];c.marker.attachLine(f);++g});e.collapsed&&f.iter(a.line,
b.line+1,function(a){Lb(f,a)&&hb(a,0)});e.clearOnEnter&&L(e,"beforeCursorEnter",function(){e.clear()});e.readOnly&&(oe=!0,(f.history.done.length||f.history.undone.length)&&f.clearHistory());e.collapsed&&(e.id=++kf,e.atomic=!0);if(h){k&&(h.curOp.updateMaxLine=!0);if(e.collapsed)Ca(h,a.line,b.line+1);else if(e.className||e.title||e.startStyle||e.endStyle)for(c=a.line;c<=b.line;c++)db(h,c,"text");e.atomic&&ba(h.doc);oa(h,"markerAdded",h,e)}return e}function jf(f,a,b,c,d){c=nc(c);c.shared=!1;var e=[gc(f,
a,b,c,d)],g=e[0],h=c.widgetNode;Sb(f,function(f){h&&(c.widgetNode=h.cloneNode(!0));e.push(gc(f,B(f,a),B(f,b),c,d));for(var k=0;k<f.linked.length;++k)if(f.linked[k].isParent)return;g=aa(e)});return new gd(e,g)}function xe(f){return f.findMarks(z(f.first,0),f.clipPos(z(f.lastLine())),function(f){return f.parent})}function lf(f){for(var a=0;a<f.length;a++){var b=f[a],c=[b.primary.doc];Sb(b.primary.doc,function(f){c.push(f)});for(var d=0;d<b.markers.length;d++){var e=b.markers[d];-1==sa(c,e.doc)&&(e.parent=
null,b.markers.splice(d--,1))}}}function fd(f,a,b){this.marker=f;this.from=a;this.to=b}function Bc(f,a){if(f)for(var b=0;b<f.length;++b){var c=f[b];if(c.marker==a)return c}}function Ed(f,a){var b=ta(f,a.from.line)&&G(f,a.from.line).markedSpans,c=ta(f,a.to.line)&&G(f,a.to.line).markedSpans;if(!b&&!c)return null;var d=a.from.ch,e=a.to.ch,g=0==P(a.from,a.to);if(b)for(var h=0,k;h<b.length;++h){var l=b[h],m=l.marker;if(null==l.from||(m.inclusiveLeft?l.from<=d:l.from<d)||l.from==d&&"bookmark"==m.type&&
(!g||!l.marker.insertLeft)){var r=null==l.to||(m.inclusiveRight?l.to>=d:l.to>d);(k||(k=[])).push(new fd(m,l.from,r?null:l.to))}}b=k;if(c)for(var h=0,q;h<c.length;++h)if(k=c[h],l=k.marker,null==k.to||(l.inclusiveRight?k.to>=e:k.to>e)||k.from==e&&"bookmark"==l.type&&(!g||k.marker.insertLeft))m=null==k.from||(l.inclusiveLeft?k.from<=e:k.from<e),(q||(q=[])).push(new fd(l,m?null:k.from-e,null==k.to?null:k.to-e));c=q;g=1==a.text.length;q=aa(a.text).length+(g?d:0);if(b)for(e=0;e<b.length;++e)h=b[e],null==
h.to&&((k=Bc(c,h.marker))?g&&(h.to=null==k.to?null:k.to+q):h.to=d);if(c)for(e=0;e<c.length;++e)h=c[e],null!=h.to&&(h.to+=q),null==h.from?(k=Bc(b,h.marker),k||(h.from=q,g&&(b||(b=[])).push(h))):(h.from+=q,g&&(b||(b=[])).push(h));b&&(b=ye(b));c&&c!=b&&(c=ye(c));d=[b];if(!g){var g=a.text.length-2,p;if(0<g&&b)for(e=0;e<b.length;++e)null==b[e].to&&(p||(p=[])).push(new fd(b[e].marker,null,null));for(e=0;e<g;++e)d.push(p);d.push(c)}return d}function ye(f){for(var a=0;a<f.length;++a){var b=f[a];null!=b.from&&
(b.from==b.to&&!1!==b.marker.clearWhenEmpty)&&f.splice(a--,1)}return!f.length?null:f}function re(f,a){var b;if(b=a["spans_"+f.id]){for(var c=0,d=[];c<a.text.length;++c)d.push(mf(b[c]));b=d}else b=null;c=Ed(f,a);if(!b)return c;if(!c)return b;for(d=0;d<b.length;++d){var e=b[d],g=c[d];if(e&&g){var h=0;a:for(;h<g.length;++h){for(var k=g[h],l=0;l<e.length;++l)if(e[l].marker==k.marker)continue a;e.push(k)}}else g&&(b[d]=g)}return b}function gf(f,a,b){var c=null;f.iter(a.line,b.line+1,function(f){if(f.markedSpans)for(var a=
0;a<f.markedSpans.length;++a){var b=f.markedSpans[a].marker;if(b.readOnly&&(!c||-1==sa(c,b)))(c||(c=[])).push(b)}});if(!c)return null;f=[{from:a,to:b}];for(a=0;a<c.length;++a){b=c[a];for(var d=b.find(0),e=0;e<f.length;++e){var g=f[e];if(!(0>P(g.to,d.from)||0<P(g.from,d.to))){var h=[e,1],k=P(g.from,d.from),l=P(g.to,d.to);(0>k||!b.inclusiveLeft&&!k)&&h.push({from:g.from,to:d.from});(0<l||!b.inclusiveRight&&!l)&&h.push({from:d.to,to:g.to});f.splice.apply(f,h);e+=h.length-1}}}return f}function ze(f){var a=
f.markedSpans;if(a){for(var b=0;b<a.length;++b)a[b].marker.detachLine(f);f.markedSpans=null}}function Ae(f,a){if(a){for(var b=0;b<a.length;++b)a[b].marker.attachLine(f);f.markedSpans=a}}function Be(f,a){var b=f.lines.length-a.lines.length;if(0!=b)return b;var b=f.find(),c=a.find(),d=P(b.from,c.from)||(f.inclusiveLeft?-1:0)-(a.inclusiveLeft?-1:0);return d?-d:(b=P(b.to,c.to)||(f.inclusiveRight?1:0)-(a.inclusiveRight?1:0))?b:a.id-f.id}function Nb(f,a){var b=Gb&&f.markedSpans,c;if(b)for(var d,e=0;e<b.length;++e)if(d=
b[e],d.marker.collapsed&&null==(a?d.from:d.to)&&(!c||0>Be(c,d.marker)))c=d.marker;return c}function we(f,a,b,c,d){f=G(f,a);if(f=Gb&&f.markedSpans)for(a=0;a<f.length;++a){var e=f[a];if(e.marker.collapsed){var g=e.marker.find(0),h=P(g.from,b)||(e.marker.inclusiveLeft?-1:0)-(d.inclusiveLeft?-1:0),k=P(g.to,c)||(e.marker.inclusiveRight?1:0)-(d.inclusiveRight?1:0);if(!(0<=h&&0>=k||0>=h&&0<=k))if(0>=h&&0<(P(g.to,b)||(e.marker.inclusiveRight?1:0)-(d.inclusiveLeft?-1:0))||0<=h&&0>(P(g.from,c)||(e.marker.inclusiveLeft?
-1:0)-(d.inclusiveRight?1:0)))return!0}}}function lb(f){for(var a;a=Nb(f,!0);)f=a.find(-1,!0).line;return f}function rd(f,a){var b=G(f,a),c=lb(b);return b==c?a:ha(c)}function ce(f,a){if(a>f.lastLine())return a;var b=G(f,a),c;if(!Lb(f,b))return a;for(;c=Nb(b,!1);)b=c.find(1,!0).line;return ha(b)+1}function Lb(f,a){var b=Gb&&a.markedSpans;if(b)for(var c,d=0;d<b.length;++d)if(c=b[d],c.marker.collapsed&&(null==c.from||!c.marker.widgetNode&&0==c.from&&c.marker.inclusiveLeft&&Jd(f,a,c)))return!0}function Jd(f,
a,b){if(null==b.to)return a=b.marker.find(1,!0),Jd(f,a.line,Bc(a.line.markedSpans,b.marker));if(b.marker.inclusiveRight&&b.to==a.text.length)return!0;for(var c,d=0;d<a.markedSpans.length;++d)if(c=a.markedSpans[d],c.marker.collapsed&&!c.marker.widgetNode&&c.from==b.to&&(null==c.to||c.to!=b.from)&&(c.marker.inclusiveLeft||b.marker.inclusiveRight)&&Jd(f,a,c))return!0}function uc(f){if(null!=f.height)return f.height;var a;a:{a=document.body;var b=f.node;if(a.contains)a=a.contains(b);else{for(;b=b.parentNode;)if(b==
a){a=!0;break a}a=void 0}}a||jb(f.cm.display.measure,D("div",[f.node],null,"position: relative"));return f.height=f.node.offsetHeight}function nf(f,a,b,c){var d=new hd(f,b,c);d.noHScroll&&(f.display.alignWidgets=!0);cd(f,a,"widget",function(a){var b=a.widgets||(a.widgets=[]);null==d.insertAt?b.push(d):b.splice(Math.min(b.length-1,Math.max(0,d.insertAt)),0,d);d.line=a;Lb(f.doc,a)||(b=ib(a)<f.doc.scrollTop,hb(a,a.height+uc(d)),b&&ad(f,null,d.height),f.curOp.forceUpdate=!0);return!0});return d}function Ce(f,
a){if(f)for(;;){var b=f.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!b)break;f=f.slice(0,b.index)+f.slice(b.index+b[0].length);var c=b[1]?"bgClass":"textClass";null==a[c]?a[c]=b[2]:RegExp("(?:^|s)"+b[2]+"(?:$|s)").test(a[c])||(a[c]+=" "+b[2])}return f}function De(f,a){if(f.blankLine)return f.blankLine(a);if(f.innerMode){var b=c.innerMode(f,a);if(b.mode.blankLine)return b.mode.blankLine(b.state)}}function Kd(f,a,b){for(var c=0;10>c;c++){var d=f.token(a,b);if(a.pos>a.start)return d}throw Error("Mode "+
f.name+" failed to advance stream.");}function Ee(f,a,b,d,e,g,h){var k=b.flattenSpans;null==k&&(k=f.options.flattenSpans);var l=0,m=null,r=new id(a,f.options.tabSize),q;for(""==a&&Ce(De(b,d),g);!r.eol();){r.pos>f.options.maxHighlightLength?(k=!1,h&&sd(f,a,d,r.pos),r.pos=a.length,q=null):q=Ce(Kd(b,r,d),g);if(f.options.addModeClass){var p=c.innerMode(b,d).mode.name;p&&(q="m-"+(q?p+" "+q:p))}if(!k||m!=q)l<r.start&&e(r.start,m),l=r.start,m=q;r.start=r.pos}for(;l<r.pos;)f=Math.min(r.pos,l+5E4),e(f,m),
l=f}function ge(f,a,b,c){var d=[f.state.modeGen],e={};Ee(f,a.text,f.doc.mode,b,function(f,a){d.push(f,a)},e,c);for(b=0;b<f.state.overlays.length;++b){var g=f.state.overlays[b],h=1,k=0;Ee(f,a.text,g.mode,!0,function(f,a){for(var b=h;k<f;){var c=d[h];c>f&&d.splice(h,1,f,d[h+1],c);h+=2;k=Math.min(f,c)}if(a)if(g.opaque)d.splice(b,h-b,f,"cm-overlay "+a),h=b+2;else for(;b<h;b+=2)c=d[b+1],d[b+1]=(c?c+" ":"")+"cm-overlay "+a},e)}return{styles:d,classes:e.bgClass||e.textClass?e:null}}function Fe(f,a){if(!a.styles||
a.styles[0]!=f.state.modeGen){var b=ge(f,a,a.stateAfter=qa(f,ha(a)));a.styles=b.styles;b.classes?a.styleClasses=b.classes:a.styleClasses&&(a.styleClasses=null)}return a.styles}function sd(f,a,b,c){var d=f.doc.mode,e=new id(a,f.options.tabSize);e.start=e.pos=c||0;for(""==a&&De(d,b);!e.eol()&&e.pos<=f.options.maxHighlightLength;)Kd(d,e,b),e.start=e.pos}function Ge(f,a){if(!f||/^\s*$/.test(f))return null;var b=a.addModeClass?of:pf;return b[f]||(b[f]=f.replace(/\S+/g,"cm-$\x26"))}function de(f,a){var b=
D("span",null,null,za?"padding-right: .1px":null),b={pre:D("pre",[b]),content:b,col:0,pos:0,cm:f};a.measure={};for(var c=0;c<=(a.rest?a.rest.length:0);c++){var d=c?a.rest[c-1]:a.line,e;b.pos=0;b.addToken=qf;if((ya||za)&&f.getOption("lineWrapping"))b.addToken=rf(b.addToken);var g;if(null!=Ld)g=Ld;else{g=jb(f.display.measure,document.createTextNode("A\u062eA"));var h=tc(g,0,1).getBoundingClientRect();g=h.left==h.right?!1:Ld=3>tc(g,1,2).getBoundingClientRect().right-h.right}if(g&&(e=kb(d)))b.addToken=
sf(b.addToken,e);b.map=[];a:{g=b;var h=Fe(f,d),k=d.markedSpans,l=d.text,m=0;if(k)for(var r=l.length,q=0,p=1,s="",t=void 0,K=0,u=void 0,F=void 0,v=void 0,ba=void 0,y=void 0;;){if(K==q){for(var u=F=v=ba="",y=null,K=Infinity,w=[],x=0;x<k.length;++x){var X=k[x],ca=X.marker;if(X.from<=q&&(null==X.to||X.to>q)){if(null!=X.to&&K>X.to&&(K=X.to,F=""),ca.className&&(u+=" "+ca.className),ca.startStyle&&X.from==q&&(v+=" "+ca.startStyle),ca.endStyle&&X.to==K&&(F+=" "+ca.endStyle),ca.title&&!ba&&(ba=ca.title),ca.collapsed&&
(!y||0>Be(y.marker,ca)))y=X}else X.from>q&&K>X.from&&(K=X.from);"bookmark"==ca.type&&(X.from==q&&ca.widgetNode)&&w.push(ca)}if(y&&(y.from||0)==q)if(He(g,(null==y.to?r+1:y.to)-q,y.marker,null==y.from),null==y.to)break a;if(!y&&w.length)for(x=0;x<w.length;++x)He(g,0,w[x])}if(q>=r)break;for(w=Math.min(r,K);;){if(s){x=q+s.length;y||(X=x>w?s.slice(0,w-q):s,g.addToken(g,X,t?t+u:u,v,q+X.length==K?F:"",ba));if(x>=w){s=s.slice(w-q);q=w;break}q=x;v=""}s=l.slice(m,m=h[p++]);t=Ge(h[p++],g.cm.options)}}else for(var p=
1;p<h.length;p+=2)g.addToken(g,l.slice(m,m=h[p]),Ge(h[p+1],g.cm.options))}d.styleClasses&&(d.styleClasses.bgClass&&(b.bgClass=Ie(d.styleClasses.bgClass,b.bgClass||"")),d.styleClasses.textClass&&(b.textClass=Ie(d.styleClasses.textClass,b.textClass||"")));0==b.map.length&&b.map.push(0,0,b.content.appendChild(tf(f.display.measure)));0==c?(a.measure.map=b.map,a.measure.cache={}):((a.measure.maps||(a.measure.maps=[])).push(b.map),(a.measure.caches||(a.measure.caches=[])).push({}))}pa(f,"renderLine",f,
a.line,b.pre);return b}function qf(f,a,b,c,d,e){if(a){var g=f.cm.options.specialChars,h=!1;if(g.test(a))for(var k=document.createDocumentFragment(),l=0;;){g.lastIndex=l;var m=g.exec(a),r=m?m.index-l:a.length-l;if(r){var q=document.createTextNode(a.slice(l,l+r));xa?k.appendChild(D("span",[q])):k.appendChild(q);f.map.push(f.pos,f.pos+r,q);f.col+=r;f.pos+=r}if(!m)break;l+=r+1;"\t"==m[0]?(q=f.cm.options.tabSize,m=q-f.col%q,q=k.appendChild(D("span",te(m),"cm-tab")),f.col+=m):(q=f.cm.options.specialCharPlaceholder(m[0]),
xa?k.appendChild(D("span",[q])):k.appendChild(q),f.col+=1);f.map.push(f.pos,f.pos+1,q);f.pos++}else{f.col+=a.length;var k=document.createTextNode(a);f.map.push(f.pos,f.pos+a.length,k);xa&&(h=!0);f.pos+=a.length}if(b||c||d||h)return a=b||"",c&&(a+=c),d&&(a+=d),c=D("span",[k],a),e&&(c.title=e),f.content.appendChild(c);f.content.appendChild(k)}}function rf(f){function a(f){for(var b=" ",c=0;c<f.length-2;++c)b+=c%2?" ":"\u00a0";return b+" "}return function(b,c,d,e,g,h){f(b,c.replace(/ {3,}/g,a),d,e,g,
h)}}function sf(f,a){return function(b,c,d,e,g,h){d=d?d+" cm-force-border":"cm-force-border";for(var k=b.pos,l=k+c.length;;){for(var m=0;m<a.length;m++){var r=a[m];if(r.to>k&&r.from<=k)break}if(r.to>=l)return f(b,c,d,e,g,h);f(b,c.slice(0,r.to-k),d,e,null,h);e=null;c=c.slice(r.to-k);k=r.to}}}function He(f,a,b,c){if(b=!c&&b.widgetNode)f.map.push(f.pos,f.pos+a,b),f.content.appendChild(b);f.pos+=a}function se(f,a){return 0==a.from.ch&&0==a.to.ch&&""==aa(a.text)&&(!f.cm||f.cm.options.wholeLineUpdateBefore)}
function Hd(f,a,b,c){function d(f,b,e){var g=c;f.text=b;f.stateAfter&&(f.stateAfter=null);f.styles&&(f.styles=null);null!=f.order&&(f.order=null);ze(f);Ae(f,e);b=g?g(f):1;b!=f.height&&hb(f,b);oa(f,"change",f,a)}var e=a.from,g=a.to,h=a.text,k=G(f,e.line),l=G(f,g.line),m=aa(h),r=b?b[h.length-1]:null,q=g.line-e.line;if(se(f,a)){for(var p=0,s=[];p<h.length-1;++p)s.push(new Ub(h[p],b?b[p]:null,c));d(l,l.text,r);q&&f.remove(e.line,q);s.length&&f.insert(e.line,s)}else if(k==l)if(1==h.length)d(k,k.text.slice(0,
e.ch)+m+k.text.slice(g.ch),r);else{s=[];for(p=1;p<h.length-1;++p)s.push(new Ub(h[p],b?b[p]:null,c));s.push(new Ub(m+k.text.slice(g.ch),r,c));d(k,k.text.slice(0,e.ch)+h[0],b?b[0]:null);f.insert(e.line+1,s)}else if(1==h.length)d(k,k.text.slice(0,e.ch)+h[0]+l.text.slice(g.ch),b?b[0]:null),f.remove(e.line+1,q);else{d(k,k.text.slice(0,e.ch)+h[0],b?b[0]:null);d(l,m+l.text.slice(g.ch),r);p=1;for(s=[];p<h.length-1;++p)s.push(new Ub(h[p],b?b[p]:null,c));1<q&&f.remove(e.line+1,q-1);f.insert(e.line+1,s)}oa(f,
"change",f,a)}function Cc(f){this.lines=f;this.parent=null;for(var a=0,b=0;a<f.length;++a)f[a].parent=this,b+=f[a].height;this.height=b}function Dc(f){this.children=f;for(var a=0,b=0,c=0;c<f.length;++c){var d=f[c],a=a+d.chunkSize(),b=b+d.height;d.parent=this}this.size=a;this.height=b;this.parent=null}function Sb(f,a,b){function c(f,d,e){if(f.linked)for(var g=0;g<f.linked.length;++g){var h=f.linked[g];if(h.doc!=d){var k=e&&h.sharedHist;if(!b||k)a(h.doc,k),c(h.doc,f,k)}}}c(f,null,!0)}function ae(f,
a){if(a.cm)throw Error("This document is already in use.");f.doc=a;a.cm=f;s(f);m(f);f.options.lineWrapping||d(f);f.options.mode=a.modeOption;Ca(f)}function G(f,a){a-=f.first;if(0>a||a>=f.size)throw Error("There is no line "+(a+f.first)+" in the document.");for(var b=f;!b.lines;)for(var c=0;;++c){var d=b.children[c],e=d.chunkSize();if(a<e){b=d;break}a-=e}return b.lines[a]}function Ac(f,a,b){var c=[],d=a.line;f.iter(a.line,b.line+1,function(f){f=f.text;d==b.line&&(f=f.slice(0,b.ch));d==a.line&&(f=f.slice(a.ch));
c.push(f);++d});return c}function Md(f,a,b){var c=[];f.iter(a,b,function(f){c.push(f.text)});return c}function hb(f,a){var b=a-f.height;if(b)for(var c=f;c;c=c.parent)c.height+=b}function ha(f){if(null==f.parent)return null;var a=f.parent;f=sa(a.lines,f);for(var b=a.parent;b;a=b,b=b.parent)for(var c=0;b.children[c]!=a;++c)f+=b.children[c].chunkSize();return f+a.first}function Ob(f,a){var b=f.first;a:do{for(var c=0;c<f.children.length;++c){var d=f.children[c],e=d.height;if(a<e){f=d;continue a}a-=e;
b+=d.chunkSize()}return b}while(!f.lines);for(c=0;c<f.lines.length;++c){d=f.lines[c].height;if(a<d)break;a-=d}return b+c}function ib(f){f=lb(f);for(var a=0,b=f.parent,c=0;c<b.lines.length;++c){var d=b.lines[c];if(d==f)break;else a+=d.height}for(f=b.parent;f;b=f,f=b.parent)for(c=0;c<f.children.length&&!(d=f.children[c],d==b);++c)a+=d.height;return a}function kb(f){var a=f.order;null==a&&(a=f.order=uf(f.text));return a}function jd(f){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=
this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=null;this.generation=this.maxGeneration=f||1}function Fd(f,a){var b={from:z(a.from.line,a.from.ch),to:Rb(a),text:Ac(f,a.from,a.to)};Je(f,b,a.from.line,a.to.line+1);Sb(f,function(f){Je(f,b,a.from.line,a.to.line+1)},!0);return b}function ee(f){for(;f.length;)if(aa(f).ranges)f.pop();else break}function pe(f,a,b,c){var d=f.history;d.undone.length=0;var e=+new Date,g,h;if(h=d.lastOp==c||d.lastOrigin==a.origin&&a.origin&&("+"==a.origin.charAt(0)&&
f.cm&&d.lastModTime>e-f.cm.options.historyEventDelay||"*"==a.origin.charAt(0)))d.lastOp==c?(ee(d.done),g=aa(d.done)):d.done.length&&!aa(d.done).ranges?g=aa(d.done):1<d.done.length&&!d.done[d.done.length-2].ranges?(d.done.pop(),g=aa(d.done)):g=void 0,h=g;if(h){var k=aa(g.changes);0==P(a.from,a.to)&&0==P(a.from,k.to)?k.to=Rb(a):g.changes.push(Fd(f,a))}else{g=aa(d.done);(!g||!g.ranges)&&Oc(f.sel,d.done);g={changes:[Fd(f,a)],generation:d.generation};for(d.done.push(g);d.done.length>d.undoDepth;)d.done.shift(),
d.done[0].ranges||d.done.shift()}d.done.push(b);d.generation=++d.maxGeneration;d.lastModTime=d.lastSelTime=e;d.lastOp=c;d.lastOrigin=d.lastSelOrigin=a.origin;k||pa(f,"historyAdded")}function Oc(f,a){var b=aa(a);(!b||!b.ranges||!b.equals(f))&&a.push(f)}function Je(f,a,b,c){var d=a["spans_"+f.id],e=0;f.iter(Math.max(f.first,b),Math.min(f.first+f.size,c),function(b){b.markedSpans&&((d||(d=a["spans_"+f.id]={}))[e]=b.markedSpans);++e})}function mf(f){if(!f)return null;for(var a=0,b;a<f.length;++a)f[a].marker.explicitlyCleared?
b||(b=f.slice(0,a)):b&&b.push(f[a]);return!b?f:b.length?b:null}function hc(f,a,b){for(var c=0,d=[];c<f.length;++c){var e=f[c];if(e.ranges)d.push(b?T.prototype.deepCopy.call(e):e);else{var e=e.changes,g=[];d.push({changes:g});for(var h=0;h<e.length;++h){var k=e[h],l;g.push({from:k.from,to:k.to,text:k.text});if(a)for(var m in k)if((l=m.match(/^spans_(\d+)$/))&&-1<sa(a,Number(l[1])))aa(g)[m]=k[m],delete k[m]}}}return d}function Ke(f,a,b,c){b<f.line?f.line+=c:a<f.line&&(f.line=a,f.ch=0)}function Le(a,
b,c,d){for(var e=0;e<a.length;++e){var g=a[e],h=!0;if(g.ranges){g.copied||(g=a[e]=g.deepCopy(),g.copied=!0);for(var k=0;k<g.ranges.length;k++)Ke(g.ranges[k].anchor,b,c,d),Ke(g.ranges[k].head,b,c,d)}else{for(k=0;k<g.changes.length;++k){var l=g.changes[k];if(c<l.from.line)l.from=z(l.from.line+d,l.from.ch),l.to=z(l.to.line+d,l.to.ch);else if(b<=l.to.line){h=!1;break}}h||(a.splice(0,e+1),e=0)}}}function qe(a,b){var c=b.from.line,d=b.to.line,e=b.text.length-(d-c)-1;Le(a.done,c,d,e);Le(a.undone,c,d,e)}
function Bd(a){return null!=a.defaultPrevented?a.defaultPrevented:!1==a.returnValue}function ke(a){var b=a.which;null==b&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&(b=2));Fb&&(a.ctrlKey&&1==b)&&(b=3);return b}function oa(a,b){function c(a){return function(){a.apply(null,e)}}var d=a._handlers&&a._handlers[b];if(d){var e=Array.prototype.slice.call(arguments,2);Hb||(++Rc,Hb=[],setTimeout(vf,0));for(var g=0;g<d.length;++g)Hb.push(c(d[g]))}}function vf(){--Rc;var a=Hb;Hb=null;for(var b=0;b<a.length;++b)a[b]()}
function mb(a,b,c){pa(a,c||b.type,a,b);return Bd(b)||b.codemirrorIgnore}function fe(a){var b=a._handlers&&a._handlers.cursorActivity;if(b){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]);for(var c=0;c<b.length;++c)-1==sa(a,b[c])&&a.push(b[c])}}function Va(a,b){var c=a._handlers&&a._handlers[b];return c&&0<c.length}function ic(a){a.prototype.on=function(a,f){L(this,a,f)};a.prototype.off=function(a,f){yb(this,a,f)}}function od(){this.id=null}function le(a,b,c){for(var d=0,e=0;;){var g=
a.indexOf("\t",d);-1==g&&(g=a.length);var h=g-d;if(g==a.length||e+h>=b)return d+Math.min(h,b-e);e+=g-d;e+=c-e%c;d=g+1;if(e>=b)return d}}function te(a){for(;kd.length<=a;)kd.push(aa(kd)+" ");return kd[a]}function aa(a){return a[a.length-1]}function sa(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}function Gd(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d);return c}function Me(a,b){var c;Object.create?c=Object.create(a):(c=function(){},c.prototype=a,c=new c);b&&nc(b,c);return c}function nc(a,
b,c){b||(b={});for(var d in a)if(a.hasOwnProperty(d)&&(!1!==c||!b.hasOwnProperty(d)))b[d]=a[d];return b}function gb(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function ed(a,b){return!b?Ne(a):-1<b.source.indexOf("\\w")&&Ne(a)?!0:b.test(a)}function Oe(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function sc(a){return 768<=a.charCodeAt(0)&&wf.test(a)}function D(a,b,c,d){a=document.createElement(a);c&&(a.className=c);d&&(a.style.cssText=
d);if("string"==typeof b)a.appendChild(document.createTextNode(b));else if(b)for(c=0;c<b.length;++c)a.appendChild(b[c]);return a}function Mb(a){for(var b=a.childNodes.length;0<b;--b)a.removeChild(a.firstChild);return a}function jb(a,b){return Mb(a).appendChild(b)}function Eb(){return document.activeElement}function Nd(a){return RegExp("\\b"+a+"\\b\\s*")}function Zc(a,b){var c=Nd(b);c.test(a.className)&&(a.className=a.className.replace(c,""))}function $c(a,b){Nd(b).test(a.className)||(a.className+=
" "+b)}function Ie(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)c[d]&&!Nd(c[d]).test(b)&&(b+=" "+c[d]);return b}function Pe(a){if(document.body.getElementsByClassName)for(var b=document.body.getElementsByClassName("CodeMirror"),c=0;c<b.length;c++){var d=b[c].CodeMirror;d&&a(d)}}function We(){var a;L(window,"resize",function(){null==a&&(a=setTimeout(function(){Ec=a=null;Pe(cb)},100))});L(window,"blur",function(){Pe(Ic)})}function qc(a){if(null!=Ec)return Ec;var b=D("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");
jb(a,b);b.offsetWidth&&(Ec=b.offsetHeight-b.clientHeight);return Ec||0}function tf(a){if(null==Od){var b=D("span","\u200b");jb(a,D("span",[b,document.createTextNode("x")]));0!=a.firstChild.offsetHeight&&(Od=1>=b.offsetWidth&&2<b.offsetHeight&&!pc)}return Od?D("span","\u200b"):D("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}function Ye(a,b,c,d){if(!a)return d(b,c,"ltr");for(var e=!1,g=0;g<a.length;++g){var h=a[g];if(h.from<c&&h.to>b||b==c&&h.to==b)d(Math.max(h.from,
b),Math.min(h.to,c),1==h.level?"rtl":"ltr"),e=!0}e||d(b,c,"ltr")}function ud(a){return a.level%2?a.from:a.to}function Pc(a){return(a=kb(a))?a[0].level%2?a[0].to:a[0].from:0}function Qc(a){var b=kb(a);return!b?a.text.length:ud(aa(b))}function Qe(a,b){var c=G(a.doc,b),d=lb(c);d!=c&&(b=ha(d));c=kb(d);d=!c?0:c[0].level%2?Qc(d):Pc(d);return z(b,d)}function vd(a,b){vc=null;for(var c=0,d;c<a.length;++c){var e=a[c];if(e.from<b&&e.to>b)return c;if(e.from==b||e.to==b)if(null==d)d=c;else{var g;g=e.level;var h=
a[d].level,k=a[0].level;g=g==k?!0:h==k?!1:g<h;if(g)return e.from!=e.to&&(vc=d),c;e.from!=e.to&&(vc=c);break}}return d}function Pd(a,b,c,d){if(!d)return b+c;do b+=c;while(0<b&&sc(a.text.charAt(b)));return b}function wd(a,b,c,d){var e=kb(a);if(!e)return ue(a,b,c,d);var g=vd(e,b),h=e[g];for(b=Pd(a,b,h.level%2?-c:c,d);;){if(b>h.from&&b<h.to)return b;if(b==h.from||b==h.to){if(vd(e,b)==g)return b;h=e[g+c];return 0<c==h.level%2?h.to:h.from}h=e[g+=c];if(!h)return null;b=0<c==h.level%2?Pd(a,h.to,-1,d):Pd(a,
h.from,1,d)}}function ue(a,b,c,d){b+=c;if(d)for(;0<b&&sc(a.text.charAt(b));)b+=c;return 0>b||b>a.text.length?null:b}var yc=/gecko\/\d/i.test(navigator.userAgent),vb=/MSIE \d/.test(navigator.userAgent),pc=vb&&(null==document.documentMode||8>document.documentMode),xa=vb&&(null==document.documentMode||9>document.documentMode),df=vb&&(null==document.documentMode||10>document.documentMode),xf=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),ya=vb||xf,za=/WebKit\//.test(navigator.userAgent),yf=za&&
/Qt\/\d+\.\d+/.test(navigator.userAgent),zf=/Chrome\//.test(navigator.userAgent),Xa=/Opera\//.test(navigator.userAgent),je=/Apple Computer/.test(navigator.vendor),qd=/KHTML\//.test(navigator.userAgent),Xe=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),af=/PhantomJS/.test(navigator.userAgent),oc=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),nd=oc||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Fb=oc||/Mac/.test(navigator.platform),
Af=/win/i.test(navigator.platform),Vb=Xa&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Vb&&(Vb=Number(Vb[1]));Vb&&15<=Vb&&(Xa=!1,za=!0);var Re=Fb&&(yf||Xa&&(null==Vb||12.11>Vb)),zd=yc||ya&&!xa,oe=!1,Gb=!1,z=c.Pos=function(a,b){if(!(this instanceof z))return new z(a,b);this.line=a;this.ch=b},P=c.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch};T.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=
this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],d=a.ranges[b];if(0!=P(c.anchor,d.anchor)||0!=P(c.head,d.head))return!1}return!0},deepCopy:function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new I(z(this.ranges[b].anchor.line,this.ranges[b].anchor.ch),z(this.ranges[b].head.line,this.ranges[b].head.ch));return new T(a,this.primIndex)},somethingSelected:function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},contains:function(a,
b){b||(b=a);for(var c=0;c<this.ranges.length;c++){var d=this.ranges[c];if(0<=P(b,d.from())&&0>=P(a,d.to()))return c}return-1}};I.prototype={from:function(){return ja(this.anchor,this.head)},to:function(){return S(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var td={left:0,right:0,top:0,bottom:0},Qb,$e=0,Uc,Tc,ie=0,Wc=0,Ya=null;ya?Ya=-0.53:yc?Ya=15:zf?Ya=-0.7:je&&(Ya=-1/3);var ne,Dd=null,Rb=c.changeEnd=function(a){return!a.text?a.to:
z(a.from.line+a.text.length-1,aa(a.text).length+(1==a.text.length?a.from.ch:0))};c.prototype={constructor:c,focus:function(){window.focus();na(this);Kb(this)},setOption:function(a,b){var c=this.options,d=c[a];c[a]==b&&"mode"!=a||(c[a]=b,dc.hasOwnProperty(a)&&fa(this,dc[a])(this,b,d))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](a)},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==
a||"string"!=typeof b[c]&&b[c].name==a)return b.splice(c,1),!0},addOverlay:ea(function(a,b){var d=a.token?a:c.getMode(this.options,a);if(d.startState)throw Error("Overlays may not be stateful.");this.state.overlays.push({mode:d,modeSpec:a,opaque:b&&b.opaque});this.state.modeGen++;Ca(this)}),removeOverlay:ea(function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var d=b[c].modeSpec;if(d==a||"string"==typeof a&&d.name==a){b.splice(c,1);this.state.modeGen++;Ca(this);break}}}),indentLine:ea(function(a,
b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract");ta(this.doc,a)&&wc(this,a,b,c)}),indentSelection:ea(function(a){for(var b=this.doc.sel.ranges,c=-1,d=0;d<b.length;d++){var e=b[d];if(e.empty())e.head.line>c&&(wc(this,e.head.line,a,!0),c=e.head.line,d==this.doc.sel.primIndex&&ec(this));else for(var g=Math.max(c,e.from().line),c=e.to(),c=Math.min(this.lastLine(),c.line-(c.ch?0:1))+1;g<c;++g)wc(this,g,a)}}),getTokenAt:function(a,b){var c=
this.doc;a=B(c,a);for(var d=qa(this,a.line,b),e=this.doc.mode,c=G(c,a.line),c=new id(c.text,this.options.tabSize);c.pos<a.ch&&!c.eol();){c.start=c.pos;var g=Kd(e,c,d)}return{start:c.start,end:c.pos,string:c.current(),type:g||null,state:d}},getTokenTypeAt:function(a){a=B(this.doc,a);var b=Fe(this,G(this.doc,a.line)),c=0,d=(b.length-1)/2;a=a.ch;var e;if(0==a)e=b[2];else for(;;){var g=c+d>>1;if((g?b[2*g-1]:0)>=a)d=g;else if(b[2*g+1]<a)c=g+1;else{e=b[2*g+2];break}}b=e?e.indexOf("cm-overlay "):-1;return 0>
b?e:0==b?null:e.slice(0,b-1)},getModeAt:function(a){var b=this.doc.mode;return!b.innerMode?b:c.innerMode(b,this.getTokenAt(a).state).mode},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var c=[];if(!Wb.hasOwnProperty(b))return Wb;var d=Wb[b],e=this.getModeAt(a);if("string"==typeof e[b])d[e[b]]&&c.push(d[e[b]]);else if(e[b])for(var g=0;g<e[b].length;g++){var h=d[e[b][g]];h&&c.push(h)}else e.helperType&&d[e.helperType]?c.push(d[e.helperType]):d[e.name]&&c.push(d[e.name]);
for(g=0;g<d._global.length;g++)h=d._global[g],h.pred(e,this)&&-1==sa(c,h.val)&&c.push(h.val);return c},getStateAfter:function(a,b){var c=this.doc;a=Math.max(c.first,Math.min(null==a?c.first+c.size-1:a,c.first+c.size-1));return qa(this,a+1,b)},cursorCoords:function(a,b){var c;c=this.doc.sel.primary();c=null==a?c.head:"object"==typeof a?B(this.doc,a):a?c.from():c.to();return ia(this,c,b||"page")},charCoords:function(a,b){return Oa(this,B(this.doc,a),b||"page")},coordsChar:function(a,b){a=la(this,a,
b||"page");return E(this,a.left,a.top)},lineAtHeight:function(a,b){a=la(this,{top:a,left:0},b||"page").top;return Ob(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var c=!1,d=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>d&&(a=d,c=!0);d=G(this.doc,a);return Ta(this,d,{top:0,left:0},b||"page").top+(c?this.doc.height-ib(d):0)},defaultTextHeight:function(){return K(this.display)},defaultCharWidth:function(){return ca(this.display)},setGutterMarker:ea(function(a,
b,c){return cd(this,a,"gutter",function(a){var f=a.gutterMarkers||(a.gutterMarkers={});f[b]=c;!c&&Oe(f)&&(a.gutterMarkers=null);return!0})}),clearGutter:ea(function(a){var b=this,c=b.doc,d=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&(c.gutterMarkers[a]=null,db(b,d,"gutter"),Oe(c.gutterMarkers)&&(c.gutterMarkers=null));++d})}),addLineClass:ea(function(a,b,c){return cd(this,a,"class",function(a){var f="text"==b?"textClass":"background"==b?"bgClass":"wrapClass";if(a[f]){if(RegExp("(?:^|\\s)"+
c+"(?:$|\\s)").test(a[f]))return!1;a[f]+=" "+c}else a[f]=c;return!0})}),removeLineClass:ea(function(a,b,c){return cd(this,a,"class",function(a){var f="text"==b?"textClass":"background"==b?"bgClass":"wrapClass",d=a[f];if(d)if(null==c)a[f]=null;else{var e=d.match(RegExp("(?:^|\\s+)"+c+"(?:$|\\s+)"));if(!e)return!1;var g=e.index+e[0].length;a[f]=d.slice(0,e.index)+(!e.index||g==d.length?"":" ")+d.slice(g)||null}else return!1;return!0})}),addLineWidget:ea(function(a,b,c){return nf(this,a,b,c)}),removeLineWidget:function(a){a.clear()},
lineInfo:function(a){if("number"==typeof a){if(!ta(this.doc,a))return null;var b=a;a=G(this.doc,a);if(!a)return null}else if(b=ha(a),null==b)return null;return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,d,e){var g=this.display;a=ia(this,B(this.doc,a));var h=a.bottom,k=a.left;b.style.position="absolute";
g.sizer.appendChild(b);if("over"==d)h=a.top;else if("above"==d||"near"==d){var l=Math.max(g.wrapper.clientHeight,this.doc.height),m=Math.max(g.sizer.clientWidth,g.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>l)&&a.top>b.offsetHeight?h=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=l&&(h=a.bottom);k+b.offsetWidth>m&&(k=m-b.offsetWidth)}b.style.top=h+"px";b.style.left=b.style.right="";"right"==e?(k=g.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?k=0:"middle"==e&&(k=(g.sizer.clientWidth-
b.offsetWidth)/2),b.style.left=k+"px");c&&(a=Sc(this,k,h,k+b.offsetWidth,h+b.offsetHeight),null!=a.scrollTop&&Bb(this,a.scrollTop),null!=a.scrollLeft&&fb(this,a.scrollLeft))},triggerOnKeyDown:ea(Qd),triggerOnKeyPress:ea(Sd),triggerOnKeyUp:ea(Rd),execCommand:function(a){if(Xc.hasOwnProperty(a))return Xc[a](this)},findPosH:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);var g=0;for(a=B(this.doc,a);g<b&&!(a=Id(this.doc,a,e,c,d),a.hitSide);++g);return a},moveH:ea(function(a,b){var c=this;c.extendSelectionsBy(function(d){return c.display.shift||
c.doc.extend||d.empty()?Id(c.doc,d.head,a,b,c.options.rtlMoveVisually):0>a?d.from():d.to()},Xb)}),deleteH:ea(function(a,b){var c=this.doc;this.doc.sel.somethingSelected()?c.replaceSelection("",null,"+delete"):dd(this,function(d){var e=Id(c,d.head,a,b,!1);return 0>a?{from:e,to:d.head}:{from:d.head,to:e}})}),findPosV:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);var g=0;for(a=B(this.doc,a);g<b&&!(a=ia(this,a,"div"),null==d?d=a.left:a.left=d,a=ve(this,a,e,c),a.hitSide);++g);return a},moveV:ea(function(a,
b){var c=this,d=this.doc,e=[],g=!c.display.shift&&!d.extend&&d.sel.somethingSelected();d.extendSelectionsBy(function(h){if(g)return 0>a?h.from():h.to();var k=ia(c,h.head,"div");null!=h.goalColumn&&(k.left=h.goalColumn);e.push(k.left);var l=ve(c,k,a,b);"page"==b&&h==d.sel.primary()&&ad(c,null,Oa(c,l,"div").top-k.top);return l},Xb);if(e.length)for(var h=0;h<d.sel.ranges.length;h++)d.sel.ranges[h].goalColumn=e[h]}),toggleOverwrite:function(a){null!=a&&a==this.state.overwrite||((this.state.overwrite=
!this.state.overwrite)?$c(this.display.cursorDiv,"CodeMirror-overwrite"):Zc(this.display.cursorDiv,"CodeMirror-overwrite"),pa(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return Eb()==this.display.input},scrollTo:ea(function(a,b){(null!=a||null!=b)&&bd(this);null!=a&&(this.curOp.scrollLeft=a);null!=b&&(this.curOp.scrollTop=b)}),getScrollInfo:function(){var a=this.display.scroller,b=wb;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-b,width:a.scrollWidth-b,
clientHeight:a.clientHeight-b,clientWidth:a.clientWidth-b}},scrollIntoView:ea(function(a,b){null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:z(a,0),to:null}:null==a.from&&(a={from:a,to:null});a.to||(a.to=a.from);a.margin=b||0;if(null!=a.from.line)bd(this),this.curOp.scrollToPos=a;else{var c=Sc(this,Math.min(a.from.left,a.to.left),Math.min(a.from.top,a.to.top)-a.margin,Math.max(a.from.right,a.to.right),Math.max(a.from.bottom,
a.to.bottom)+a.margin);this.scrollTo(c.scrollLeft,c.scrollTop)}}),setSize:ea(function(a,b){function c(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a}null!=a&&(this.display.wrapper.style.width=c(a));null!=b&&(this.display.wrapper.style.height=c(b));this.options.lineWrapping&&Ia(this);this.curOp.forceUpdate=!0;pa(this,"refresh",this)}),operation:function(a){return ma(this,a)},refresh:ea(function(){var a=this.display.cachedTextHeight;Ca(this);this.curOp.forceUpdate=!0;ga(this);this.scrollTo(this.doc.scrollLeft,
this.doc.scrollTop);e(this);(null==a||0.5<Math.abs(a-K(this.display)))&&s(this);pa(this,"refresh",this)}),swapDoc:ea(function(a){var b=this.doc;b.cm=null;ae(this,a);ga(this);ua(this);this.scrollTo(a.scrollLeft,a.scrollTop);oa(this,"swapDoc",this,b);return b}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};ic(c);var Ve=
c.defaults={},dc=c.optionHandlers={},be=c.Init={toString:function(){return"CodeMirror.Init"}};M("value","",function(a,b){a.setValue(b)},!0);M("mode",null,function(a,b){a.doc.modeOption=b;m(a)},!0);M("indentUnit",2,m,!0);M("indentWithTabs",!1);M("smartIndent",!0);M("tabSize",4,function(a){l(a);ga(a);Ca(a)},!0);M("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(a,b){a.options.specialChars=RegExp(b.source+(b.test("\t")?"":"|\t"),"g");a.refresh()},!0);M("specialCharPlaceholder",
function(a){var b=D("span","\u2022","cm-invalidchar");b.title="\\u"+a.charCodeAt(0).toString(16);return b},function(a){a.refresh()},!0);M("electricChars",!0);M("rtlMoveVisually",!Af);M("wholeLineUpdateBefore",!0);M("theme","default",function(a){q(a);g(a)},!0);M("keyMap","default",k);M("extraKeys",null);M("lineWrapping",!1,function(a){a.options.lineWrapping?($c(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth=""):(Zc(a.display.wrapper,"CodeMirror-wrap"),d(a));s(a);Ca(a);ga(a);setTimeout(function(){t(a)},
100)},!0);M("gutters",[],function(a){r(a.options);g(a)},!0);M("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?A(a.display)+"px":"0";a.refresh()},!0);M("coverGutterNextToScrollbar",!1,t,!0);M("lineNumbers",!1,function(a){r(a.options);g(a)},!0);M("firstLineNumber",1,g,!0);M("lineNumberFormatter",function(a){return a},g,!0);M("showCursorWhenSelecting",!1,Qa,!0);M("resetSelectionOnContextMenu",!0);M("readOnly",!1,function(a,b){"nocursor"==b?(Ic(a),a.display.input.blur(),a.display.disabled=
!0):(a.display.disabled=!1,b||ua(a))});M("disableInput",!1,function(a,b){b||ua(a)},!0);M("dragDrop",!0);M("cursorBlinkRate",530);M("cursorScrollMargin",0);M("cursorHeight",1);M("workTime",100);M("workDelay",100);M("flattenSpans",!0,l,!0);M("addModeClass",!1,l,!0);M("pollInterval",100);M("undoDepth",200,function(a,b){a.doc.history.undoDepth=b});M("historyEventDelay",1250);M("viewportMargin",10,function(a){a.refresh()},!0);M("maxHighlightLength",1E4,l,!0);M("moveInputWithCursor",!0,function(a,b){b||
(a.display.inputDiv.style.top=a.display.inputDiv.style.left=0)});M("tabindex",null,function(a,b){a.display.input.tabIndex=b||""});M("autofocus",null);var Se=c.modes={},Fc=c.mimeModes={};c.defineMode=function(a,b){!c.defaults.mode&&"null"!=a&&(c.defaults.mode=a);if(2<arguments.length){b.dependencies=[];for(var d=2;d<arguments.length;++d)b.dependencies.push(arguments[d])}Se[a]=b};c.defineMIME=function(a,b){Fc[a]=b};c.resolveMode=function(a){if("string"==typeof a&&Fc.hasOwnProperty(a))a=Fc[a];else if(a&&
"string"==typeof a.name&&Fc.hasOwnProperty(a.name)){var b=Fc[a.name];"string"==typeof b&&(b={name:b});a=Me(b,a);a.name=b.name}else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return c.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}};c.getMode=function(a,b){b=c.resolveMode(b);var d=Se[b.name];if(!d)return c.getMode(a,"text/plain");d=d(a,b);if(Gc.hasOwnProperty(b.name)){var e=Gc[b.name],g;for(g in e)e.hasOwnProperty(g)&&(d.hasOwnProperty(g)&&(d["_"+g]=
d[g]),d[g]=e[g])}d.name=b.name;b.helperType&&(d.helperType=b.helperType);if(b.modeProps)for(g in b.modeProps)d[g]=b.modeProps[g];return d};c.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});c.defineMIME("text/plain","null");var Gc=c.modeExtensions={};c.extendMode=function(a,b){var c=Gc.hasOwnProperty(a)?Gc[a]:Gc[a]={};nc(b,c)};c.defineExtension=function(a,b){c.prototype[a]=b};c.defineDocExtension=function(a,b){Da.prototype[a]=b};c.defineOption=M;var pd=[];c.defineInitHook=function(a){pd.push(a)};
var Wb=c.helpers={};c.registerHelper=function(a,b,d){Wb.hasOwnProperty(a)||(Wb[a]=c[a]={_global:[]});Wb[a][b]=d};c.registerGlobalHelper=function(a,b,d,e){c.registerHelper(a,b,e);Wb[a]._global.push({pred:d,val:e})};var rc=c.copyState=function(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var c={},d;for(d in b){var e=b[d];e instanceof Array&&(e=e.concat([]));c[d]=e}return c},Ze=c.startState=function(a,b,c){return a.startState?a.startState(b,c):!0};c.innerMode=function(a,b){for(;a.innerMode;){var c=
a.innerMode(b);if(!c||c.mode==a)break;b=c.state;a=c.mode}return c||{mode:a,state:b}};var Xc=c.commands={selectAll:function(a){a.setSelection(z(a.firstLine(),0),z(a.lastLine()),Pb)},singleSelection:function(a){a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Pb)},killLine:function(a){dd(a,function(b){if(b.empty()){var c=G(a.doc,b.head.line).text.length;return b.head.ch==c&&b.head.line<a.lastLine()?{from:b.head,to:z(b.head.line+1,0)}:{from:b.head,to:z(b.head.line,c)}}return{from:b.from(),to:b.to()}})},
deleteLine:function(a){dd(a,function(b){return{from:z(b.from().line,0),to:B(a.doc,z(b.to().line+1,0))}})},delLineLeft:function(a){dd(a,function(a){return{from:z(a.from().line,0),to:a.from()}})},undo:function(a){a.undo()},redo:function(a){a.redo()},undoSelection:function(a){a.undoSelection()},redoSelection:function(a){a.redoSelection()},goDocStart:function(a){a.extendSelection(z(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(z(a.lastLine()))},goLineStart:function(a){a.extendSelectionsBy(function(b){return Qe(a,
b.head.line)},Xb)},goLineStartSmart:function(a){a.extendSelectionsBy(function(b){var c=Qe(a,b.head.line),d=a.getLineHandle(c.line),e=kb(d);return!e||0==e[0].level?(d=Math.max(0,d.text.search(/\S/)),z(c.line,b.head.line==c.line&&b.head.ch<=d&&b.head.ch?0:d)):c},Xb)},goLineEnd:function(a){a.extendSelectionsBy(function(b){b=b.head.line;for(var c,d=G(a.doc,b);c=Nb(d,!1);)d=c.find(1,!0).line,b=null;c=kb(d);c=!c?d.text.length:c[0].level%2?Pc(d):Qc(d);return z(null==b?ha(d):b,c)},Xb)},goLineRight:function(a){a.extendSelectionsBy(function(b){b=
a.charCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:b},"div")},Xb)},goLineLeft:function(a){a.extendSelectionsBy(function(b){b=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:b},"div")},Xb)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},
goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,"char")},delWordBefore:function(a){a.deleteH(-1,"word")},delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},
delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t")},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),d=a.options.tabSize,e=0;e<c.length;e++){var g=c[e].from(),g=Wa(a.getLine(g.line),g.ch,d);b.push(Array(d-g%d+1).join(" "))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?
a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){ma(a,function(){for(var b=a.listSelections(),c=[],d=0;d<b.length;d++){var e=b[d].head,g=G(a.doc,e.line).text;if(g)if(e.ch==g.length&&(e=new z(e.line,e.ch-1)),0<e.ch)e=new z(e.line,e.ch+1),a.replaceRange(g.charAt(e.ch-1)+g.charAt(e.ch-2),z(e.line,e.ch-2),e,"+transpose");else if(e.line>a.doc.first){var h=G(a.doc,e.line-1).text;h&&a.replaceRange(g.charAt(0)+"\n"+h.charAt(h.length-1),z(e.line-1,h.length-1),z(e.line,1),"+transpose")}c.push(new I(e,
e))}a.setSelections(c)})},newlineAndIndent:function(a){ma(a,function(){for(var b=a.listSelections().length,c=0;c<b;c++){var d=a.listSelections()[c];a.replaceRange("\n",d.anchor,d.head,"+input");a.indentLine(d.from().line+1,null,!0);ec(a)}})},toggleOverwrite:function(a){a.toggleOverwrite()}},xb=c.keyMap={};xb.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",
"Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};xb.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter",
"Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};xb.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart",
"Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]};xb.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown",
"Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};xb["default"]=Fb?xb.macDefault:xb.pcDefault;var Yc=c.lookupKey=function(a,b,c){function d(b){b=Cd(b);var e=b[a];if(!1===e)return"stop";if(null!=e&&c(e))return!0;if(b.nofallthrough)return"stop";b=b.fallthrough;if(null==
b)return!1;if("[object Array]"!=Object.prototype.toString.call(b))return d(b);for(e=0;e<b.length;++e){var g=d(b[e]);if(g)return g}return!1}for(var e=0;e<b.length;++e){var g=d(b[e]);if(g)return"stop"!=g}},ef=c.isModifierKey=function(a){a=Ib[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a},ff=c.keyName=function(a,b){if(Xa&&34==a.keyCode&&a["char"])return!1;var c=Ib[a.keyCode];if(null==c||a.altGraphKey)return!1;a.altKey&&(c="Alt-"+c);if(Re?a.metaKey:a.ctrlKey)c="Ctrl-"+c;if(Re?a.ctrlKey:a.metaKey)c=
"Cmd-"+c;!b&&a.shiftKey&&(c="Shift-"+c);return c};c.fromTextArea=function(a,b){function d(){a.value=m.getValue()}b||(b={});b.value=a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);!b.placeholder&&a.placeholder&&(b.placeholder=a.placeholder);if(null==b.autofocus){var e=Eb();b.autofocus=e==a||null!=a.getAttribute("autofocus")&&e==document.body}if(a.form&&(L(a.form,"submit",d),!b.leaveSubmitMethodAlone)){var g=a.form,h=g.submit;try{var k=g.submit=function(){d();g.submit=h;g.submit();g.submit=
k}}catch(l){}}a.style.display="none";var m=c(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);m.save=d;m.getTextArea=function(){return a};m.toTextArea=function(){d();a.parentNode.removeChild(m.getWrapperElement());a.style.display="";a.form&&(yb(a.form,"submit",d),"function"==typeof a.form.submit&&(a.form.submit=h))};return m};var id=c.StringStream=function(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0};id.prototype={eol:function(){return this.pos>=
this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;
return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){this.lastColumnPos<this.start&&(this.lastColumnValue=Wa(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?Wa(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Wa(this.string,
null,this.tabSize)-(this.lineStart?Wa(this.string,this.lineStart,this.tabSize):0)},match:function(a,b,c){if("string"==typeof a){var d=this.string.substr(this.pos,a.length);if((c?d.toLowerCase():d)==(c?a.toLowerCase():a))return!1!==b&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==b&&(this.pos+=a[0].length);return a}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=
a}}};var Tb=c.TextMarker=function(a,b){this.lines=[];this.type=b;this.doc=a};ic(Tb);Tb.prototype.clear=function(){if(!this.explicitlyCleared){var b=this.doc.cm,c=b&&!b.curOp;c&&rb(b);if(Va(this,"clear")){var d=this.find();d&&oa(this,"clear",d.from,d.to)}for(var e=d=null,g=0;g<this.lines.length;++g){var h=this.lines[g],k=Bc(h.markedSpans,this);b&&!this.collapsed?db(b,ha(h),"text"):b&&(null!=k.to&&(e=ha(h)),null!=k.from&&(d=ha(h)));for(var l=h,m=h.markedSpans,r=k,q=void 0,p=0;p<m.length;++p)m[p]!=r&&
(q||(q=[])).push(m[p]);l.markedSpans=q;null==k.from&&(this.collapsed&&!Lb(this.doc,h)&&b)&&hb(h,K(b.display))}if(b&&this.collapsed&&!b.options.lineWrapping)for(g=0;g<this.lines.length;++g)h=lb(this.lines[g]),k=a(h),k>b.display.maxLineLength&&(b.display.maxLine=h,b.display.maxLineLength=k,b.display.maxLineChanged=!0);null!=d&&(b&&this.collapsed)&&Ca(b,d,e+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,b&&ba(b.doc));b&&oa(b,"markerCleared",b,this);
c&&sb(b);this.parent&&this.parent.clear()}};Tb.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,d,e=0;e<this.lines.length;++e){var g=this.lines[e],h=Bc(g.markedSpans,this);if(null!=h.from&&(c=z(b?g:ha(g),h.from),-1==a))return c;if(null!=h.to&&(d=z(b?g:ha(g),h.to),1==a))return d}return c&&{from:c,to:d}};Tb.prototype.changed=function(){var a=this.find(-1,!0),b=this,c=this.doc.cm;a&&c&&ma(c,function(){var d=a.line,e=ha(a.line);if(e=Ra(c,e))Za(e),c.curOp.selectionChanged=c.curOp.forceUpdate=
!0;c.curOp.updateMaxLine=!0;!Lb(b.doc,d)&&null!=b.height&&(e=b.height,b.height=null,(e=uc(b)-e)&&hb(d,d.height+e))})};Tb.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;if(!b.maybeHiddenMarkers||-1==sa(b.maybeHiddenMarkers,this))(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};Tb.prototype.detachLine=function(a){this.lines.splice(sa(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||
(a.maybeHiddenMarkers=[])).push(this))};var kf=0,gd=c.SharedTextMarker=function(a,b){this.markers=a;this.primary=b;for(var c=0;c<a.length;++c)a[c].parent=this};ic(gd);gd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();oa(this,"clear")}};gd.prototype.find=function(a,b){return this.primary.find(a,b)};var hd=c.LineWidget=function(a,b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.cm=a;this.node=
b};ic(hd);hd.prototype.clear=function(){var a=this.cm,b=this.line.widgets,c=this.line,d=ha(c);if(null!=d&&b){for(var e=0;e<b.length;++e)b[e]==this&&b.splice(e--,1);b.length||(c.widgets=null);var g=uc(this);ma(a,function(){var b=-g;ib(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&ad(a,null,b);db(a,d,"widget");hb(c,Math.max(0,c.height-g))})}};hd.prototype.changed=function(){var a=this.height,b=this.cm,c=this.line;this.height=null;var d=uc(this)-a;d&&ma(b,function(){b.curOp.forceUpdate=!0;ib(c)<
(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&ad(b,null,d);hb(c,c.height+d)})};var Ub=c.Line=function(a,b,c){this.text=a;Ae(this,b);this.height=c?c(this):1};ic(Ub);Ub.prototype.lineNo=function(){return ha(this)};var pf={},of={};Cc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=a,d=a+b;c<d;++c){var e=this.lines[c];this.height-=e.height;var g=e;g.parent=null;ze(g);oa(e,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},
insertInner:function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(a=0;a<b.length;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};Dc.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.chunkSize();if(a<e){var g=Math.min(b,e-a),h=d.height;d.removeInner(a,g);this.height-=h-d.height;e==g&&(this.children.splice(c--,
1),d.parent=null);if(0==(b-=g))break;a=0}else a-=e}if(25>this.size-b&&(1<this.children.length||!(this.children[0]instanceof Cc)))c=[],this.collapse(c),this.children=[new Cc(c)],this.children[0].parent=this},collapse:function(a){for(var b=0;b<this.children.length;++b)this.children[b].collapse(a)},insertInner:function(a,b,c){this.size+=b.length;this.height+=c;for(var d=0;d<this.children.length;++d){var e=this.children[d],g=e.chunkSize();if(a<=g){e.insertInner(a,b,c);if(e.lines&&50<e.lines.length){for(;50<
e.lines.length;)a=e.lines.splice(e.lines.length-25,25),a=new Cc(a),e.height-=a.height,this.children.splice(d+1,0,a),a.parent=this;this.maybeSpill()}break}a-=g}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new Dc(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=sa(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new Dc(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);
a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=0;d<this.children.length;++d){var e=this.children[d],g=e.chunkSize();if(a<g){g=Math.min(b,g-a);if(e.iterN(a,g,c))return!0;if(0==(b-=g))break;a=0}else a-=g}}};var Bf=0,Da=c.Doc=function(a,b,c){if(!(this instanceof Da))return new Da(a,b,c);null==c&&(c=0);Dc.call(this,[new Cc([new Ub("",null)])]);this.first=c;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.frontier=c;c=z(c,0);this.sel=ka(c);this.history=new jd(null);
this.id=++Bf;this.modeOption=b;"string"==typeof a&&(a=fc(a));Hd(this,{from:c,to:c,text:a});W(this,ka(c),Pb)};Da.prototype=Me(Dc.prototype,{constructor:Da,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,d=0;d<b.length;++d)c+=b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=Md(this,this.first,this.first+this.size);return!1===a?b:b.join(a||
"\n")},setValue:va(function(a){var b=z(this.first,0),c=this.first+this.size-1;ac(this,{from:b,to:z(c,G(this,c).text.length),text:fc(a),origin:"setValue"},!0);W(this,ka(b))}),replaceRange:function(a,b,c,d){b=B(this,b);c=c?B(this,c):b;Vc(this,a,b,c,d)},getRange:function(a,b,c){a=Ac(this,B(this,a),B(this,b));return!1===c?a:a.join(c||"\n")},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){if(ta(this,a))return G(this,a)},getLineNumber:function(a){return ha(a)},getLineHandleVisualStart:function(a){"number"==
typeof a&&(a=G(this,a));return lb(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return B(this,a)},getCursor:function(a){var b=this.sel.primary();return null==a||"head"==a?b.head:"anchor"==a?b.anchor:"end"==a||"to"==a||!1===a?b.to():b.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:va(function(a,b,c){a=B(this,
"number"==typeof a?z(a,b||0):a);W(this,ka(a,null),c)}),setSelection:va(function(a,b,c){var d=B(this,a);a=B(this,b||a);W(this,ka(d,a),c)}),extendSelection:va(function(a,b,c){Q(this,B(this,a),b&&B(this,b),c)}),extendSelections:va(function(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=B(this,a[d]);Ba(this,c)}),extendSelectionsBy:va(function(a,b){Ba(this,Gd(this.sel.ranges,a),b)}),setSelections:va(function(a,b,c){if(a.length){for(var d=0,e=[];d<a.length;d++)e[d]=new I(B(this,a[d].anchor),B(this,a[d].head));
null==b&&(b=Math.min(a.length-1,this.sel.primIndex));W(this,O(e,b),c)}}),addSelection:va(function(a,b,c){var d=this.sel.ranges.slice(0);d.push(new I(B(this,a),B(this,b||a)));W(this,O(d,d.length-1),c)}),getSelection:function(a){for(var b=this.sel.ranges,c,d=0;d<b.length;d++){var e=Ac(this,b[d].from(),b[d].to());c=c?c.concat(e):e}return!1===a?c:c.join(a||"\n")},getSelections:function(a){for(var b=[],c=this.sel.ranges,d=0;d<c.length;d++){var e=Ac(this,c[d].from(),c[d].to());!1!==a&&(e=e.join(a||"\n"));
b[d]=e}return b},replaceSelection:function(a,b,c){for(var d=[],e=0;e<this.sel.ranges.length;e++)d[e]=a;this.replaceSelections(d,b,c||"+input")},replaceSelections:va(function(a,b,c){for(var d=[],e=this.sel,g=0;g<e.ranges.length;g++){var h=e.ranges[g];d[g]={from:h.from(),to:h.to(),text:fc(a[g]),origin:c}}if(g=b)if(g="end"!=b){g=[];c=a=z(this.first,0);for(e=0;e<d.length;e++){var k=d[e],h=Vd(k.from,a,c),l=Vd(Rb(k),a,c);a=k.to;c=l;"around"==b?(k=this.sel.ranges[e],k=0>P(k.head,k.anchor),g[e]=new I(k?l:
h,k?h:l)):g[e]=new I(h,h)}g=new T(g,this.sel.primIndex)}b=g;for(g=d.length-1;0<=g;g--)ac(this,d[g]);b?Pa(this,b):this.cm&&ec(this.cm)}),undo:va(function(){Jc(this,"undo")}),redo:va(function(){Jc(this,"redo")}),undoSelection:va(function(){Jc(this,"undo",!0)}),redoSelection:va(function(){Jc(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,d=0;d<a.done.length;d++)a.done[d].ranges||++b;for(d=0;d<
a.undone.length;d++)a.undone[d].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=new jd(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&(this.history.lastOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:hc(this.history.done),undone:hc(this.history.undone)}},setHistory:function(a){var b=
this.history=new jd(this.history.maxGeneration);b.done=hc(a.done.slice(0),null,!0);b.undone=hc(a.undone.slice(0),null,!0)},markText:function(a,b,c){return gc(this,B(this,a),B(this,b),c,"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared};a=B(this,a);return gc(this,a,a,c,"bookmark")},findMarksAt:function(a){a=B(this,a);var b=[],c=G(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];
if((null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch))b.push(e.marker.parent||e.marker)}return b},findMarks:function(a,b,c){a=B(this,a);b=B(this,b);var d=[],e=a.line;this.iter(a.line,b.line+1,function(g){if(g=g.markedSpans)for(var h=0;h<g.length;h++){var k=g[h];if(!(e==a.line&&a.ch>k.to||null==k.from&&e!=a.line||e==b.line&&k.from>b.ch)&&(!c||c(k.marker)))d.push(k.marker.parent||k.marker)}++e});return d},getAllMarks:function(){var a=[];this.iter(function(b){if(b=b.markedSpans)for(var c=0;c<b.length;++c)null!=
b[c].from&&a.push(b[c].marker)});return a},posFromIndex:function(a){var b,c=this.first;this.iter(function(d){d=d.text.length+1;if(d>a)return b=a,!0;a-=d;++c});return B(this,z(c,b))},indexFromPos:function(a){a=B(this,a);var b=a.ch;if(a.line<this.first||0>a.ch)return 0;this.iter(this.first,a.line,function(a){b+=a.text.length+1});return b},copy:function(a){var b=new Da(Md(this,this.first,this.first+this.size),this.modeOption,this.first);b.scrollTop=this.scrollTop;b.scrollLeft=this.scrollLeft;b.sel=this.sel;
b.extend=!1;a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory()));return b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from);null!=a.to&&a.to<c&&(c=a.to);b=new Da(Md(this,b,c),a.mode||this.modeOption,b);a.sharedHist&&(b.history=this.history);(this.linked||(this.linked=[])).push({doc:b,sharedHist:a.sharedHist});b.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=xe(this);for(c=0;c<a.length;c++){var d=a[c],e=
d.find(),g=b.clipPos(e.from),e=b.clipPos(e.to);P(g,e)&&(g=gc(b,g,e,d.primary,d.primary.type),d.markers.push(g),g.parent=d)}return b},unlinkDoc:function(a){a instanceof c&&(a=a.doc);if(this.linked)for(var b=0;b<this.linked.length;++b)if(this.linked[b].doc==a){this.linked.splice(b,1);a.unlinkDoc(this);lf(xe(this));break}if(a.history==this.history){var d=[a.id];Sb(a,function(a){d.push(a.id)},!0);a.history=new jd(null);a.history.done=hc(this.history.done,d);a.history.undone=hc(this.history.undone,d)}},
iterLinkedDocs:function(a){Sb(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});Da.prototype.eachLine=Da.prototype.iter;var Cf=["iter","insert","remove","copy","getEditor"],Hc;for(Hc in Da.prototype)Da.prototype.hasOwnProperty(Hc)&&0>sa(Cf,Hc)&&(c.prototype[Hc]=function(a){return function(){return a.apply(this.doc,arguments)}}(Da.prototype[Hc]));ic(Da);var Aa=c.e_preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},Df=c.e_stopPropagation=
function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},xd=c.e_stop=function(a){Aa(a);Df(a)},L=c.on=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):(a=a._handlers||(a._handlers={}),(a[b]||(a[b]=[])).push(c))},yb=c.off=function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else if(a=a._handlers&&a._handlers[b])for(b=0;b<a.length;++b)if(a[b]==c){a.splice(b,1);break}},pa=c.signal=
function(a,b){var c=a._handlers&&a._handlers[b];if(c)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)},Hb,Rc=0,wb=30,me=c.Pass={toString:function(){return"CodeMirror.Pass"}},Pb={scroll:!1},Ad={origin:"*mouse"},Xb={origin:"+move"};od.prototype.set=function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)};var Wa=c.countColumn=function(a,b,c,d,e){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));d=d||0;for(e=e||0;;){var g=a.indexOf("\t",d);if(0>g||g>=
b)return e+(b-d);e+=g-d;e+=c-e%c;d=g+1}},kd=[""],xc=function(a){a.select()};oc?xc=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:ya&&(xc=function(a){try{a.select()}catch(b){}});[].indexOf&&(sa=function(a,b){return a.indexOf(b)});[].map&&(Gd=function(a,b){return a.map(b)});var Ef=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ne=c.isWordChar=function(a){return/\w/.test(a)||"\u0080"<a&&(a.toUpperCase()!=a.toLowerCase()||Ef.test(a))},wf=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
tc;tc=document.createRange?function(a,b,c){var d=document.createRange();d.setEnd(a,c);d.setStart(a,b);return d}:function(a,b,c){var d=document.body.createTextRange();d.moveToElementText(a.parentNode);d.collapse(!0);d.moveEnd("character",c);d.moveStart("character",b);return d};vb&&(Eb=function(){try{return document.activeElement}catch(a){return document.body}});var $d=!1,cf=function(){if(xa)return!1;var a=D("div");return"draggable"in a||"dragDrop"in a}(),Ec,Od,Ld,fc=c.splitLines=3!="\n\nb".split(/\n/).length?
function(a){for(var b=0,c=[],d=a.length;b<=d;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var g=a.slice(b,"\r"==a.charAt(e-1)?e-1:e),h=g.indexOf("\r");-1!=h?(c.push(g.slice(0,h)),b+=h+1):(c.push(g),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)},bf=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return!b||b.parentElement()!=a?!1:0!=b.compareEndPoints("StartToEnd",b)},he=
function(){var a=D("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),Ib={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",107:"\x3d",109:"-",127:"Delete",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",
192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};c.keyNames=Ib;(function(){for(var a=0;10>a;a++)Ib[a+48]=Ib[a+96]=String(a);for(a=65;90>=a;a++)Ib[a]=String.fromCharCode(a);for(a=1;12>=a;a++)Ib[a+111]=Ib[a+63235]="F"+a})();var vc,uf=function(){function a(b){return 247>=b?c.charAt(b):1424<=b&&1524>=b?"R":1536<=b&&1773>=b?d.charAt(b-1536):1774<=b&&2220>=b?"r":8192<=b&&8203>=
b?"w":8204==b?"b":"L"}function b(a,c,d){this.level=a;this.from=c;this.to=d}var c="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",d="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",
e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,h=/[LRr]/,k=/[Lb1n]/,l=/[1n]/;return function(c){if(!e.test(c))return!1;for(var d=c.length,m=[],r=0,q;r<d;++r)m.push(a(c.charCodeAt(r)));for(var r=0,p="L";r<d;++r)q=m[r],"m"==q?m[r]=p:p=q;r=0;for(p="L";r<d;++r)q=m[r],"1"==q&&"r"==p?m[r]="n":h.test(q)&&(p=q,"r"==q&&(m[r]="R"));r=1;for(p=m[0];r<d-1;++r){q=m[r];if("+"==q&&"1"==p&&"1"==m[r+1])m[r]="1";else if(","==q&&p==m[r+1]&&("1"==p||"n"==p))m[r]=p;p=q}for(r=0;r<d;++r)if(q=m[r],","==q)m[r]="N";
else if("%"==q){for(p=r+1;p<d&&"%"==m[p];++p);var s=r&&"!"==m[r-1]||p<d&&"1"==m[p]?"1":"N";for(q=r;q<p;++q)m[q]=s;r=p-1}r=0;for(p="L";r<d;++r)q=m[r],"L"==p&&"1"==q?m[r]="L":h.test(q)&&(p=q);for(r=0;r<d;++r)if(g.test(m[r])){for(p=r+1;p<d&&g.test(m[p]);++p);q="L"==(p<d?m[p]:"L");s="L"==(r?m[r-1]:"L")||q?"L":"R";for(q=r;q<p;++q)m[q]=s;r=p-1}for(var p=[],t,r=0;r<d;)if(k.test(m[r])){q=r;for(++r;r<d&&k.test(m[r]);++r);p.push(new b(0,q,r))}else{var K=r,s=p.length;for(++r;r<d&&"L"!=m[r];++r);for(q=K;q<r;)if(l.test(m[q])){K<
q&&p.splice(s,0,new b(1,K,q));K=q;for(++q;q<r&&l.test(m[q]);++q);p.splice(s,0,new b(2,K,q));K=q}else++q;K<r&&p.splice(s,0,new b(1,K,r))}if(1==p[0].level&&(t=c.match(/^\s+/)))p[0].from=t[0].length,p.unshift(new b(0,0,t[0].length));if(1==aa(p).level&&(t=c.match(/\s+$/)))aa(p).to-=t[0].length,p.push(new b(0,d-t[0].length,d));p[0].level!=aa(p).level&&p.push(new b(p[0].level,d,d));return p}}();c.version="4.1.1";return c})},"codemirror4/mode/promiseland/promiseland":function(){(function(c){"object"==typeof exports&&
"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.defineMode("promiseland",function(p,m){function l(a,b,c){Oa=a;ia=c;return b}function h(a,b){var c=a.next();if('"'==c||"'"==c)return b.tokenize=s(c),b.tokenize(a,b);if("."==c&&a.match(/^\d+(?:[eE][+\-]?\d+)?/))return l("number","number");if("."==c&&a.match(".."))return l("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(c))return l(c);if("\x3d"==
c&&a.eat("\x3e"))return l("\x3d\x3e","operator");if("0"==c&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),l("number","number");if(/\d/.test(c))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),l("number","number");if("/"==c){if(a.eat("*"))return b.tokenize=k,k(a,b);if(a.eat("/"))return a.skipToEnd(),l("comment","comment");if("operator"==b.lastType||"keyword c"==b.lastType||"sof"==b.lastType||/^[\[{}\(,;:]$/.test(b.lastType)){a:for(var c=!1,d,e=!1;null!=(d=a.next());){if(!c){if("/"==d&&!e)break a;"["==
d?e=!0:e&&"]"==d&&(e=!1)}c=!c&&"\\"==d}a.eatWhile(/[gimy]/);return l("regexp","string-2")}a.eatWhile(la);return l("operator","operator",a.current())}if("`"==c)return b.tokenize=q,q(a,b);if("#"==c)return a.skipToEnd(),l("error","error");if(la.test(c))return a.eatWhile(la),l("operator","operator",a.current());a.eatWhile(/[\w\$_]/);c=a.current();return(d=Ta.propertyIsEnumerable(c)&&Ta[c])&&"."!=b.lastType?l(d.type,d.style,c):l("variable","variable",c)}function s(a){return function(b,c){for(var d=!1,
e;null!=(e=b.next())&&(e!=a||d);)d=!d&&"\\"==e;d||(c.tokenize=h);return l("string","string")}}function k(a,b){for(var c=!1,d;d=a.next();){if("/"==d&&c){b.tokenize=h;break}c="*"==d}return l("comment","comment")}function q(a,b){for(var c=!1,d;null!=(d=a.next());){if(!c&&("`"==d||"$"==d&&a.eat("{"))){b.tokenize=h;break}c=!c&&"\\"==d}return l("quasi","string-2",a.current())}function g(a,b){b.fatArrowAt&&(b.fatArrowAt=null);var c=a.string.indexOf("\x3d\x3e",a.start);if(!(0>c)){for(var d=0,e=!1,c=c-1;0<=
c;--c){var g=a.string.charAt(c),h=$b.indexOf(g);if(0<=h&&3>h){if(!d){++c;break}if(0==--d)break}else if(3<=h&&6>h)++d;else if(/[$\w]/.test(g))e=!0;else if(e&&!d){++c;break}}e&&!d&&(b.fatArrowAt=c)}}function b(a,b,c,d,e,g){this.indented=a;this.column=b;this.type=c;this.prev=e;this.info=g;null!=d&&(this.align=d)}function e(){for(var a=arguments.length-1;0<=a;a--)E.cc.push(arguments[a])}function a(){e.apply(null,arguments);return!0}function d(a){function b(c){for(;c;c=c.next)if(c.name==a)return!0;return!1}
var c=E.state;c.context?(E.marked="def",b(c.localVars)||(c.localVars={name:a,next:c.localVars})):!b(c.globalVars)&&m.globalVars&&(c.globalVars={name:a,next:c.globalVars})}function r(){E.state.context={prev:E.state.context,vars:E.state.localVars};E.state.localVars=Ab}function x(){E.state.localVars=E.state.context.vars;E.state.context=E.state.context.prev}function t(a,c){var d=function(){var d=E.state,e=d.indented;"stat"==d.lexical.type&&(e=d.lexical.indented);d.lexical=new b(e,E.stream.column(),a,
null,d.lexical,c)};d.lex=!0;return d}function u(){var a=E.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function v(b){function c(d){return d==b?a():";"==b?e():a(c)}return c}function A(b,c){return"var"==b?a(t("vardef",c.length),da,v(";"),u):"keyword a"==b?a(t("form"),w,A,u):"keyword b"==b?a(t("form"),A,u):"{"==b?a(t("}"),B,u):";"==b?a():"if"==b?("else"==E.state.lexical.info&&E.state.cc[E.state.cc.length-1]==u&&E.state.cc.pop()(),a(t("form"),w,
A,u,Pa)):"function"==b?a(X):"for"==b?a(t("form"),W,A,u):"variable"==b?a(t("stat"),J):"switch"==b?a(t("form"),w,t("}","switch"),v("{"),B,u,u):"case"==b?a(w,v(":")):"default"==b?a(v(":")):"catch"==b?a(t("form"),r,v("("),Qa,v(")"),A,u,x):"module"==b?a(t("form"),r,qb,x,u):"class"==b?a(t("form"),jc,ab,u):"export"==b?a(t("form"),zb,u):"import"==b?a(t("form"),qa,u):e(t("stat"),w,v(";"),u)}function w(a){return H(a,!1)}function y(a){return H(a,!0)}function H(b,c){if(E.state.fatArrowAt==E.stream.start){var d=
c?Fa:Ea;if("("==b)return a(r,t(")"),O(Q,")"),u,v("\x3d\x3e"),d,x);if("variable"==b)return e(r,Q,v("\x3d\x3e"),d,x)}d=c?Y:R;return Ua.hasOwnProperty(b)?a(d):"function"==b?a(X,d):"keyword c"==b?a(c?U:C):"("==b?a(t(")"),C,Za,v(")"),u,d):"operator"==b||"spread"==b?a(c?y:w):"["==b?a(t("]"),Na,u,d):"{"==b?ka(ja,"}",null,d):"quasi"==b?e($,d):a()}function C(a){return a.match(/[;\}\)\],]/)?e():e(w)}function U(a){return a.match(/[;\}\)\],]/)?e():e(y)}function R(b,c){return","==b?a(w):Y(b,c,!1)}function Y(b,
c,d){var g=!1==d?R:Y,h=!1==d?w:y;if("\x3d\x3e"==c)return a(r,d?Fa:Ea,x);if("operator"==b)return/\+\+|--/.test(c)?a(g):"?"==c?a(w,v(":"),h):a(h);if("quasi"==b)return e($,g);if(";"!=b){if("("==b)return ka(y,")","call",g);if("."==b)return a(S,g);if("["==b)return a(t("]"),C,v("]"),u,g)}}function $(b,c){return"quasi"!=b?e():"${"!=c.slice(c.length-2)?a($):a(w,Z)}function Z(b){if("}"==b)return E.marked="string-2",E.state.tokenize=q,a($)}function Ea(a){g(E.stream,E.state);return"{"==a?e(A):e(w)}function Fa(a){g(E.stream,
E.state);return"{"==a?e(A):e(y)}function J(b){return":"==b?a(u,A):e(R,v(";"),u)}function S(b){if("variable"==b)return E.marked="property",a()}function ja(b,c){if("variable"==b){if(E.marked="property","get"==c||"set"==c)return a(T)}else if("number"==b||"string"==b)E.marked=b+" property";else if("["==b)return a(w,v("]"),I);if(Ua.hasOwnProperty(b))return a(I)}function T(b){if("variable"!=b)return e(I);E.marked="property";return a(X)}function I(b){if(":"==b)return a(y);if("("==b)return e(X)}function O(b,
c){function d(e){return","==e?(e=E.state.lexical,"call"==e.info&&(e.pos=(e.pos||0)+1),a(b,d)):e==c?a():a(v(c))}return function(g){return g==c?a():e(b,d)}}function ka(b,c,d){for(var e=3;e<arguments.length;e++)E.cc.push(arguments[e]);return a(t(c,d),O(b,c),u)}function B(b){return"}"==b?a():e(A,B)}function ta(a){}function da(){return e(Q,ta,V,N)}function Q(b,c){if("variable"==b)return d(c),a();if("["==b)return ka(Q,"]");if("{"==b)return ka(Ba,"}")}function Ba(b,c){if("variable"==b&&!E.stream.match(/^\s*:/,
!1))return d(c),a(V);"variable"==b&&(E.marked="property");return a(v(":"),Q,V)}function V(b,c){if("\x3d"==c)return a(y)}function N(b){if(","==b)return a(da)}function Pa(b,c){if("keyword b"==b&&"else"==c)return a(t("form","else"),A,u)}function W(b){if("("==b)return a(t(")"),Ga,v(")"),u)}function Ga(b){return"var"==b?a(da,v(";"),ba):";"==b?a(ba):"variable"==b?a(Ha):e(w,v(";"),ba)}function Ha(b,c){return"in"==c||"of"==c?(E.marked="keyword",a(w)):a(R,ba)}function ba(b,c){return";"==b?a(F):"in"==c||"of"==
c?(E.marked="keyword",a(w)):e(w,v(";"),F)}function F(b){")"!=b&&a(w)}function X(b,c){if("*"==c)return E.marked="keyword",a(X);if("variable"==b)return d(c),a(X);if("("==b)return a(r,t(")"),O(Qa,")"),u,A,x)}function Qa(b){return"spread"==b?a(Qa):e(Q,ta)}function jc(b,c){if("variable"==b)return d(c),a(pb)}function pb(b,c){if("extends"==c)return a(w)}function ab(a){if("{"==a)return ka(ja,"}")}function qb(b,c){if("string"==b)return a(A);if("variable"==b)return d(c),a(Ra)}function zb(b,c){return"*"==c?
(E.marked="keyword",a(Ra,v(";"))):"default"==c?(E.marked="keyword",a(w,v(";"))):e(A)}function qa(b){return"string"==b?a():e(Ja,Ra)}function Ja(b,c){if("{"==b)return ka(Ja,"}");"variable"==b&&d(c);return a()}function Ra(b,c){if("from"==c)return E.marked="keyword",a(w)}function Na(b){return"]"==b?a():e(y,Sa)}function Sa(b){return"for"==b?e(Za,v("]")):","==b?a(O(y,"]")):e(O(y,"]"))}function Za(b){if("for"==b)return a(W,Za);if("if"==b)return a(w,Za)}var Ia=p.indentUnit,ga=m.statementIndent,Ta=function(){function a(b){return{type:b,
style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("operator"),g={type:"atom",style:"atom"};return{"if":a("if"),"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"debugger":d,"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":g,"false":g,"null":g,undefined:g,NaN:g,Infinity:g,
"this":a("this"),module:a("module"),"class":a("class"),"super":a("atom"),yield:d,"export":a("export"),"import":a("import"),"extends":d,require:e}}(),la=/[+\-*\u2721&%=<>!?|~^]/,Oa,ia,$b="([{}])",Ua={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},E={state:null,column:null,marked:null,cc:null},Ab={name:"this",next:{name:"arguments"}};u.lex=!0;return{startState:function(a){a={tokenize:h,lastType:"sof",cc:[],lexical:new b((a||0)-Ia,0,"block",!1),localVars:m.localVars,
context:m.localVars&&{vars:m.localVars},indented:0};m.globalVars&&"object"==typeof m.globalVars&&(a.globalVars=m.globalVars);return a},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation(),g(a,b));if(b.tokenize!=k&&a.eatSpace())return null;var c=b.tokenize(a,b);if("comment"==Oa)return c;b.lastType="operator"==Oa&&("++"==ia||"--"==ia)?"incdec":Oa;a:{var d=Oa,e=ia,h=b.cc;E.state=b;E.stream=a;E.marked=null;E.cc=h;b.lexical.hasOwnProperty("align")||
(b.lexical.align=!0);for(;;)if((h.length?h.pop():A)(d,e)){for(;h.length&&h[h.length-1].lex;)h.pop()();if(E.marked){c=E.marked;break a}if(d="variable"==d)b:{for(d=b.localVars;d;d=d.next)if(d.name==e){d=!0;break b}for(h=b.context;h;h=h.prev)for(d=h.vars;d;d=d.next)if(d.name==e){d=!0;break b}d=void 0}if(d){c="variable-2";break a}break a}c=void 0}return c},indent:function(a,b){if(a.tokenize==k)return c.Pass;if(a.tokenize!=h)return 0;var d=b&&b.charAt(0),e=a.lexical;if(!/^\s*else\b/.test(b))for(var g=
a.cc.length-1;0<=g;--g){var l=a.cc[g];if(l==u)e=e.prev;else if(l!=Pa)break}"stat"==e.type&&"}"==d&&(e=e.prev);ga&&(")"==e.type&&"stat"==e.prev.type)&&(e=e.prev);g=e.type;l=d==g;return"vardef"==g?e.indented+("operator"==a.lastType||","==a.lastType?e.info+1:0):"form"==g&&"{"==d?e.indented:"form"==g?e.indented+Ia:"stat"==g?e.indented+("operator"==a.lastType||","==a.lastType?ga||Ia:0):"switch"==e.info&&!l&&!1!=m.doubleIndentSwitch?e.indented+(/^(?:case|default)\b/.test(b)?Ia:2*Ia):e.align?e.column+(l?
0:1):e.indented+(l?0:Ia)},electricChars:":{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace",helperType:"promiseland"}});c.defineMIME("text/promiseland","promiseland");c.defineMIME("application/promiseland","promiseland")})},"app/wgt/ReadMore":function(){(function(){var c,p;if("object"==typeof exports&&"object"==typeof module)p=function(c,h){var m=0,k=c.length,q=[];for(m;m<k;++m)q.push(require(c[m]));h.apply(h,q)},c=function(c,h){p(c,function(){module.exports=h.apply(h,
arguments)})};else if("function"==typeof define&&define.amd){var m=define;p=require;c=function(c,h){c instanceof Array?c.unshift("require"):(h=c,c=["require"]);m(c,function(){p=arguments[0];for(var c=[],k=1;k<arguments.length;++k)c.push(arguments[k]);return h.apply(h,c)})};p=require}else alert("not working out!");c(["promiseland"],function(c){var h=p,m=c.Promise;new m;var k=function(b){var e=new m;try{h([b],function(a){c.isPromiseLandPromisingModule(a)?a.then(function(a){e.resolve(a)},function(a){e.reject(a)}):
e.resolve(a)})}catch(a){e.reject(a)}return e.promise},q=c.classSystem;if(c._hasModule({hashStr:"d3a1f03029e3c223181f7d562ccbf52c"}))return c._getModule("d3a1f03029e3c223181f7d562ccbf52c");var g=new m;c._registerModule({hashStr:"d3a1f03029e3c223181f7d562ccbf52c",module:g,promising:!0});q.getBuiltinType("var");(function(){var b=function(a){return function(b){try{a(b)}catch(c){g.reject(c)}}},c,a,d,h,l,m,q;b(function(){k("dojo/_base/declare").then(b(function(p){c=p;k("dijit/_WidgetBase").then(b(function(p){a=
p;d=new a;k("dojo/query").then(b(function(p){h=p;k("dojo/dom-class").then(b(function(p){l=p;k("dojo/dom-construct").then(b(function(p){m=p;k("dijit/form/Button").then(b(function(b){q=b;g.resolve(c([a],{buildRendering:function(){d.buildRendering.apply(this,arguments);h(".more",this.domNode).forEach(function(a){var b,c,d,e;b=m.create("div",{"class":"opener"});l.add(b,"hidden");m.place(b,a,"before");m.place(a,b);c=!0;a={label:"read more ...","class":"moreBtn",onClick:function(){c?(l.remove(b,"hidden"),
d.set("label","read less"),e.set("label","read less")):(l.add(b,"hidden"),d.set("label","read more ..."),e.set("label","read more ..."));c=!c}};d=new q(a);e=new q(a);d.placeAt(b,"before");e.placeAt(b)})}}));return g}))}))}))}))}))}))})();return g})();return g})})()},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html".split(" "),function(c,p,m,l,h,s,k,q,
g,b){l("dijit-legacy-requires")&&k(0,function(){c(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});k=p("dijit.form.Button"+(l("dojo-bidi")?"_NoBidi":""),[q,g],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:b,_setValueAttr:"valueNode",_setNameAttr:function(b){this.valueNode&&this.valueNode.setAttribute("name",b)},_fillContent:function(b){if(b&&(!this.params||!("label"in this.params)))if(b=
s.trim(b.innerHTML))this.label=b},_setShowLabelAttr:function(b){this.containerNode&&m.toggle(this.containerNode,"dijitDisplayNone",!b);this._set("showLabel",b)},setLabel:function(b){h.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",b)},_setLabelAttr:function(b){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=s.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});l("dojo-bidi")&&
(k=p("dijit.form.Button",k,{_setLabelAttr:function(b){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(b){this._created&&this.textDir!=b&&(this._set("textDir",b),this._setLabelAttr(this.label))}}));return k})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(c,p,m,l,h,s,k,q){p("dijit-legacy-requires")&&
l(0,function(){require(["dijit/form/_FormValueWidget"])});return c("dijit.form._FormWidget",[h,k,s,q],{setDisabled:function(c){m.deprecated("setDisabled("+c+") is deprecated. Use set('disabled',"+c+") instead.","","2.0");this.set("disabled",c)},setValue:function(c){m.deprecated("dijit.form._FormWidget:setValue("+c+") is deprecated.  Use set('value',"+c+") instead.","","2.0");this.set("value",c)},getValue:function(){m.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.",
"","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!p("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(c,p,m,l,h,s,k,q,g,b,e,a,d){function r(){}
function x(a){return function(b,c,d,e){return b&&"string"==typeof c&&b[c]==r?b.on(c.substring(2).toLowerCase(),k.hitch(d,e)):a.apply(m,arguments)}}c.around(m,"connect",x);s.connect&&c.around(s,"connect",x);c=l("dijit._Widget",[e,a,d],{onClick:r,onDblClick:r,onKeyDown:r,onKeyPress:r,onKeyUp:r,onMouseDown:r,onMouseMove:r,onMouseOut:r,onMouseOver:r,onMouseLeave:r,onMouseEnter:r,onMouseUp:r,constructor:function(a){this._toConnect={};for(var b in a)this[b]===r&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=
a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===r?m.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){s.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,b)},attr:function(a,
b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){s.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?q("[widgetId]",this.containerNode).map(b.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});h("dijit-legacy-requires")&&g(0,function(){require(["dijit/_base"])});return c})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),
function(c,p,m,l,h,s){c=l("dijit._OnDijitClickMixin",null,{connect:function(c,h,g){return this.inherited(arguments,[c,"ondijitclick"==h?s:h,g])}});c.a11yclick=s;return c})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(c,p,m,l){function h(h){if((h.keyCode===c.ENTER||h.keyCode===c.SPACE)&&!/input|button|textarea/i.test(h.target.nodeName))for(h=h.target;h;h=h.parentNode)if(h.dojoClick)return!0}var s;m(document,"keydown",function(c){h(c)?(s=c.target,c.preventDefault()):
s=null});m(document,"keyup",function(c){h(c)&&c.target==s&&(s=null,m.emit(c.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:c.ctrlKey,shiftKey:c.shiftKey,metaKey:c.metaKey,altKey:c.altKey,_origType:c.type}))});var k=function(c,g){c.dojoClick=!0;return m(c,"click",g)};k.click=k;k.press=function(h,g){var b=m(h,l.press,function(a){("mousedown"!=a.type||p.isLeft(a))&&g(a)}),e=m(h,"keydown",function(a){(a.keyCode===c.ENTER||a.keyCode===c.SPACE)&&g(a)});return{remove:function(){b.remove();e.remove()}}};
k.release=function(h,g){var b=m(h,l.release,function(a){("mouseup"!=a.type||p.isLeft(a))&&g(a)}),e=m(h,"keyup",function(a){(a.keyCode===c.ENTER||a.keyCode===c.SPACE)&&g(a)});return{remove:function(){b.remove();e.remove()}}};k.move=l.move;return k})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(c,p,m,l,h,s,k,q,g,b){function e(a,b,c){return t&&c?function(a,b){return s(a,c,b)}:r?function(c,d){var e=
s(c,b,d),g=s(c,a,function(a){(!R||(new Date).getTime()>R+1E3)&&d.call(this,a)});return{remove:function(){e.remove();g.remove()}}}:function(b,c){return s(b,a,c)}}function a(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function d(c,d,e){var g=a(c.target);if(v=!c.target.disabled&&g&&g.dojoClick){var h="useTarget"==v;A=h?g:c.target;h&&c.preventDefault();w=c.touches?c.touches[0].pageX:c.clientX;y=c.touches?c.touches[0].pageY:c.clientY;H=("object"==typeof v?v.x:"number"==typeof v?v:0)||
4;C=("object"==typeof v?v.y:"number"==typeof v?v:0)||4;if(!u){u=!0;var k=function(a){v=h?m.isDescendant(b.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX:a.clientX,a.changedTouches?a.changedTouches[0].pageY:a.clientY),A):v&&a.target==A&&Math.abs((a.changedTouches?a.changedTouches[0].pageX:a.clientX)-w)<=H&&Math.abs((a.changedTouches?a.changedTouches[0].pageY:a.clientY)-y)<=C};b.doc.addEventListener(d,function(a){k(a);h&&a.preventDefault()},!0);b.doc.addEventListener(e,function(a){k(a);
if(v){U=(new Date).getTime();var b=h?A:a.target;"LABEL"===b.tagName&&(b=m.byId(b.getAttribute("for"))||b);setTimeout(function(){s.emit(b,"click",{bubbles:!0,cancelable:!0,_dojo_click:!0})},0)}},!0);c=function(a){b.doc.addEventListener(a,function(b){!b._dojo_click&&((new Date).getTime()<=U+1E3&&!("INPUT"==b.target.tagName&&l.contains(b.target,"dijitOffScreen")))&&(b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),"click"==a&&(("INPUT"!=b.target.tagName||"radio"==b.target.type||
"checkbox"==b.target.type)&&"TEXTAREA"!=b.target.tagName&&"AUDIO"!=b.target.tagName&&"VIDEO"!=b.target.tagName)&&b.preventDefault())},!0)};c("click");c("mousedown");c("mouseup")}}}var r=k("touch"),x=5>k("ios"),t=navigator.msPointerEnabled,u,v,A,w,y,H,C,U,R,Y;r&&(t?g(function(){b.doc.addEventListener("MSPointerDown",function(a){d(a,"MSPointerMove","MSPointerUp")},!0)}):g(function(){function a(b){var c=h.delegate(b,{bubbles:!0});6<=k("ios")&&(c.touches=b.touches,c.altKey=b.altKey,c.changedTouches=b.changedTouches,
c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.targetTouches=b.targetTouches);return c}Y=b.body();b.doc.addEventListener("touchstart",function(a){R=(new Date).getTime();var b=Y;Y=a.target;s.emit(b,"dojotouchout",{relatedTarget:Y,bubbles:!0});s.emit(Y,"dojotouchover",{relatedTarget:b,bubbles:!0});d(a,"touchmove","touchend")},!0);s(b.doc,"touchmove",function(c){R=(new Date).getTime();var d=b.doc.elementFromPoint(c.pageX-(x?0:b.global.pageXOffset),c.pageY-(x?0:b.global.pageYOffset));
d&&(Y!==d&&(s.emit(Y,"dojotouchout",{relatedTarget:d,bubbles:!0}),s.emit(d,"dojotouchover",{relatedTarget:Y,bubbles:!0}),Y=d),s.emit(d,"dojotouchmove",a(c))||c.preventDefault())});s(b.doc,"touchend",function(c){R=(new Date).getTime();var d=b.doc.elementFromPoint(c.pageX-(x?0:b.global.pageXOffset),c.pageY-(x?0:b.global.pageYOffset))||b.body();s.emit(d,"dojotouchend",a(c))})}));p={press:e("mousedown","touchstart","MSPointerDown"),move:e("mousemove","dojotouchmove","MSPointerMove"),release:e("mouseup",
"dojotouchend","MSPointerUp"),cancel:e(q.leave,"touchcancel",r?"MSPointerCancel":null),over:e("mouseover","dojotouchover","MSPointerOver"),out:e("mouseout","dojotouchout","MSPointerOut"),enter:q._eventHandler(e("mouseover","dojotouchover","MSPointerOver")),leave:q._eventHandler(e("mouseout","dojotouchout","MSPointerOut"))};return c.touch=p})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(c,p,m,l){l.extend(p,{focused:!1,onFocus:function(){},
onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return m("dijit._FocusMixin",null,{_focusManager:c})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(c,p,m,l,h,s,k,q,g,b,e,a,d,r,x,t,u){var v,A=new (p([a,k],{curNode:null,activeStack:[],
constructor:function(){var a=q.hitch(this,function(a){m.isDescendant(this.curNode,a)&&this.set("curNode",null);m.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});c.before(s,"empty",a);c.before(s,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var c=this,d=a.document&&a.document.body;if(d){var e=g(a.document,"mousedown, touchstart",function(a){c._justMouseDowned=!0;setTimeout(function(){c._justMouseDowned=!1},13);if(!a||!(a.target&&
null==a.target.parentNode))c._onTouchNode(b||a.target,"mouse")}),h=g(d,"focusin",function(a){v=(new Date).getTime();if(a.target.tagName){var d=a.target.tagName.toLowerCase();"#document"==d||"body"==d||(x.isFocusable(a.target)?c._onFocusNode(b||a.target):c._onTouchNode(b||a.target))}}),k=g(d,"focusout",function(a){(new Date).getTime()<v+100||c._onBlurNode(b||a.target)});return{remove:function(){e.remove();h.remove();k.remove();d=e=h=k=null}}}},_onBlurNode:function(a){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);
this._clearFocusTimer=setTimeout(q.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);this._justMouseDowned||(this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(q.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0))},_onTouchNode:function(a,b){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);h.contains(a,
"dijitPopup")&&(a=a.firstChild);var c=[];try{for(;a;){var e=l.get(a,"dijitPopupParent");if(e)a=t.byId(e).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===d.body())break;a=r.get(a.ownerDocument).frameElement}else{var g=a.getAttribute&&a.getAttribute("widgetId"),k=g&&t.byId(g);k&&!("mouse"==b&&k.get("disabled"))&&c.unshift(g);a=a.parentNode}}}catch(m){}this._setStack(c,b)},_onFocusNode:function(a){a&&9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),
this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var c=this.activeStack,d=c.length-1,e=a.length-1;if(a[e]!=c[d]){this.set("activeStack",a);var g;for(g=d;0<=g&&c[g]!=a[g];g--)if(d=t.byId(c[g]))d._hasBeenBlurred=!0,d.set("focused",!1),d._focusManager==this&&d._onBlur(b),this.emit("widget-blur",d,b);for(g++;g<=e;g++)if(d=t.byId(a[g]))d.set("focused",!0),d._focusManager==this&&d._onFocus(b),this.emit("widget-focus",d,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));
b(function(){var a=A.registerWin(r.get(document));e("ie")&&g(window,"unload",function(){a&&(a.remove(),a=null)})});u.focus=function(a){A.focus(a)};for(var w in A)/^_/.test(w)||(u.focus[w]="function"==typeof A[w]?q.hitch(A,w):A[w]);A.watch(function(a,b,c){u.focus[a]=c});return A})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(c,p,m,l,h,s,k){p.add("rtl-adjust-position-for-verticalScrollBar",function(c,b){var e=
m.body(b),a=k.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},e,"last"),d=k.create("div",{style:{overflow:"hidden",direction:"ltr"}},a,"last"),l=0!=h.position(d).x;a.removeChild(d);e.removeChild(a);return l});p.add("position-fixed-support",function(c,b){var e=m.body(b),a=k.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},e,"last"),d=k.create("span",{style:{position:"fixed",
left:"0",top:"0"}},a,"last"),l=h.position(d).x!=h.position(a).x;a.removeChild(d);e.removeChild(a);return l});var q={getBox:function(c){c=c||m.doc;var b="BackCompat"==c.compatMode?m.body(c):c.documentElement,e=h.docScroll(c);if(p("touch")){var a=q.get(c);c=a.innerWidth||b.clientWidth;b=a.innerHeight||b.clientHeight}else c=b.clientWidth,b=b.clientHeight;return{l:e.x,t:e.y,w:c,h:b}},get:function(c){if(9>p("ie")&&q!==document.parentWindow){c.parentWindow.execScript("document._parentWindow \x3d window;",
"Javascript");var b=c._parentWindow;c._parentWindow=null;return b}return c.parentWindow||c.defaultView},scrollIntoView:function(c,b){try{c=l.byId(c);var e=c.ownerDocument||m.doc,a=m.body(e),d=e.documentElement||a.parentNode,k=p("ie"),q=p("webkit");if(!(c==a||c==d))if(!p("mozilla")&&(!k&&!q&&!p("opera"))&&"scrollIntoView"in c)c.scrollIntoView(!1);else{var t="BackCompat"==e.compatMode,u=Math.min(a.clientWidth||d.clientWidth,d.clientWidth||a.clientWidth),v=Math.min(a.clientHeight||d.clientHeight,d.clientHeight||
a.clientHeight),e=q||t?a:d,A=b||h.position(c),w=c.parentNode,q=function(a){return 6>=k||7==k&&t?!1:p("position-fixed-support")&&"fixed"==s.get(a,"position").toLowerCase()};if(!q(c))for(;w;){w==a&&(w=e);var y=h.position(w),H=q(w),C="rtl"==s.getComputedStyle(w).direction.toLowerCase();if(w==e){y.w=u;y.h=v;e==d&&(k&&C)&&(y.x+=e.offsetWidth-y.w);if(0>y.x||!k||9<=k)y.x=0;if(0>y.y||!k||9<=k)y.y=0}else{var U=h.getPadBorderExtents(w);y.w-=U.w;y.h-=U.h;y.x+=U.l;y.y+=U.t;var R=w.clientWidth,Y=y.w-R;0<R&&0<
Y&&(C&&p("rtl-adjust-position-for-verticalScrollBar")&&(y.x+=Y),y.w=R);R=w.clientHeight;Y=y.h-R;0<R&&0<Y&&(y.h=R)}H&&(0>y.y&&(y.h+=y.y,y.y=0),0>y.x&&(y.w+=y.x,y.x=0),y.y+y.h>v&&(y.h=v-y.y),y.x+y.w>u&&(y.w=u-y.x));var $=A.x-y.x,Z=A.y-y.y,Ea=$+A.w-y.w,Fa=Z+A.h-y.h,J,S;if(0<Ea*$&&(w.scrollLeft||w==e||w.scrollWidth>w.offsetHeight)){J=Math[0>$?"max":"min"]($,Ea);if(C&&(8==k&&!t||9<=k))J=-J;S=w.scrollLeft;w.scrollLeft+=J;J=w.scrollLeft-S;A.x-=J}if(0<Fa*Z&&(w.scrollTop||w==e||w.scrollHeight>w.offsetHeight))J=
Math.ceil(Math[0>Z?"max":"min"](Z,Fa)),S=w.scrollTop,w.scrollTop+=J,J=w.scrollTop-S,A.y-=J;w=w!=e&&!H&&w.parentNode}}}catch(ja){console.error("scrollIntoView: "+ja),c.scrollIntoView(!1)}}};c.setObject("dojo.window",q);return q})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(c,p,m,l,h,s,k){var q={_isElementShown:function(c){var b=l.get(c);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=
b.display&&"hidden"!=m.get(c,"type")},hasDefaultTabStop:function(c){switch(c.nodeName.toLowerCase()){case "a":return m.has(c,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var e=c.contentDocument;if("designMode"in e&&"on"==e.designMode)return!0;b=e.body}catch(a){try{b=c.contentWindow.document.body}catch(d){return!1}}return b&&("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==
c.contentEditable}},effectiveTabIndex:function(c){return m.get(c,"disabled")?void 0:m.has(c,"tabIndex")?+m.get(c,"tabIndex"):q.hasDefaultTabStop(c)?0:void 0},isTabNavigable:function(c){return 0<=q.effectiveTabIndex(c)},isFocusable:function(c){return-1<=q.effectiveTabIndex(c)},_getTabNavigable:function(c){function b(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var e,a,d,h,k,l,p={},v=q._isElementShown,A=q.effectiveTabIndex,w=function(c){for(c=
c.firstChild;c;c=c.nextSibling)if(!(1!=c.nodeType||9>=s("ie")&&"HTML"!==c.scopeName||!v(c))){var g=A(c);if(0<=g){if(0==g)e||(e=c),a=c;else if(0<g){if(!d||g<h)h=g,d=c;if(!k||g>=l)l=g,k=c}g=b(c);m.get(c,"checked")&&g&&(p[g]=c)}"SELECT"!=c.nodeName.toUpperCase()&&w(c)}};v(c)&&w(c);return{first:p[b(e)]||e,last:p[b(a)]||a,lowest:p[b(d)]||d,highest:p[b(k)]||k}},getFirstInTabbingOrder:function(c,b){var e=q._getTabNavigable(p.byId(c,b));return e.lowest?e.lowest:e.first},getLastInTabbingOrder:function(c,b){var e=
q._getTabNavigable(p.byId(c,b));return e.last?e.last:e.highest}};h.mixin(k,q);return q})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(c,p,m,l,h){var s=h.doc.documentElement;h=l("ie");var k=l("opera"),q=Math.floor,g=l("ff"),b=c.boxModel.replace(/-/,""),k={dj_quirks:l("quirks"),dj_opera:k,dj_khtml:l("khtml"),dj_webkit:l("webkit"),dj_safari:l("safari"),dj_chrome:l("chrome"),dj_gecko:l("mozilla"),dj_ios:l("ios"),dj_android:l("android")};
h&&(k.dj_ie=!0,k["dj_ie"+q(h)]=!0,k.dj_iequirks=l("quirks"));g&&(k["dj_ff"+q(g)]=!0);k["dj_"+b]=!0;var e="",a;for(a in k)k[a]&&(e+=a+" ");s.className=p.trim(s.className+" "+e);m(function(){if(!c.isBodyLtr()){var a="dj_rtl dijitRtl "+e.replace(/ /g,"-rtl ");s.className=p.trim(s.className+" "+a+"dj_rtl dijitRtl "+e.replace(/ /g,"-rtl "))}});return l})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(c,p,m,l){m(function(){p("highcontrast")&&
c.add(l.body(),"dijit_a11y")});return p})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(c,p,m,l,h,s,k){h.add("highcontrast",function(){var m=k.doc.createElement("div");m.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(p.blankGif||c.toUrl("./resources/blank.gif"))+'");';k.body().appendChild(m);var g=l.getComputedStyle(m),b=g.backgroundImage,
g=g.borderTopColor==g.borderRightColor||b&&("none"==b||"url(invalid-url:)"==b);8>=h("ie")?m.outerHTML="":k.body().removeChild(m);return g});s(function(){h("highcontrast")&&m.add(k.body(),"dj_a11y")});return h})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(c,p,m,l,h,s,k,q,g,b,e,a){p=p("dijit._CssStateMixin",[],{hovering:!1,
active:!1,_applyAttributes:function(){this.inherited(arguments);c.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,s.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(d){b=b.concat(c.map(b,function(a){return a+d}),"dijit"+d)}var b=this.baseClass.split(" ");
this.isLeftToRight()||a("Rtl");var e="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(e);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var e=this.stateNode||this.domNode,g={};c.forEach(e.className.split(" "),function(a){g[a]=!0});"_stateClasses"in this&&c.forEach(this._stateClasses,function(a){delete g[a]});c.forEach(b,
function(a){g[a]=!0});var h=[],k;for(k in g)h.push(k);e.className=h.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,c){function e(c){l.toggle(a,b+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":case "MSPointerOver":case "pointerover":l.toggle(a,b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":l.toggle(a,b+"Hover",!1);e(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":e(!0);
break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":e(!1);break;case "focus":case "focusin":l.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":l.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});q(function(){function c(b,d,e){if(!e||!m.isDescendant(e,d))for(;d&&d!=e;d=d.parentNode)if(d._cssState){var g=a.getEnclosingWidget(d);g&&(d==g.domNode?g._cssMouseEvent(b):g._subnodeCssMouseEvent(d,d._cssState,b))}}var h=b.body(),l;k(h,
g.over,function(a){c(a,a.target,a.relatedTarget)});k(h,g.out,function(a){c(a,a.target,a.relatedTarget)});k(h,e.press,function(a){l=a.target;c(a,l)});k(h,e.release,function(a){c(a,l);l=null});k(h,"focusin, focusout",function(b){var c=b.target;if(c._cssState&&!c.getAttribute("widgetId")){var d=a.getEnclosingWidget(c);d&&d._subnodeCssMouseEvent(c,c._cssState,b)}})});return p})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),
function(c,p,m,l,h,s,k,q){var g=p("dijit._TemplatedMixin",q,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(b){var c=this.declaredClass,a=this;return k.substitute(b,this,function(b,g){"!"==g.charAt(0)&&(b=l.getObject(g.substr(1),!1,a));if("undefined"==typeof b)throw Error(c+" template:"+g);return null==b?"":"!"==g.charAt(0)?b:this._escapeValue(""+b)},this)},_escapeValue:function(b){return b.replace(/["'<>&]/g,function(b){return{"\x26":"\x26amp;",
"\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[b]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=c(this.templatePath,{sanitize:!0}));var b=g.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),e;if(l.isString(b)){if(e=m.toDom(this._stringRepl(b),this.ownerDocument),1!=e.nodeType)throw Error("Invalid template: "+b);}else e=b.cloneNode(!0);this.domNode=e}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);
this._rendered=!0},_fillContent:function(b){var c=this.containerNode;if(b&&c)for(;b.hasChildNodes();)c.appendChild(b.firstChild)}});g._templateCache={};g.getCachedTemplate=function(b,c,a){var d=g._templateCache,h=b,l=d[h];if(l){try{if(!l.ownerDocument||l.ownerDocument==(a||document))return l}catch(q){}m.destroy(l)}b=k.trim(b);if(c||b.match(/\$\{([^\}]+)\}/g))return d[h]=b;c=m.toDom(b,a);if(1!=c.nodeType)throw Error("Invalid template: "+b);return d[h]=c};s("ie")&&h(window,"unload",function(){var b=
g._templateCache,c;for(c in b){var a=b[c];"object"==typeof a&&m.destroy(a);delete b[c]}});return g})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(c){return c.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(c,p,m,l){var h;h=function(b,c,a){l(b,{sync:!!c}).then(a)};var s={},k=function(b){if(b){b=b.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var c=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(b=
c[1])}else b="";return b},q={},g={};c.cache=function(b,c,a){var d;"string"==typeof b?/\//.test(b)?(d=b,a=c):d=p.toUrl(b.replace(/\./g,"/")+(c?"/"+c:"")):(d=b+"",a=c);b=void 0!=a&&"string"!=typeof a?a.value:a;a=a&&a.sanitize;if("string"==typeof b)return s[d]=b,a?k(b):b;if(null===b)return delete s[d],null;d in s||h(d,!0,function(a){s[d]=a});return a?k(s[d]):s[d]};return{dynamic:!0,normalize:function(b,c){var a=b.split("!"),d=a[0];return(/^\./.test(d)?c(d):d)+(a[1]?"!"+a[1]:"")},load:function(b,c,a){b=
b.split("!");var d=1<b.length,l=b[0],m=c.toUrl(b[0]);b="url:"+m;var p=q,u=function(b){a(d?k(b):b)};l in s?p=s[l]:c.cache&&b in c.cache?p=c.cache[b]:m in s&&(p=s[m]);if(p===q)if(g[m])g[m].push(u);else{var v=g[m]=[u];h(m,!c.async,function(a){s[l]=s[m]=a;for(var b=0;b<v.length;)v[b++](a);delete g[m]})}else u(p)}}})},"dojo/request":function(){define(["./request/default!"],function(c){return c})},"dojo/request/default":function(){define(["exports","require","../has"],function(c,p,m){var l=m("config-requestProvider");
l||(l="./xhr");c.getPlatformDefaultId=function(){return"./xhr"};c.load=function(c,m,k,q){p(["platform"==c?"./xhr":l],function(c){k(c)})}})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(c,p){var m={};p.setObject("dojo.string",m);m.rep=function(c,h){if(0>=h||!c)return"";for(var m=[];;){h&1&&m.push(c);if(!(h>>=1))break;c+=c}return m.join("")};m.pad=function(c,h,p,k){p||(p="0");c=String(c);h=m.rep(p,Math.ceil((h-c.length)/p.length));return k?c+h:h+c};m.substitute=function(l,
h,m,k){k=k||c.global;m=m?p.hitch(k,m):function(c){return c};return l.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(c,g,b){c=p.getObject(g,!1,h);b&&(c=p.getObject(b,!1,k).call(k,c,g));return m(c,g).toString()})};m.trim=String.prototype.trim?p.trim:function(c){c=c.replace(/^\s+/,"");for(var h=c.length-1;0<=h;h--)if(/\S/.test(c.charAt(h))){c=c.substring(0,h+1);break}return c};return m})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(c,p,m,l,h,s,k,q,g){var b=h.delegate(q,{mouseenter:s.enter,mouseleave:s.leave,keypress:m._keypress}),e;m=l("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||
this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,b,c){var e=!0,g=this.attachScope||this,k=b(a,"dojoAttachPoint")||b(a,"data-dojo-attach-point");if(k)for(var l=k.split(/\s*,\s*/);k=l.shift();)h.isArray(g[k])?g[k].push(a):g[k]=a,e="containerNode"!=k,this._attachPoints.push(k);if(b=b(a,"dojoAttachEvent")||b(a,"data-dojo-attach-event")){k=b.split(/\s*,\s*/);for(l=h.trim;b=k.shift();)if(b){var m=
null;-1!=b.indexOf(":")?(m=b.split(":"),b=l(m[0]),m=l(m[1])):b=l(b);m||(m=b);this._attachEvents.push(c(a,b,h.hitch(g,m)))}}return e},_attach:function(a,d,g){d=d.replace(/^on/,"").toLowerCase();d="dijitclick"==d?e||(e=c("./a11yclick")):b[d]||d;return k(a,d,g)},_detachTemplateNodes:function(){var a=this.attachScope||this;p.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];p.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});h.extend(g,{dojoAttachEvent:"",dojoAttachPoint:""});return m})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(c,p,m,l,h,s,k,q,g,b){return p("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,
_setIdAttr:"focusNode",_setDisabledAttr:function(e){this._set("disabled",e);m.set(this.focusNode,"disabled",e);this.valueNode&&m.set(this.valueNode,"disabled",e);this.focusNode.setAttribute("aria-disabled",e?"true":"false");e?(this._set("hovering",!1),this._set("active",!1),e="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",c.forEach(h.isArray(e)?e:[e],function(a){a=this[a];q("webkit")||b.hasDefaultTabStop(a)?a.setAttribute("tabIndex",
"-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(b){if("mouse"==b&&this.isFocusable())var a=this.own(k(this.focusNode,"focus",function(){c.remove();a.remove()}))[0],c=this.own(k(this.ownerDocumentBody,"mouseup, touchend",h.hitch(this,function(b){c.remove();a.remove();this.focused&&("touchend"==b.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){g.scrollIntoView(this.domNode)});this.inherited(arguments)},
isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=l.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(b){}},compare:function(b,a){return"number"==typeof b&&"number"==typeof a?isNaN(b)&&isNaN(a)?0:b-a:b>a?1:b<a?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(b,a){if(void 0==this._lastValueReported&&(null===a||!this._onChangeActive))this._resetValue=this._lastValueReported=b;this._pendingOnChange=
this._pendingOnChange||typeof b!=typeof this._lastValueReported||0!=this.compare(b,this._lastValueReported);if((this.intermediateChanges||a||void 0===a)&&this._pendingOnChange)this._lastValueReported=b,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(b)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&
(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(c,p,m,l){var h=c("dijit.form._ButtonMixin"+(m("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(c){c.stopPropagation();c.preventDefault();this.disabled||this.valueNode.click(c);return!1},_onClick:function(c){if(this.disabled)return c.stopPropagation(),c.preventDefault(),
!1;!1===this.onClick(c)&&c.preventDefault();var h=c.defaultPrevented;if(!h&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var m=this.domNode;m.parentNode;m=m.parentNode){var g=l.byNode(m);if(g&&"function"==typeof g._onSubmit){g._onSubmit(c);c.preventDefault();h=!0;break}}return!h},postCreate:function(){this.inherited(arguments);p.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(c){this._set("label",c);(this.containerNode||this.focusNode).innerHTML=
c}});m("dojo-bidi")&&(h=c("dijit.form._ButtonMixin",h,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return h})},"dojo/io-query":function(){define(["./_base/lang"],function(c){var p={};return{objectToQuery:function(m){var l=encodeURIComponent,h=[],s;for(s in m){var k=m[s];if(k!=p[s]){var q=l(s)+"\x3d";if(c.isArray(k))for(var g=0,b=k.length;g<b;++g)h.push(q+l(k[g]));else h.push(q+l(k))}}return h.join("\x26")},queryToObject:function(m){var l=
decodeURIComponent;m=m.split("\x26");for(var h={},p,k,q=0,g=m.length;q<g;++q)if(k=m[q],k.length){var b=k.indexOf("\x3d");0>b?(p=l(k),k=""):(p=l(k.slice(0,b)),k=l(k.slice(b+1)));"string"==typeof h[p]&&(h[p]=[h[p]]);c.isArray(h[p])?h[p].push(k):h[p]=k}return h}}})},"dojo/json":function(){define(["./has"],function(c){var p="undefined"!=typeof JSON;c.add("json-parse",p);c.add("json-stringify",p&&'{"a":1}'==JSON.stringify({a:0},function(c,h){return h||1}));if(c("json-stringify"))return JSON;var m=function(c){return('"'+
c.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:c("json-parse")?JSON.parse:function(c,h){if(h&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(c))throw new SyntaxError("Invalid characters in JSON");return eval("("+c+")")},stringify:function(c,h,p){function k(c,b,e){h&&(c=h(e,c));var a;a=typeof c;if("number"==a)return isFinite(c)?
c+"":"null";if("boolean"==a)return c+"";if(null===c)return"null";if("string"==typeof c)return m(c);if("function"==a||"undefined"==a)return q;if("function"==typeof c.toJSON)return k(c.toJSON(e),b,e);if(c instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,b,d){a=c["getUTC"+b]()+(d?1:0);return 10>a?"0"+a:a});if(c.valueOf()!==c)return k(c.valueOf(),b,e);var d=p?b+p:"",l=p?" ":"",x=p?"\n":"";if(c instanceof Array){var l=c.length,t=[];
for(e=0;e<l;e++)a=k(c[e],d,e),"string"!=typeof a&&(a="null"),t.push(x+d+a);return"["+t.join(",")+x+b+"]"}t=[];for(e in c){var u;if(c.hasOwnProperty(e)){if("number"==typeof e)u='"'+e+'"';else if("string"==typeof e)u=m(e);else continue;a=k(c[e],d,e);"string"==typeof a&&t.push(x+d+u+":"+l+a)}}return"{"+t.join(",")+x+b+"}"}var q;"string"==typeof h&&(p=h,h=null);return k(c,"","")}}})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(c,
p,m,l,h){var s=l.trim,k=m.forEach,q="BackCompat"==h.doc.compatMode,g=!1,b=function(){return!0},e=function(a){a=0<="\x3e~+".indexOf(a.slice(-1))?a+" * ":a+" ";for(var b=function(b,c){return s(a.slice(b,c))},c=[],d=-1,e=-1,h=-1,k=-1,l=-1,m=-1,r=-1,p,q="",t="",v,u=0,w=a.length,x=null,y=null,A=function(){0<=m&&(x.id=b(m,u).replace(/\\/g,""),m=-1);if(0<=r){var a=r==u?null:b(r,u);x[0>"\x3e~+".indexOf(a)?"tag":"oper"]=a;r=-1}0<=l&&(x.classes.push(b(l+1,u).replace(/\\/g,"")),l=-1)};q=t,t=a.charAt(u),u<w;u++)if("\\"!=
q)if(x||(v=u,x={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return g?this.otag:this.tag}},r=u),p)t==p&&(p=null);else if("'"==t||'"'==t)p=t;else if(0<=d)if("]"==t){y.attr?y.matchFor=b(h||d+1,u):y.attr=b(d+1,u);if((d=y.matchFor)&&('"'==d.charAt(0)||"'"==d.charAt(0)))y.matchFor=d.slice(1,-1);y.matchFor&&(y.matchFor=y.matchFor.replace(/\\/g,""));x.attrs.push(y);y=null;d=h=-1}else"\x3d"==t&&(h=0<="|~^$*".indexOf(q)?q:"",y.type=h+t,y.attr=b(d+1,u-h.length),h=u+
1);else 0<=e?")"==t&&(0<=k&&(y.value=b(e+1,u)),k=e=-1):"#"==t?(A(),m=u+1):"."==t?(A(),l=u):":"==t?(A(),k=u):"["==t?(A(),d=u,y={}):"("==t?(0<=k&&(y={name:b(k+1,u),value:null},x.pseudos.push(y)),e=u):" "==t&&q!=t&&(A(),0<=k&&x.pseudos.push({name:b(k+1,u)}),x.loops=x.pseudos.length||x.attrs.length||x.classes.length,x.oquery=x.query=b(v,u),x.otag=x.tag=x.oper?null:x.tag||"*",x.tag&&(x.tag=x.tag.toUpperCase()),c.length&&c[c.length-1].oper&&(x.infixOper=c.pop(),x.query=x.infixOper.query+" "+x.query),c.push(x),
x=null);return c},a=function(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}},d=function(a,b){var c=b||[];a&&c.push(a);return c},r=function(a){return 1==a.nodeType},x=function(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(g?a.getAttribute(b):a.getAttribute(b,2))||""},t={"*\x3d":function(a,b){return function(c){return 0<=x(c,a).indexOf(b)}},"^\x3d":function(a,b){return function(c){return 0==x(c,a).indexOf(b)}},
"$\x3d":function(a,b){return function(c){c=" "+x(c,a);var d=c.lastIndexOf(b);return-1<d&&d==c.length-b.length}},"~\x3d":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+x(b,a)+" ").indexOf(c)}},"|\x3d":function(a,b){var c=b+"-";return function(d){d=x(d,a);return d==b||0==d.indexOf(c)}},"\x3d":function(a,b){return function(c){return x(c,a)==b}}},u="undefined"==typeof h.doc.firstChild.nextElementSibling,v=!u?"nextElementSibling":"nextSibling",A=!u?"previousElementSibling":"previousSibling",
w=u?r:b,y=function(a){for(;a=a[A];)if(w(a))return!1;return!0},H=function(a){for(;a=a[v];)if(w(a))return!1;return!0},C=function(a){var b=a.parentNode,b=7!=b.nodeType?b:b.nextSibling,c=0,d=b.children||b.childNodes,e=a._i||a.getAttribute("_i")||-1,g=b._l||("undefined"!==typeof b.getAttribute?b.getAttribute("_l"):-1);if(!d)return-1;d=d.length;if(g==d&&0<=e&&0<=g)return e;p("ie")&&"undefined"!==typeof b.setAttribute?b.setAttribute("_l",d):b._l=d;e=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[v])w(b)&&
(p("ie")?b.setAttribute("_i",++c):b._i=++c,a===b&&(e=c));return e},U=function(a){return!(C(a)%2)},R=function(a){return C(a)%2},Y={checked:function(a,b){return function(a){return!!("checked"in a?a.checked:a.selected)}},disabled:function(a,b){return function(a){return a.disabled}},enabled:function(a,b){return function(a){return!a.disabled}},"first-child":function(){return y},"last-child":function(){return H},"only-child":function(a,b){return function(a){return y(a)&&H(a)}},empty:function(a,b){return function(a){var b=
a.childNodes;for(a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return!1}return!0}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var c=e(b)[0],d={el:1};"*"!=c.tag&&(d.tag=1);c.classes.length||(d.classes=1);var g=Z(c,d);return function(a){return!g(a)}},"nth-child":function(a,b){var c=parseInt;if("odd"==b)return R;if("even"==b)return U;if(-1!=b.indexOf("n")){var d=b.split("n",
2),e=d[0]?"-"==d[0]?-1:c(d[0]):1,g=d[1]?c(d[1]):0,h=0,k=-1;0<e?0>g?g=g%e&&e+g%e:0<g&&(g>=e&&(h=g-g%e),g%=e):0>e&&(e*=-1,0<g&&(k=g,g%=e));if(0<e)return function(a){a=C(a);return a>=h&&(0>k||a<=k)&&a%e==g};b=g}var l=c(b);return function(a){return C(a)==l}}},$=9>p("ie")||9==p("ie")&&p("quirks")?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return g?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},Z=function(c,
d){if(!c)return b;d=d||{};var e=null;"el"in d||(e=a(e,r));"tag"in d||"*"!=c.tag&&(e=a(e,function(a){return a&&(g?a.tagName:a.tagName.toUpperCase())==c.getTag()}));"classes"in d||k(c.classes,function(b,c,d){var g=RegExp("(?:^|\\s)"+b+"(?:\\s|$)");e=a(e,function(a){return g.test(a.className)});e.count=c});"pseudos"in d||k(c.pseudos,function(b){var c=b.name;Y[c]&&(e=a(e,Y[c](c,b.value)))});"attrs"in d||k(c.attrs,function(b){var c,d=b.attr;b.type&&t[b.type]?c=t[b.type](d,b.matchFor):d.length&&(c=$(d));
c&&(e=a(e,c))});"id"in d||c.id&&(e=a(e,function(a){return!!a&&a.id==c.id}));e||"default"in d||(e=b);return e},Ea=function(a){return function(b,c,d){for(;b=b[v];)if(!u||r(b)){(!d||W(b,d))&&a(b)&&c.push(b);break}return c}},Fa=function(a){return function(b,c,d){for(b=b[v];b;){if(w(b)){if(d&&!W(b,d))break;a(b)&&c.push(b)}b=b[v]}return c}},J=function(a){a=a||b;return function(b,c,d){for(var e=0,g=b.children||b.childNodes;b=g[e++];)w(b)&&((!d||W(b,d))&&a(b,e))&&c.push(b);return c}},S={},ja=function(a){var e=
S[a.query];if(e)return e;var g=a.infixOper,g=g?g.oper:"",k=Z(a,{el:1}),l="*"==a.tag,m=h.doc.getElementsByClassName;if(g)m={el:1},l&&(m.tag=1),k=Z(a,m),"+"==g?e=Ea(k):"~"==g?e=Fa(k):"\x3e"==g&&(e=J(k));else if(a.id)k=!a.loops&&l?b:Z(a,{el:1,id:1}),e=function(b,e){var g=c.byId(a.id,b.ownerDocument||b);if(g&&k(g)){if(9==b.nodeType)return d(g,e);for(var h=g.parentNode;h&&h!=b;)h=h.parentNode;if(h)return d(g,e)}};else if(m&&/\{\s*\[native code\]\s*\}/.test(String(m))&&a.classes.length&&!q)var k=Z(a,{el:1,
classes:1,id:1}),r=a.classes.join(" "),e=function(a,b,c){b=d(0,b);for(var e,g=0,h=a.getElementsByClassName(r);e=h[g++];)k(e,a)&&W(e,c)&&b.push(e);return b};else!l&&!a.loops?e=function(b,c,e){c=d(0,c);for(var g=0,h=a.getTag(),h=h?b.getElementsByTagName(h):[];b=h[g++];)W(b,e)&&c.push(b);return c}:(k=Z(a,{el:1,tag:1,id:1}),e=function(b,c,e){c=d(0,c);for(var g,h=0,l=(g=a.getTag())?b.getElementsByTagName(g):[];g=l[h++];)k(g,b)&&W(g,e)&&c.push(g);return c});return S[a.query]=e},T={},I={},O=function(a){var b=
e(s(a));if(1==b.length){var c=ja(b[0]);return function(a){if(a=c(a,[]))a.nozip=!0;return a}}return function(a){a=d(a);for(var c,e,g=b.length,h,k,l=0;l<g;l++){k=[];c=b[l];e=a.length-1;0<e&&(h={},k.nozip=!0);e=ja(c);for(var m=0;c=a[m];m++)e(c,k,h);if(!k.length)break;a=k}return k}},ka=p("ie")?"commentStrip":"nozip",B=!!h.doc.querySelectorAll,ta=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,da=function(a,b,c,d){return c?(b?b+" ":"")+c+(d?" "+d:""):a},Q=/([^[]*)([^\]]*])?/g,Ba=function(a,b,c){return b.replace(ta,
da)+(c||"")},V=function(a,b){a=a.replace(Q,Ba);if(B){var c=I[a];if(c&&!b)return c}if(c=T[a])return c;var c=a.charAt(0),d=-1==a.indexOf(" ");0<=a.indexOf("#")&&d&&(b=!0);if(B&&!b&&-1=="\x3e~+".indexOf(c)&&(!p("ie")||-1==a.indexOf(":"))&&!(q&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf(":checked")&&-1==a.indexOf("|\x3d")){var e=0<="\x3e~+".indexOf(a.charAt(a.length-1))?a+" *":a;return I[a]=function(b){try{if(!(9==b.nodeType||d))throw"";var c=b.querySelectorAll(e);c[ka]=!0;return c}catch(g){return V(a,
!0)(b)}}}var g=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return T[a]=2>g.length?O(a):function(a){for(var b=0,c=[],d;d=g[b++];)c=c.concat(O(d)(a));return c}},N=0,Pa=p("ie")?function(a){return g?a.getAttribute("_uid")||a.setAttribute("_uid",++N)||N:a.uniqueID}:function(a){return a._uid||(a._uid=++N)},W=function(a,b){if(!b)return 1;var c=Pa(a);return!b[c]?b[c]=1:0},Ga=function(a){if(a&&a.nozip)return a;if(!a||!a.length)return[];if(2>a.length)return[a[0]];var b=[];N++;var c,d;if(p("ie")&&
g){var e=N+"";for(c=0;c<a.length;c++)if((d=a[c])&&d.getAttribute("_zipIdx")!=e)b.push(d),d.setAttribute("_zipIdx",e)}else if(p("ie")&&a.commentStrip)try{for(c=0;c<a.length;c++)(d=a[c])&&r(d)&&b.push(d)}catch(h){}else for(c=0;c<a.length;c++)if((d=a[c])&&d._zipIdx!=N)b.push(d),d._zipIdx=N;return b},Ha=function(a,b){b=b||h.doc;g="div"===(b.ownerDocument||b).createElement("div").tagName;var c=V(a)(b);return c&&c.nozip?c:Ga(c)};Ha.filter=function(a,b,d){for(var g=[],h=e(b),h=1==h.length&&!/[^\w#\.]/.test(b)?
Z(h[0]):function(a){return-1!=m.indexOf(Ha(b,c.byId(d)),a)},k=0,l;l=a[k];k++)h(l)&&g.push(l);return g};return Ha})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(c,p,m,l,h){function s(a,b){var d=a.xhr;a.status=a.xhr.status;a.text=d.responseText;"xml"===a.options.handleAs&&(a.data=d.responseXML);if(!b)try{m(a)}catch(e){b=e}b?this.reject(b):l.checkStatus(d.status)?this.resolve(a):(b=new c("Unable to load "+a.url+" status: "+d.status,
a),this.reject(b))}function k(a){return this.xhr.getResponseHeader(a)}function q(m,t,x){var w=l.parseArgs(m,l.deepCreate(r,t),h("native-formdata")&&t&&t.data&&t.data instanceof FormData);m=w.url;t=w.options;var y,H=l.deferred(w,a,g,b,s,function(){y&&y()}),C=w.xhr=q._create();if(!C)return H.cancel(new c("XHR was not created")),x?H:H.promise;w.getHeader=k;e&&(y=e(C,H,w));var U=t.data,R=!t.sync,Y=t.method;try{C.open(Y,m,R,t.user||d,t.password||d);t.withCredentials&&(C.withCredentials=t.withCredentials);
var $=t.headers;m="application/x-www-form-urlencoded";if($)for(var Z in $)"content-type"===Z.toLowerCase()?m=$[Z]:$[Z]&&C.setRequestHeader(Z,$[Z]);m&&!1!==m&&C.setRequestHeader("Content-Type",m);(!$||!("X-Requested-With"in $))&&C.setRequestHeader("X-Requested-With","XMLHttpRequest");l.notify&&l.notify.emit("send",w,H.promise.cancel);C.send(U)}catch(Ea){H.reject(Ea)}p(H);C=null;return x?H:H.promise}h.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});h.add("dojo-force-activex-xhr",
function(){return h("activex")&&!document.addEventListener&&"file:"===window.location.protocol});h.add("native-xhr2",function(){if(h("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});h.add("native-formdata",function(){return"function"===typeof FormData});var g,b,e,a;h("native-xhr2")?(g=function(a){return!this.isFulfilled()},a=function(a,b){b.xhr.abort()},e=function(a,b,d){function e(a){b.handleResponse(d)}
function g(a){a=new c("Unable to load "+d.url+" status: "+a.target.status,d);b.handleResponse(d,a)}function h(a){a.lengthComputable&&(d.loaded=a.loaded,d.total=a.total,b.progress(d))}a.addEventListener("load",e,!1);a.addEventListener("error",g,!1);a.addEventListener("progress",h,!1);return function(){a.removeEventListener("load",e,!1);a.removeEventListener("error",g,!1);a.removeEventListener("progress",h,!1);a=null}}):(g=function(a){return a.xhr.readyState},b=function(a){return 4===a.xhr.readyState},
a=function(a,b){var c=b.xhr,d=typeof c.abort;("function"===d||"object"===d||"unknown"===d)&&c.abort()});var d,r={data:null,query:null,sync:!1,method:"GET"};q._create=function(){throw Error("XMLHTTP not available");};if(h("native-xhr")&&!h("dojo-force-activex-xhr"))q._create=function(){return new XMLHttpRequest};else if(h("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),q._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(x){try{new ActiveXObject("Microsoft.XMLHTTP"),q._create=
function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(t){}}l.addCommonMethods(q);return q})},"dojo/errors/RequestError":function(){define(["./create"],function(c){return c("RequestError",function(c,m){this.response=m})})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(c,p,m,l,h,s){function k(){for(var c=+new Date,a=0,d;a<b.length&&(d=b[a]);a++){var h=
d.response,k=h.options;if(d.isCanceled&&d.isCanceled()||d.isValid&&!d.isValid(h))b.splice(a--,1),q._onAction&&q._onAction();else if(d.isReady&&d.isReady(h))b.splice(a--,1),d.handleResponse(h),q._onAction&&q._onAction();else if(d.startTime&&d.startTime+(k.timeout||0)<c)b.splice(a--,1),d.cancel(new p("Timeout exceeded",h)),q._onAction&&q._onAction()}q._onInFlight&&q._onInFlight(d);b.length||(clearInterval(g),g=null)}function q(c){c.response.options.timeout&&(c.startTime=+new Date);c.isFulfilled()||
(b.push(c),g||(g=setInterval(k,50)),c.response.options.sync&&k())}var g=null,b=[];q.cancelAll=function(){try{l.forEach(b,function(a){try{a.cancel(new m("All requests canceled."))}catch(b){}})}catch(c){}};h&&(s&&h.doc.attachEvent)&&s(h.global,"unload",function(){q.cancelAll()});return q})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),function(c,p,m,l,h,s,k,q){function g(a){return e(a)}
function b(a){return a.data||a.text}c.deepCopy=function(a,b){for(var e in b){var g=a[e],h=b[e];g!==h&&(g&&"object"===typeof g&&h&&"object"===typeof h?c.deepCopy(g,h):a[e]=h)}return a};c.deepCreate=function(a,b){b=b||{};var e=k.delegate(a),g,h;for(g in a)(h=a[g])&&"object"===typeof h&&(e[g]=c.deepCreate(h,b[g]));return c.deepCopy(e,b)};var e=Object.freeze||function(a){return a};c.deferred=function(a,d,h,s,t,u){var v=new l(function(b){d&&d(v,a);return!b||!(b instanceof p)&&!(b instanceof m)?new m("Request canceled",
a):b});v.response=a;v.isValid=h;v.isReady=s;v.handleResponse=t;h=v.then(g).otherwise(function(b){b.response=a;throw b;});c.notify&&h.then(k.hitch(c.notify,"emit","load"),k.hitch(c.notify,"emit","error"));s=h.then(b);t=new q;for(var A in s)s.hasOwnProperty(A)&&(t[A]=s[A]);t.response=h;e(t);u&&v.then(function(a){u.call(v,a)},function(b){u.call(v,a,b)});v.promise=t;v.then=t.then;return v};c.addCommonMethods=function(a,b){s.forEach(b||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=
function(c,d){d=k.delegate(d||{});d.method=b;return a(c,d)}})};c.parseArgs=function(a,b,c){var e=b.data,g=b.query;e&&!c&&"object"===typeof e&&(b.data=h.objectToQuery(e));g?("object"===typeof g&&(g=h.objectToQuery(g)),b.preventCache&&(g+=(g?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(g="request.preventCache\x3d"+ +new Date);a&&g&&(a+=(~a.indexOf("?")?"\x26":"?")+g);return{url:a,options:b,getHeader:function(a){return null}}};c.checkStatus=function(a){a=a||0;return 200<=a&&300>
a||304===a||1223===a||!a}})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(c,p){return c("RequestTimeoutError",null,p,{dojoType:"timeout"})})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(c,p,m,l){function h(c){var b=q[c.options.handleAs];c.data=b?b(c):c.data||c.text;return c}l.add("activex","undefined"!==typeof ActiveXObject);l.add("dom-parser",function(c){return"DOMParser"in
c});var s;if(l("activex")){var k=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];s=function(c){var b=c.data;b&&(l("dom-qsa2.1")&&!b.querySelectorAll&&l("dom-parser"))&&(b=(new DOMParser).parseFromString(c.text,"application/xml"));if(!b||!b.documentElement){var e=c.text;m.some(k,function(a){try{var c=new ActiveXObject(a);c.async=!1;c.loadXML(e);b=c}catch(g){return!1}return!0})}return b}}var q={javascript:function(c){return p.eval(c.text||"")},json:function(g){return c.parse(g.text||
null)},xml:s};h.register=function(c,b){q[c]=b};return h})},"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n'}});
(function(){var c=this.require;c({cache:{}});!c.async&&c(["dojo"]);c.boot&&c.apply(null,c.boot)})();
//# sourceMappingURL=dojo.js.map